(self.webpackChunkplane=self.webpackChunkplane||[]).push([[179],{2011:(Ke,we,O)=>{"use strict";O.d(we,{hO:()=>Ve,xv:()=>le,Dh:()=>ae,GT:()=>ge,cc:()=>Ie,on:()=>j,pX:()=>ee});var c=O(5e3),Q=O(127),P=O(5813);Ke=O.hmd(Ke);const ue=["ngOnDestroy"],ee=(de,Ae,ke,ce={})=>new Proxy(de,{get:(me,be)=>ke.runOutsideAngular(()=>{var Ue;if(de[be])return(null===(Ue=null==ce?void 0:ce.spy)||void 0===Ue?void 0:Ue.get)&&ce.spy.get(be,de[be]),de[be];if(ue.indexOf(be)>-1)return()=>{};const He=Ae.toPromise().then(re=>{const Y=re&&re[be];return"function"==typeof Y?Y.bind(re):Y&&Y.then?Y.then(se=>ke.run(()=>se)):ke.run(()=>Y)});return new Proxy(()=>{},{get:(re,Y)=>He[Y],apply:(re,Y,se)=>He.then(_e=>{var oe;const xe=_e&&_e(...se);return(null===(oe=null==ce?void 0:ce.spy)||void 0===oe?void 0:oe.apply)&&ce.spy.apply(be,se,xe),xe})})})}),ge=(de,Ae)=>{Ae.forEach(ke=>{Object.getOwnPropertyNames(ke.prototype||ke).forEach(ce=>{Object.defineProperty(de.prototype,ce,Object.getOwnPropertyDescriptor(ke.prototype||ke,ce))})})};class J{constructor(Ae){return Ae}}const ae=new c.OlP("angularfire2.app.options"),le=new c.OlP("angularfire2.app.name");function j(de,Ae,ke){const me="object"==typeof ke&&ke||{};me.name=me.name||"string"==typeof ke&&ke||"[DEFAULT]";const Ue=Q.Z.apps.filter(He=>He&&He.name===me.name)[0]||Ae.runOutsideAngular(()=>Q.Z.initializeApp(de,me));try{JSON.stringify(de)!==JSON.stringify(Ue.options)&&U("error",`${Ue.name} Firebase App already initialized with different options${Ke.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(He){}return new J(Ue)}const U=(de,...Ae)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[de](...Ae)},X={provide:J,useFactory:j,deps:[ae,c.R0b,[new c.FiY,le]]};let Ve=(()=>{class de{constructor(ke){Q.Z.registerVersion("angularfire",P.q4.full,"core"),Q.Z.registerVersion("angularfire",P.q4.full,"app-compat"),Q.Z.registerVersion("angular",c.q4F.full,ke.toString())}static initializeApp(ke,ce){return{ngModule:de,providers:[{provide:ae,useValue:ke},{provide:le,useValue:ce}]}}}return de.\u0275fac=function(ke){return new(ke||de)(c.LFG(c.Lbi))},de.\u0275mod=c.oAB({type:de}),de.\u0275inj=c.cJS({providers:[X]}),de})();function Ie(de,Ae,ke,ce,me){const[,be,Ue]=globalThis.\u0275AngularfireInstanceCache.find(He=>He[0]===de)||[];if(be)return function Me(de,Ae){try{return de.toString()===Ae.toString()}catch(ke){return de===Ae}}(me,Ue)||(q("error",`${Ae} was already initialized on the ${ke} Firebase App with different settings.${Fe?" You may need to reload as Firebase is not HMR aware.":""}`),q("warn",{is:me,was:Ue})),be;{const He=ce();return globalThis.\u0275AngularfireInstanceCache.push([de,He,me]),He}}const Fe=!!Ke.hot,q=(de,...Ae)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[de](...Ae)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Ke,we,O)=>{"use strict";O.d(we,{q4:()=>Us,iC:()=>gs,HU:()=>Wa,vb:()=>zc,JM:()=>jc});var c=O(5e3),Q=O(5867),P=O(5861),ue=O(9681),ee=O(2090),ge=O(4859),J=O(1877),ae=O(2940);const le="@firebase/installations",j="0.5.5",X=`w:${j}`,Ve="FIS_v2",Ae=new ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ke(w){return w instanceof ee.ZR&&w.code.includes("request-failed")}function ce({projectId:w}){return`https://firebaseinstallations.googleapis.com/v1/projects/${w}/installations`}function me(w){return{token:w.token,requestStatus:2,expiresIn:_e(w.expiresIn),creationTime:Date.now()}}function be(w,I){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,P.Z)(function*(w,I){const L=(yield I.json()).error;return Ae.create("request-failed",{requestName:w,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function He({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function re(w,{refreshToken:I}){const k=He(w);return k.append("Authorization",function oe(w){return`${Ve} ${w}`}(I)),k}function Y(w){return se.apply(this,arguments)}function se(){return(se=(0,P.Z)(function*(w){const I=yield w();return I.status>=500&&I.status<600?w():I})).apply(this,arguments)}function _e(w){return Number(w.replace("s","000"))}function xe(w,I){return fe.apply(this,arguments)}function fe(){return(fe=(0,P.Z)(function*(w,{fid:I}){const k=ce(w),ie={method:"POST",headers:He(w),body:JSON.stringify({fid:I,authVersion:Ve,appId:w.appId,sdkVersion:X})},pe=yield Y(()=>fetch(k,ie));if(pe.ok){const Oe=yield pe.json();return{fid:Oe.fid||I,registrationStatus:2,refreshToken:Oe.refreshToken,authToken:me(Oe.authToken)}}throw yield be("Create Installation",pe)})).apply(this,arguments)}function dt(w){return new Promise(I=>{setTimeout(I,w)})}const Rn=/^[cdef][\w-]{21}$/;function ct(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const k=function rn(w){return function Ot(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return Rn.test(k)?k:""}catch(w){return""}}function Pt(w){return`${w.appName}!${w.appId}`}const On=new Map;function zt(w,I){const k=Pt(w);Tt(k,I),function or(w,I){const k=function $n(){return!Ti&&"BroadcastChannel"in self&&(Ti=new BroadcastChannel("[Firebase] FID Change"),Ti.onmessage=w=>{Tt(w.data.key,w.data.fid)}),Ti}();k&&k.postMessage({key:w,fid:I}),function si(){0===On.size&&Ti&&(Ti.close(),Ti=null)}()}(k,I)}function Tt(w,I){const k=On.get(w);if(k)for(const L of k)L(I)}let Ti=null;const gi="firebase-installations-store";let lr=null;function rt(){return lr||(lr=(0,ae.openDb)("firebase-installations-database",1,w=>{0===w.oldVersion&&w.createObjectStore(gi)})),lr}function Ai(w,I){return sn.apply(this,arguments)}function sn(){return(sn=(0,P.Z)(function*(w,I){const k=Pt(w),Z=(yield rt()).transaction(gi,"readwrite"),ie=Z.objectStore(gi),pe=yield ie.get(k);return yield ie.put(I,k),yield Z.complete,(!pe||pe.fid!==I.fid)&&zt(w,I.fid),I})).apply(this,arguments)}function gn(w){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,P.Z)(function*(w){const I=Pt(w),L=(yield rt()).transaction(gi,"readwrite");yield L.objectStore(gi).delete(I),yield L.complete})).apply(this,arguments)}function mi(w,I){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,P.Z)(function*(w,I){const k=Pt(w),Z=(yield rt()).transaction(gi,"readwrite"),ie=Z.objectStore(gi),pe=yield ie.get(k),Oe=I(pe);return void 0===Oe?yield ie.delete(k):yield ie.put(Oe,k),yield Z.complete,Oe&&(!pe||pe.fid!==Oe.fid)&&zt(w,Oe.fid),Oe})).apply(this,arguments)}function Jt(w){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,P.Z)(function*(w){let I;const k=yield mi(w,L=>{const Z=es(L),ie=At(w,Z);return I=ie.registrationPromise,ie.installationEntry});return""===k.fid?{installationEntry:yield I}:{installationEntry:k,registrationPromise:I}})).apply(this,arguments)}function es(w){return br(w||{fid:ct(),registrationStatus:0})}function At(w,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(Ae.create("app-offline"))};const k={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},L=function Qe(w,I){return at.apply(this,arguments)}(w,k);return{installationEntry:k,registrationPromise:L}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Jn(w)}:{installationEntry:I}}function at(){return(at=(0,P.Z)(function*(w,I){try{return Ai(w,yield xe(w,I))}catch(k){throw ke(k)&&409===k.customData.serverCode?yield gn(w):yield Ai(w,{fid:I.fid,registrationStatus:0}),k}})).apply(this,arguments)}function Jn(w){return qi.apply(this,arguments)}function qi(){return(qi=(0,P.Z)(function*(w){let I=yield Et(w);for(;1===I.registrationStatus;)yield dt(100),I=yield Et(w);if(0===I.registrationStatus){const{installationEntry:k,registrationPromise:L}=yield Jt(w);return L||k}return I})).apply(this,arguments)}function Et(w){return mi(w,I=>{if(!I)throw Ae.create("installation-not-found");return br(I)})}function br(w){return function ei(w){return 1===w.registrationStatus&&w.registrationTime+1e4<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function oi(w,I){return B.apply(this,arguments)}function B(){return(B=(0,P.Z)(function*({appConfig:w,platformLoggerProvider:I},k){const L=z(w,k),Z=re(w,k),ie=I.getImmediate({optional:!0});ie&&Z.append("x-firebase-client",ie.getPlatformInfoString());const Oe={method:"POST",headers:Z,body:JSON.stringify({installation:{sdkVersion:X}})},Ge=yield Y(()=>fetch(L,Oe));if(Ge.ok)return me(yield Ge.json());throw yield be("Generate Auth Token",Ge)})).apply(this,arguments)}function z(w,{fid:I}){return`${ce(w)}/${I}/authTokens:generate`}function G(w){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,P.Z)(function*(w,I=!1){let k;const L=yield mi(w.appConfig,ie=>{if(!We(ie))throw Ae.create("not-registered");const pe=ie.authToken;if(!I&&yt(pe))return ie;if(1===pe.requestStatus)return k=ne(w,I),ie;{if(!navigator.onLine)throw Ae.create("app-offline");const Oe=Lt(ie);return k=ye(w,Oe),Oe}});return k?yield k:L.authToken})).apply(this,arguments)}function ne(w,I){return je.apply(this,arguments)}function je(){return(je=(0,P.Z)(function*(w,I){let k=yield Ee(w.appConfig);for(;1===k.authToken.requestStatus;)yield dt(100),k=yield Ee(w.appConfig);const L=k.authToken;return 0===L.requestStatus?G(w,I):L})).apply(this,arguments)}function Ee(w){return mi(w,I=>{if(!We(I))throw Ae.create("not-registered");return function Xt(w){return 1===w.requestStatus&&w.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function ye(w,I){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,P.Z)(function*(w,I){try{const k=yield oi(w,I),L=Object.assign(Object.assign({},I),{authToken:k});return yield Ai(w.appConfig,L),k}catch(k){if(!ke(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const L=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Ai(w.appConfig,L)}else yield gn(w.appConfig);throw k}})).apply(this,arguments)}function We(w){return void 0!==w&&2===w.registrationStatus}function yt(w){return 2===w.requestStatus&&!function et(w){const I=Date.now();return I<w.creationTime||w.creationTime+w.expiresIn<I+36e5}(w)}function Lt(w){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:I})}function Fo(){return(Fo=(0,P.Z)(function*(w){const I=w,{installationEntry:k,registrationPromise:L}=yield Jt(I.appConfig);return L?L.catch(console.error):G(I).catch(console.error),k.fid})).apply(this,arguments)}function Lo(){return(Lo=(0,P.Z)(function*(w,I=!1){const k=w;return yield In(k.appConfig),(yield G(k,I)).token})).apply(this,arguments)}function In(w){return ai.apply(this,arguments)}function ai(){return(ai=(0,P.Z)(function*(w){const{registrationPromise:I}=yield Jt(w);I&&(yield I)})).apply(this,arguments)}function so(w){return Ae.create("missing-app-config-values",{valueName:w})}const yi="installations",vt=w=>{const I=w.getProvider("app").getImmediate(),k=function Wn(w){if(!w||!w.options)throw so("App Configuration");if(!w.name)throw so("App Name");const I=["projectId","apiKey","appId"];for(const k of I)if(!w.options[k])throw so(k);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(I);return{app:I,appConfig:k,platformLoggerProvider:(0,ue._getProvider)(I,"platform-logger"),_delete:()=>Promise.resolve()}},Wt=w=>{const I=w.getProvider("app").getImmediate(),k=(0,ue._getProvider)(I,yi).getImmediate();return{getId:()=>function Ma(w){return Fo.apply(this,arguments)}(k),getToken:Z=>function ka(w){return Lo.apply(this,arguments)}(k,Z)}};(function li(){(0,ue._registerComponent)(new ge.wA(yi,vt,"PUBLIC")),(0,ue._registerComponent)(new ge.wA("installations-internal",Wt,"PRIVATE"))})(),(0,ue.registerVersion)(le,j),(0,ue.registerVersion)(le,j,"esm2017");const Er="@firebase/remote-config",on=new ee.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ec{constructor(I,k,L,Z){this.client=I,this.storage=k,this.storageCache=L,this.logger=Z}isCachedDataFresh(I,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-k,Z=L<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${Z}.`),Z}fetch(I){var k=this;return(0,P.Z)(function*(){const[L,Z]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(Z&&k.isCachedDataFresh(I.cacheMaxAgeMillis,L))return Z;I.eTag=Z&&Z.eTag;const ie=yield k.client.fetch(I),pe=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ie.status&&pe.push(k.storage.setLastSuccessfulFetchResponse(ie)),yield Promise.all(pe),ie})()}}function Ra(w=navigator){return w.languages&&w.languages[0]||w.language}class wn{constructor(I,k,L,Z,ie,pe){this.firebaseInstallations=I,this.sdkVersion=k,this.namespace=L,this.projectId=Z,this.apiKey=ie,this.appId=pe}fetch(I){var k=this;return(0,P.Z)(function*(){const[L,Z]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),pe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,Oe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},Ge={sdk_version:k.sdkVersion,app_instance_id:L,app_instance_id_token:Z,app_id:k.appId,language_code:Ra()},mt={method:"POST",headers:Oe,body:JSON.stringify(Ge)},jt=fetch(pe,mt),vn=new Promise((Ui,Qi)=>{I.signal.addEventListener(()=>{const ca=new Error("The operation was aborted.");ca.name="AbortError",Qi(ca)})});let Yn;try{yield Promise.race([jt,vn]),Yn=yield jt}catch(Ui){let Qi="fetch-client-network";throw"AbortError"===Ui.name&&(Qi="fetch-timeout"),on.create(Qi,{originalErrorMessage:Ui.message})}let Dn=Yn.status;const ms=Yn.headers.get("ETag")||void 0;let Vi,pr;if(200===Yn.status){let Ui;try{Ui=yield Yn.json()}catch(Qi){throw on.create("fetch-client-parse",{originalErrorMessage:Qi.message})}Vi=Ui.entries,pr=Ui.state}if("INSTANCE_STATE_UNSPECIFIED"===pr?Dn=500:"NO_CHANGE"===pr?Dn=304:("NO_TEMPLATE"===pr||"EMPTY_CONFIG"===pr)&&(Vi={}),304!==Dn&&200!==Dn)throw on.create("fetch-status",{httpStatus:Dn});return{status:Dn,eTag:ms,config:Vi}})()}}class Dr{constructor(I,k){this.client=I,this.storage=k}fetch(I){var k=this;return(0,P.Z)(function*(){const L=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(I,L)})()}attemptFetch(I,{throttleEndTimeMillis:k,backoffCount:L}){var Z=this;return(0,P.Z)(function*(){yield function wc(w,I){return new Promise((k,L)=>{const Z=Math.max(I-Date.now(),0),ie=setTimeout(k,Z);w.addEventListener(()=>{clearTimeout(ie),L(on.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,k);try{const ie=yield Z.client.fetch(I);return yield Z.storage.deleteThrottleMetadata(),ie}catch(ie){if(!function Zh(w){if(!(w instanceof ee.ZR&&w.customData))return!1;const I=Number(w.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ie))throw ie;const pe={throttleEndTimeMillis:Date.now()+(0,ee.$s)(L),backoffCount:L+1};return yield Z.storage.setThrottleMetadata(pe),Z.attemptFetch(I,pe)}})()}}class Kh{constructor(I,k,L,Z,ie){this.app=I,this._client=k,this._storageCache=L,this._storage=Z,this._logger=ie,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Vo(w,I){const k=w.target.error||void 0;return on.create(I,{originalErrorMessage:k&&k.message})}const co="app_namespace_store";class Ic{constructor(I,k,L,Z=function Xh(){return new Promise((w,I)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=L=>{I(Vo(L,"storage-open"))},k.onsuccess=L=>{w(L.target.result)},k.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(co,{keyPath:"compositeKey"})}}catch(k){I(on.create("storage-open",{originalErrorMessage:k}))}})}()){this.appId=I,this.appName=k,this.namespace=L,this.openDbPromise=Z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var k=this;return(0,P.Z)(function*(){const L=yield k.openDbPromise;return new Promise((Z,ie)=>{const Oe=L.transaction([co],"readonly").objectStore(co),Ge=k.createCompositeKey(I);try{const mt=Oe.get(Ge);mt.onerror=jt=>{ie(Vo(jt,"storage-get"))},mt.onsuccess=jt=>{const vn=jt.target.result;Z(vn?vn.value:void 0)}}catch(mt){ie(on.create("storage-get",{originalErrorMessage:mt&&mt.message}))}})})()}set(I,k){var L=this;return(0,P.Z)(function*(){const Z=yield L.openDbPromise;return new Promise((ie,pe)=>{const Ge=Z.transaction([co],"readwrite").objectStore(co),mt=L.createCompositeKey(I);try{const jt=Ge.put({compositeKey:mt,value:k});jt.onerror=vn=>{pe(Vo(vn,"storage-set"))},jt.onsuccess=()=>{ie()}}catch(jt){pe(on.create("storage-set",{originalErrorMessage:jt&&jt.message}))}})})()}delete(I){var k=this;return(0,P.Z)(function*(){const L=yield k.openDbPromise;return new Promise((Z,ie)=>{const Oe=L.transaction([co],"readwrite").objectStore(co),Ge=k.createCompositeKey(I);try{const mt=Oe.delete(Ge);mt.onerror=jt=>{ie(Vo(jt,"storage-delete"))},mt.onsuccess=()=>{Z()}}catch(mt){ie(on.create("storage-delete",{originalErrorMessage:mt&&mt.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class uo{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,P.Z)(function*(){const k=I.storage.getLastFetchStatus(),L=I.storage.getLastSuccessfulFetchTimestampMillis(),Z=I.storage.getActiveConfig(),ie=yield k;ie&&(I.lastFetchStatus=ie);const pe=yield L;pe&&(I.lastSuccessfulFetchTimestampMillis=pe);const Oe=yield Z;Oe&&(I.activeConfig=Oe)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function mg(){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,P.Z)(function*(){if(!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch(w){return!1}})).apply(this,arguments)}!function Jh(){(0,ue._registerComponent)(new ge.wA("remote-config",function w(I,{instanceIdentifier:k}){const L=I.getProvider("app").getImmediate(),Z=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw on.create("registration-window");if(!(0,ee.hl)())throw on.create("indexed-db-unavailable");const{projectId:ie,apiKey:pe,appId:Oe}=L.options;if(!ie)throw on.create("registration-project-id");if(!pe)throw on.create("registration-api-key");if(!Oe)throw on.create("registration-app-id");const Ge=new Ic(Oe,L.name,k=k||"firebase"),mt=new uo(Ge),jt=new J.Yd(Er);jt.logLevel=J.in.ERROR;const vn=new wn(Z,ue.SDK_VERSION,k,ie,pe,Oe),Yn=new Dr(vn,Ge),Dn=new Ec(Yn,Ge,mt,jt),ms=new Kh(L,Dn,mt,Ge,jt);return function Vt(w){const I=(0,ee.m9)(w);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(ms),ms},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(Er,"0.3.4"),(0,ue.registerVersion)(Er,"0.3.4","esm2017")}();const rs="/firebase-messaging-sw.js",xi="/firebase-cloud-messaging-push-scope",As="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",fo="google.c.a.c_id",Sc="google.c.a.c_l",ef="google.c.a.ts",bi="google.c.a.e";var Sr=(()=>{return(w=Sr||(Sr={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",Sr;var w})();function Ri(w){const I=new Uint8Array(w);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ac(w){const k=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(k),Z=new Uint8Array(L.length);for(let ie=0;ie<L.length;++ie)Z[ie]=L.charCodeAt(ie);return Z}const qn="fcm_token_details_db",Mc="fcm_token_object_Store";function kc(w){return Pa.apply(this,arguments)}function Pa(){return Pa=(0,P.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ie=>ie.name).includes(qn))return null;let I=null;return(yield(0,ae.openDb)(qn,5,function(){var L=(0,P.Z)(function*(Z){var ie;if(Z.oldVersion<2||!Z.objectStoreNames.contains(Mc))return;const pe=Z.transaction.objectStore(Mc),Oe=yield pe.index("fcmSenderId").get(w);if(yield pe.clear(),Oe)if(2===Z.oldVersion){const Ge=Oe;if(!Ge.auth||!Ge.p256dh||!Ge.endpoint)return;I={token:Ge.fcmToken,createTime:null!==(ie=Ge.createTime)&&void 0!==ie?ie:Date.now(),subscriptionOptions:{auth:Ge.auth,p256dh:Ge.p256dh,endpoint:Ge.endpoint,swScope:Ge.swScope,vapidKey:"string"==typeof Ge.vapidKey?Ge.vapidKey:Ri(Ge.vapidKey)}}}else if(3===Z.oldVersion){const Ge=Oe;I={token:Ge.fcmToken,createTime:Ge.createTime,subscriptionOptions:{auth:Ri(Ge.auth),p256dh:Ri(Ge.p256dh),endpoint:Ge.endpoint,swScope:Ge.swScope,vapidKey:Ri(Ge.vapidKey)}}}else if(4===Z.oldVersion){const Ge=Oe;I={token:Ge.fcmToken,createTime:Ge.createTime,subscriptionOptions:{auth:Ri(Ge.auth),p256dh:Ri(Ge.p256dh),endpoint:Ge.endpoint,swScope:Ge.swScope,vapidKey:Ri(Ge.vapidKey)}}}});return function(Z){return L.apply(this,arguments)}}())).close(),yield(0,ae.deleteDb)(qn),yield(0,ae.deleteDb)("fcm_vapid_details_db"),yield(0,ae.deleteDb)("undefined"),Na(I)?I:null}),Pa.apply(this,arguments)}function Na(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:I}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const Tr="firebase-messaging-store";let yl=null;function qt(){return yl||(yl=(0,ae.openDb)("firebase-messaging-database",1,w=>{0===w.oldVersion&&w.createObjectStore(Tr)})),yl}function Ho(w){return ss.apply(this,arguments)}function ss(){return(ss=(0,P.Z)(function*(w){const I=Fn(w),L=yield(yield qt()).transaction(Tr).objectStore(Tr).get(I);if(L)return L;{const Z=yield kc(w.appConfig.senderId);if(Z)return yield Ut(w,Z),Z}})).apply(this,arguments)}function Ut(w,I){return La.apply(this,arguments)}function La(){return(La=(0,P.Z)(function*(w,I){const k=Fn(w),Z=(yield qt()).transaction(Tr,"readwrite");return yield Z.objectStore(Tr).put(I,k),yield Z.complete,I})).apply(this,arguments)}function jo(w){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,P.Z)(function*(w){const I=Fn(w),L=(yield qt()).transaction(Tr,"readwrite");yield L.objectStore(Tr).delete(I),yield L.complete})).apply(this,arguments)}function Fn({appConfig:w}){return w.appId}const ln=new ee.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ar(w,I){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,P.Z)(function*(w,I){const k=yield as(w),L=zo(I),Z={method:"POST",headers:k,body:JSON.stringify(L)};let ie;try{ie=yield(yield fetch(os(w.appConfig),Z)).json()}catch(pe){throw ln.create("token-subscribe-failed",{errorInfo:pe})}if(ie.error)throw ln.create("token-subscribe-failed",{errorInfo:ie.error.message});if(!ie.token)throw ln.create("token-subscribe-no-token");return ie.token})).apply(this,arguments)}function po(w,I){return cr.apply(this,arguments)}function cr(){return(cr=(0,P.Z)(function*(w,I){const k=yield as(w),L=zo(I.subscriptionOptions),Z={method:"PATCH",headers:k,body:JSON.stringify(L)};let ie;try{ie=yield(yield fetch(`${os(w.appConfig)}/${I.token}`,Z)).json()}catch(pe){throw ln.create("token-update-failed",{errorInfo:pe})}if(ie.error)throw ln.create("token-update-failed",{errorInfo:ie.error.message});if(!ie.token)throw ln.create("token-update-no-token");return ie.token})).apply(this,arguments)}function vl(w,I){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,P.Z)(function*(w,I){const L={method:"DELETE",headers:yield as(w)};try{const ie=yield(yield fetch(`${os(w.appConfig)}/${I}`,L)).json();if(ie.error)throw ln.create("token-unsubscribe-failed",{errorInfo:ie.error.message})}catch(Z){throw ln.create("token-unsubscribe-failed",{errorInfo:Z})}})).apply(this,arguments)}function os({projectId:w}){return`https://fcmregistrations.googleapis.com/v1/projects/${w}/registrations`}function as(w){return nt.apply(this,arguments)}function nt(){return(nt=(0,P.Z)(function*({appConfig:w,installations:I}){const k=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function zo({p256dh:w,auth:I,endpoint:k,vapidKey:L}){const Z={web:{endpoint:k,auth:I,p256dh:w}};return L!==As&&(Z.web.applicationPubKey=L),Z}const Go=6048e5;function xc(w){return $o.apply(this,arguments)}function $o(){return($o=(0,P.Z)(function*(w){const I=yield en(w.swRegistration,w.vapidKey),k={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:I.endpoint,auth:Ri(I.getKey("auth")),p256dh:Ri(I.getKey("p256dh"))},L=yield Ho(w.firebaseDependencies);if(L){if(Zo(L.subscriptionOptions,k))return Date.now()>=L.createTime+Go?qu(w,{token:L.token,createTime:Date.now(),subscriptionOptions:k}):L.token;try{yield vl(w.firebaseDependencies,L.token)}catch(Z){console.warn(Z)}return wt(w.firebaseDependencies,k)}return wt(w.firebaseDependencies,k)})).apply(this,arguments)}function bl(w){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,P.Z)(function*(w){const I=yield Ho(w.firebaseDependencies);I&&(yield vl(w.firebaseDependencies,I.token),yield jo(w.firebaseDependencies));const k=yield w.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function qu(w,I){return De.apply(this,arguments)}function De(){return(De=(0,P.Z)(function*(w,I){try{const k=yield po(w.firebaseDependencies,I),L=Object.assign(Object.assign({},I),{token:k,createTime:Date.now()});return yield Ut(w.firebaseDependencies,L),k}catch(k){throw yield bl(w),k}})).apply(this,arguments)}function wt(w,I){return qo.apply(this,arguments)}function qo(){return(qo=(0,P.Z)(function*(w,I){const L={token:yield Ar(w,I),createTime:Date.now(),subscriptionOptions:I};return yield Ut(w,L),L.token})).apply(this,arguments)}function en(w,I){return ls.apply(this,arguments)}function ls(){return(ls=(0,P.Z)(function*(w,I){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ac(I)})})).apply(this,arguments)}function Zo(w,I){return I.vapidKey===w.vapidKey&&I.endpoint===w.endpoint&&I.auth===w.auth&&I.p256dh===w.p256dh}function di(w){const I={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function Cl(w,I){if(!I.notification)return;w.notification={};const k=I.notification.title;k&&(w.notification.title=k);const L=I.notification.body;L&&(w.notification.body=L);const Z=I.notification.image;Z&&(w.notification.image=Z)}(I,w),function El(w,I){!I.data||(w.data=I.data)}(I,w),function Rc(w,I){if(!I.fcmOptions)return;w.fcmOptions={};const k=I.fcmOptions.link;k&&(w.fcmOptions.link=k);const L=I.fcmOptions.analytics_label;L&&(w.fcmOptions.analyticsLabel=L)}(I,w),I}function Oc(w){return"object"==typeof w&&!!w&&fo in w}function Yo(w,I){const k=[];for(let L=0;L<w.length;L++)k.push(w.charAt(L)),L<I.length&&k.push(I.charAt(L));return k.join("")}function Tn(w){return ln.create("missing-app-config-values",{valueName:w})}Yo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Yo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Zi{constructor(I,k,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Z=function go(w){if(!w||!w.options)throw Tn("App Configuration Object");if(!w.name)throw Tn("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:k}=w;for(const L of I)if(!k[L])throw Tn(L);return{appName:w.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:Z,installations:k,analyticsProvider:L}}_delete(){return Promise.resolve()}}function wl(w){return ur.apply(this,arguments)}function ur(){return(ur=(0,P.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(rs,{scope:xi}),w.swRegistration.update().catch(()=>{})}catch(I){throw ln.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function Mr(w,I){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,P.Z)(function*(w,I){if(!I&&!w.swRegistration&&(yield wl(w)),I||!w.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw ln.create("invalid-sw-registration");w.swRegistration=I}})).apply(this,arguments)}function Pc(w,I){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,P.Z)(function*(w,I){I?w.vapidKey=I:w.vapidKey||(w.vapidKey=As)})).apply(this,arguments)}function ks(){return(ks=(0,P.Z)(function*(w,I){if(!navigator)throw ln.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ln.create("permission-blocked");return yield Pc(w,null==I?void 0:I.vapidKey),yield Mr(w,null==I?void 0:I.serviceWorkerRegistration),xc(w)})).apply(this,arguments)}function Va(w,I,k){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,P.Z)(function*(w,I,k){const L=Dl(I);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:k[fo],message_name:k[Sc],message_time:k[ef],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Dl(w){switch(w){case Sr.NOTIFICATION_CLICKED:return"notification_open";case Sr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ua(){return(Ua=(0,P.Z)(function*(w,I){const k=I.data;if(!k.isFirebaseMessaging)return;w.onMessageHandler&&k.messageType===Sr.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(di(k)):w.onMessageHandler.next(di(k)));const L=k.data;Oc(L)&&"1"===L[bi]&&(yield Va(w,k.messageType,L))})).apply(this,arguments)}const xs="@firebase/messaging",Rs=w=>{const I=new Zi(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function tf(w,I){return Ua.apply(this,arguments)}(I,k)),I},Fc=w=>{const I=w.getProvider("messaging").getImmediate();return{getToken:L=>function Nc(w,I){return ks.apply(this,arguments)}(I,L)}};function mo(){return dr.apply(this,arguments)}function dr(){return(dr=(0,P.Z)(function*(){try{yield(0,ee.eu)()}catch(w){return!1}return"undefined"!=typeof window&&(0,ee.hl)()&&(0,ee.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Zu(){(0,ue._registerComponent)(new ge.wA("messaging",Rs,"PUBLIC")),(0,ue._registerComponent)(new ge.wA("messaging-internal",Fc,"PRIVATE")),(0,ue.registerVersion)(xs,"0.9.9"),(0,ue.registerVersion)(xs,"0.9.9","esm2017")}();const Lc="analytics",Sl="firebase_id",Tl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ha="https://www.googletagmanager.com/gtag/js",Vn=new J.Yd("@firebase/analytics");function Qu(w){return Promise.all(w.map(I=>I.catch(k=>k)))}function Rr(w,I){const k=document.createElement("script");k.src=`${Ha}?l=${w}&id=${I}`,k.async=!0,document.head.appendChild(k)}function nf(w,I,k,L,Z,ie){return ea.apply(this,arguments)}function ea(){return(ea=(0,P.Z)(function*(w,I,k,L,Z,ie){const pe=L[Z];try{if(pe)yield I[pe];else{const Ge=(yield Qu(k)).find(mt=>mt.measurementId===Z);Ge&&(yield I[Ge.appId])}}catch(Oe){Vn.error(Oe)}w("config",Z,ie)})).apply(this,arguments)}function cs(w,I,k,L,Z){return ta.apply(this,arguments)}function ta(){return(ta=(0,P.Z)(function*(w,I,k,L,Z){try{let ie=[];if(Z&&Z.send_to){let pe=Z.send_to;Array.isArray(pe)||(pe=[pe]);const Oe=yield Qu(k);for(const Ge of pe){const mt=Oe.find(vn=>vn.measurementId===Ge),jt=mt&&I[mt.appId];if(!jt){ie=[];break}ie.push(jt)}}0===ie.length&&(ie=Object.values(I)),yield Promise.all(ie),w("event",L,Z||{})}catch(ie){Vn.error(ie)}})).apply(this,arguments)}function Zn(){const w=window.document.getElementsByTagName("script");for(const I of Object.values(w))if(I.src&&I.src.includes(Ha))return I;return null}const ze=new ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Os=new class Un{constructor(I={},k=1e3){this.throttleMetadata=I,this.intervalMillis=k}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,k){this.throttleMetadata[I]=k}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Vc(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function Kt(w){return Al.apply(this,arguments)}function Al(){return(Al=(0,P.Z)(function*(w){var I;const{appId:k,apiKey:L}=w,Z={method:"GET",headers:Vc(L)},ie=Tl.replace("{app-id}",k),pe=yield fetch(ie,Z);if(200!==pe.status&&304!==pe.status){let Oe="";try{const Ge=yield pe.json();(null===(I=Ge.error)||void 0===I?void 0:I.message)&&(Oe=Ge.error.message)}catch(Ge){}throw ze.create("config-fetch-failed",{httpStatus:pe.status,responseMessage:Oe})}return pe.json()})).apply(this,arguments)}function Pr(w){return na.apply(this,arguments)}function na(){return(na=(0,P.Z)(function*(w,I=Os,k){const{appId:L,apiKey:Z,measurementId:ie}=w.options;if(!L)throw ze.create("no-app-id");if(!Z){if(ie)return{measurementId:ie,appId:L};throw ze.create("no-api-key")}const pe=I.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Oe=new kl;return setTimeout((0,P.Z)(function*(){Oe.abort()}),void 0!==k?k:6e4),Oi({appId:L,apiKey:Z,measurementId:ie},pe,Oe,I)})).apply(this,arguments)}function Oi(w,I,k){return it.apply(this,arguments)}function it(){return(it=(0,P.Z)(function*(w,{throttleEndTimeMillis:I,backoffCount:k},L,Z=Os){const{appId:ie,measurementId:pe}=w;try{yield Uc(L,I)}catch(Oe){if(pe)return Vn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${pe} provided in the "measurementId" field in the local Firebase config. [${Oe.message}]`),{appId:ie,measurementId:pe};throw Oe}try{const Oe=yield Kt(w);return Z.deleteThrottleMetadata(ie),Oe}catch(Oe){if(!Ml(Oe)){if(Z.deleteThrottleMetadata(ie),pe)return Vn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${pe} provided in the "measurementId" field in the local Firebase config. [${Oe.message}]`),{appId:ie,measurementId:pe};throw Oe}const Ge=503===Number(Oe.customData.httpStatus)?(0,ee.$s)(k,Z.intervalMillis,30):(0,ee.$s)(k,Z.intervalMillis),mt={throttleEndTimeMillis:Date.now()+Ge,backoffCount:k+1};return Z.setThrottleMetadata(ie,mt),Vn.debug(`Calling attemptFetch again in ${Ge} millis`),Oi(w,mt,L,Z)}})).apply(this,arguments)}function Uc(w,I){return new Promise((k,L)=>{const Z=Math.max(I-Date.now(),0),ie=setTimeout(k,Z);w.addEventListener(()=>{clearTimeout(ie),L(ze.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function Ml(w){if(!(w instanceof ee.ZR&&w.customData))return!1;const I=Number(w.customData.httpStatus);return 429===I||500===I||503===I||504===I}class kl{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function ia(){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,P.Z)(function*(){if(!(0,ee.hl)())return Vn.warn(ze.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ee.eu)()}catch(w){return Vn.warn(ze.create("indexeddb-unavailable",{errorInfo:w}).message),!1}return!0})).apply(this,arguments)}function Nr(){return(Nr=(0,P.Z)(function*(w,I,k,L,Z,ie,pe){var Oe;const Ge=Pr(w);Ge.then(Dn=>{k[Dn.measurementId]=Dn.appId,w.options.measurementId&&Dn.measurementId!==w.options.measurementId&&Vn.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${Dn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Dn=>Vn.error(Dn)),I.push(Ge);const mt=ia().then(Dn=>{if(Dn)return L.getId()}),[jt,vn]=yield Promise.all([Ge,mt]);Zn()||Rr(ie,jt.measurementId),Z("js",new Date);const Yn=null!==(Oe=null==pe?void 0:pe.config)&&void 0!==Oe?Oe:{};return Yn.origin="firebase",Yn.update=!0,null!=vn&&(Yn[Sl]=vn),Z("config",jt.measurementId,Yn),jt.measurementId})).apply(this,arguments)}class ja{constructor(I){this.app=I}_delete(){return delete ti[this.app.options.appId],Promise.resolve()}}let ti={},Pi=[];const Fr={};let Ns,sa,ra="dataLayer",yo=!1;function Fs(w,I,k){!function Ei(){const w=[];if((0,ee.ru)()&&w.push("This is a browser extension environment."),(0,ee.zI)()||w.push("Cookies are not available."),w.length>0){const I=w.map((L,Z)=>`(${Z+1}) ${L}`).join(" "),k=ze.create("invalid-analytics-context",{errorInfo:I});Vn.warn(k.message)}}();const L=w.options.appId;if(!L)throw ze.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw ze.create("no-api-key");Vn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ti[L])throw ze.create("already-exists",{id:L});if(!yo){!function _o(w){let I=[];Array.isArray(window[w])?I=window[w]:window[w]=I}(ra);const{wrappedGtag:ie,gtagCore:pe}=function rf(w,I,k,L,Z){let ie=function(...pe){window[L].push(arguments)};return window[Z]&&"function"==typeof window[Z]&&(ie=window[Z]),window[Z]=function Bc(w,I,k,L){function ie(){return(ie=(0,P.Z)(function*(pe,Oe,Ge){try{"event"===pe?yield cs(w,I,k,Oe,Ge):"config"===pe?yield nf(w,I,k,L,Oe,Ge):w("set",Oe)}catch(mt){Vn.error(mt)}})).apply(this,arguments)}return function Z(pe,Oe,Ge){return ie.apply(this,arguments)}}(ie,w,I,k),{gtagCore:ie,wrappedGtag:window[Z]}}(ti,Pi,Fr,ra,"gtag");sa=ie,Ns=pe,yo=!0}return ti[L]=function Ps(w,I,k,L,Z,ie,pe){return Nr.apply(this,arguments)}(w,Pi,Fr,I,Ns,ra,k),new ja(w)}function un(){return(un=(0,P.Z)(function*(w,I,k,L,Z){if(Z&&Z.global)w("event",k,L);else{const ie=yield I;w("event",k,Object.assign(Object.assign({},L),{send_to:ie}))}})).apply(this,arguments)}function Ls(){return oa.apply(this,arguments)}function oa(){return(oa=(0,P.Z)(function*(){if((0,ee.ru)()||!(0,ee.zI)()||!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch(w){return!1}})).apply(this,arguments)}const An="@firebase/analytics";!function hs(){(0,ue._registerComponent)(new ge.wA(Lc,(I,{options:k})=>Fs(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,ue._registerComponent)(new ge.wA("analytics-internal",function w(I){try{const k=I.getProvider(Lc).getImmediate();return{logEvent:(L,Z,ie)=>function Bs(w,I,k,L){w=(0,ee.m9)(w),function Ni(w,I,k,L,Z){return un.apply(this,arguments)}(sa,ti[w.app.options.appId],I,k,L).catch(Z=>Vn.error(Z))}(k,L,Z,ie)}}catch(k){throw ze.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,ue.registerVersion)(An,"0.7.5"),(0,ue.registerVersion)(An,"0.7.5","esm2017")}();var Vr=O(4408),nn=O(7565);const Vs=new class xl extends nn.v{}(class Ga extends Vr.o{constructor(I,k){super(I,k),this.scheduler=I,this.work=k}schedule(I,k=0){return k>0?super.schedule(I,k):(this.delay=k,this.state=I,this.scheduler.flush(this),this)}execute(I,k){return k>0||this.closed?super.execute(I,k):this._execute(I,k)}requestAsyncId(I,k,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(I,k,L):I.flush(this)}});var Rl=O(4986),ni=O(8505),Li=O(9468),Ol=O(5363);const Us=new c.GfV("7.2.1"),Yi="__angularfire_symbol__analyticsIsSupportedValue",fr="__angularfire_symbol__analyticsIsSupported",aa="__angularfire_symbol__remoteConfigIsSupportedValue",Pl="__angularfire_symbol__remoteConfigIsSupported",Nl="__angularfire_symbol__messagingIsSupportedValue",bt="__angularfire_symbol__messagingIsSupported";function jc(w,I,k){if(I){if(1===I.length)return I[0];const ie=I.filter(pe=>pe.app===k);if(1===ie.length)return ie[0]}return k.container.getProvider(w).getImmediate({optional:!0})}globalThis[fr]||(globalThis[fr]=Ls().then(w=>globalThis[Yi]=w).catch(()=>globalThis[Yi]=!1)),globalThis[bt]||(globalThis[bt]=mo().then(w=>globalThis[Nl]=w).catch(()=>globalThis[Nl]=!1)),globalThis[Pl]||(globalThis[Pl]=mg().then(w=>globalThis[aa]=w).catch(()=>globalThis[aa]=!1));const zc=(w,I)=>{const k=I?[I]:(0,Q.C6)(),L=[];return k.forEach(Z=>{Z.container.getProvider(w).instances.forEach(pe=>{L.includes(pe)||L.push(pe)})}),L};function fs(){}class Ki{constructor(I,k=Vs){this.zone=I,this.delegate=k}now(){return this.delegate.now()}schedule(I,k,L){const Z=this.zone;return this.delegate.schedule(function(pe){Z.runGuarded(()=>{I.apply(this,[pe])})},k,L)}}class $a{constructor(I){this.zone=I,this.task=null}call(I,k){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fs,{},fs,fs)),k.pipe((0,ni.b)({next:L,complete:L,error:L})).subscribe(I).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Wa=(()=>{class w{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new Ki(Zone.current)),this.insideAngular=k.run(()=>new Ki(Zone.current,Rl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(k){return new(k||w)(c.LFG(c.R0b))},w.\u0275prov=c.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function ps(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function gs(w){return ps(),function bo(w){return function(k){return(k=k.lift(new $a(w.ngZone))).pipe((0,Li.R)(w.outsideAngular),(0,Ol.Q)(w.insideAngular))}}(ps())(w)}},2090:(Ke,we,O)=>{"use strict";O.d(we,{BH:()=>Ve,LL:()=>fe,ZR:()=>xe,gQ:()=>gi,zI:()=>se,hu:()=>Q,g5:()=>P,US:()=>ge,tV:()=>le,h$:()=>J,$s:()=>Et,r3:()=>Si,Sg:()=>Ie,ne:()=>lr,p$:()=>j,vZ:()=>Ti,ZB:()=>U,gK:()=>mi,pd:()=>Xr,m9:()=>oi,z$:()=>Me,GJ:()=>zt,jU:()=>de,ru:()=>Ae,xb:()=>Tt,w1:()=>me,hl:()=>re,uI:()=>Fe,UG:()=>q,Yr:()=>Ue,b$:()=>ke,w9:()=>On,cI:()=>Rn,UI:()=>or,xO:()=>si,zd:()=>ar,DV:()=>Nt,ug:()=>At,dS:()=>es,Pz:()=>Ye,Dv:()=>Jr,Wj:()=>Jt,lb:()=>Mi,eu:()=>Y});const Q=function(B,z){if(!B)throw P(z)},P=function(B){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+B)},ue=function(B){const z=[];let G=0;for(let Ce=0;Ce<B.length;Ce++){let ne=B.charCodeAt(Ce);ne<128?z[G++]=ne:ne<2048?(z[G++]=ne>>6|192,z[G++]=63&ne|128):55296==(64512&ne)&&Ce+1<B.length&&56320==(64512&B.charCodeAt(Ce+1))?(ne=65536+((1023&ne)<<10)+(1023&B.charCodeAt(++Ce)),z[G++]=ne>>18|240,z[G++]=ne>>12&63|128,z[G++]=ne>>6&63|128,z[G++]=63&ne|128):(z[G++]=ne>>12|224,z[G++]=ne>>6&63|128,z[G++]=63&ne|128)}return z},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(B,z){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ce=[];for(let ne=0;ne<B.length;ne+=3){const je=B[ne],Ee=ne+1<B.length,ye=Ee?B[ne+1]:0,Ne=ne+2<B.length,We=Ne?B[ne+2]:0;let Lt=(15&ye)<<2|We>>6,Xt=63&We;Ne||(Xt=64,Ee||(Lt=64)),Ce.push(G[je>>2],G[(3&je)<<4|ye>>4],G[Lt],G[Xt])}return Ce.join("")},encodeString(B,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(B):this.encodeByteArray(ue(B),z)},decodeString(B,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(B):function(B){const z=[];let G=0,Ce=0;for(;G<B.length;){const ne=B[G++];if(ne<128)z[Ce++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const je=B[G++];z[Ce++]=String.fromCharCode((31&ne)<<6|63&je)}else if(ne>239&&ne<365){const Ne=((7&ne)<<18|(63&B[G++])<<12|(63&B[G++])<<6|63&B[G++])-65536;z[Ce++]=String.fromCharCode(55296+(Ne>>10)),z[Ce++]=String.fromCharCode(56320+(1023&Ne))}else{const je=B[G++],Ee=B[G++];z[Ce++]=String.fromCharCode((15&ne)<<12|(63&je)<<6|63&Ee)}}return z.join("")}(this.decodeStringToByteArray(B,z))},decodeStringToByteArray(B,z){this.init_();const G=z?this.charToByteMapWebSafe_:this.charToByteMap_,Ce=[];for(let ne=0;ne<B.length;){const je=G[B.charAt(ne++)],ye=ne<B.length?G[B.charAt(ne)]:0;++ne;const We=ne<B.length?G[B.charAt(ne)]:64;++ne;const et=ne<B.length?G[B.charAt(ne)]:64;if(++ne,null==je||null==ye||null==We||null==et)throw Error();Ce.push(je<<2|ye>>4),64!==We&&(Ce.push(ye<<4&240|We>>2),64!==et&&Ce.push(We<<6&192|et))}return Ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}},J=function(B){const z=ue(B);return ge.encodeByteArray(z,!0)},ae=function(B){return J(B).replace(/\./g,"")},le=function(B){try{return ge.decodeString(B,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function j(B){return U(void 0,B)}function U(B,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===B&&(B={});break;case Array:B=[];break;default:return z}for(const G in z)!z.hasOwnProperty(G)||!X(G)||(B[G]=U(B[G],z[G]));return B}function X(B){return"__proto__"!==B}class Ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,G)=>{this.resolve=z,this.reject=G})}wrapCallback(z){return(G,Ce)=>{G?this.reject(G):this.resolve(Ce),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(G):z(G,Ce))}}}function Ie(B,z){if(B.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ce=z||"demo-project",ne=B.iat||0,je=B.sub||B.user_id;if(!je)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ee=Object.assign({iss:`https://securetoken.google.com/${Ce}`,aud:Ce,iat:ne,exp:ne+3600,auth_time:ne,sub:je,user_id:je,firebase:{sign_in_provider:"custom",identities:{}}},B);return[ae(JSON.stringify({alg:"none",type:"JWT"})),ae(JSON.stringify(Ee)),""].join(".")}function Me(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Fe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())}function q(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(B){return!1}}function de(){return"object"==typeof self&&self.self===self}function Ae(){const B="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof B&&void 0!==B.id}function ke(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function me(){const B=Me();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function Ue(){return!1}function re(){return"object"==typeof indexedDB}function Y(){return new Promise((B,z)=>{try{let G=!0;const Ce="validate-browser-context-for-indexeddb-analytics-module",ne=self.indexedDB.open(Ce);ne.onsuccess=()=>{ne.result.close(),G||self.indexedDB.deleteDatabase(Ce),B(!0)},ne.onupgradeneeded=()=>{G=!1},ne.onerror=()=>{var je;z((null===(je=ne.error)||void 0===je?void 0:je.message)||"")}}catch(G){z(G)}})}function se(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class xe extends Error{constructor(z,G,Ce){super(G),this.code=z,this.customData=Ce,this.name="FirebaseError",Object.setPrototypeOf(this,xe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fe.prototype.create)}}class fe{constructor(z,G,Ce){this.service=z,this.serviceName=G,this.errors=Ce}create(z,...G){const Ce=G[0]||{},ne=`${this.service}/${z}`,je=this.errors[z],Ee=je?function dt(B,z){return B.replace(Ot,(G,Ce)=>{const ne=z[Ce];return null!=ne?String(ne):`<${Ce}?>`})}(je,Ce):"Error";return new xe(ne,`${this.serviceName}: ${Ee} (${ne}).`,Ce)}}const Ot=/\{\$([^}]+)}/g;function Rn(B){return JSON.parse(B)}function Ye(B){return JSON.stringify(B)}const ct=function(B){let z={},G={},Ce={},ne="";try{const je=B.split(".");z=Rn(le(je[0])||""),G=Rn(le(je[1])||""),ne=je[2],Ce=G.d||{},delete G.d}catch(je){}return{header:z,claims:G,data:Ce,signature:ne}},On=function(B){const G=ct(B).claims;return!!G&&"object"==typeof G&&G.hasOwnProperty("iat")},zt=function(B){const z=ct(B).claims;return"object"==typeof z&&!0===z.admin};function Si(B,z){return Object.prototype.hasOwnProperty.call(B,z)}function Nt(B,z){if(Object.prototype.hasOwnProperty.call(B,z))return B[z]}function Tt(B){for(const z in B)if(Object.prototype.hasOwnProperty.call(B,z))return!1;return!0}function or(B,z,G){const Ce={};for(const ne in B)Object.prototype.hasOwnProperty.call(B,ne)&&(Ce[ne]=z.call(G,B[ne],ne,B));return Ce}function Ti(B,z){if(B===z)return!0;const G=Object.keys(B),Ce=Object.keys(z);for(const ne of G){if(!Ce.includes(ne))return!1;const je=B[ne],Ee=z[ne];if($n(je)&&$n(Ee)){if(!Ti(je,Ee))return!1}else if(je!==Ee)return!1}for(const ne of Ce)if(!G.includes(ne))return!1;return!0}function $n(B){return null!==B&&"object"==typeof B}function si(B){const z=[];for(const[G,Ce]of Object.entries(B))Array.isArray(Ce)?Ce.forEach(ne=>{z.push(encodeURIComponent(G)+"="+encodeURIComponent(ne))}):z.push(encodeURIComponent(G)+"="+encodeURIComponent(Ce));return z.length?"&"+z.join("&"):""}function ar(B){const z={};return B.replace(/^\?/,"").split("&").forEach(Ce=>{if(Ce){const[ne,je]=Ce.split("=");z[decodeURIComponent(ne)]=decodeURIComponent(je)}}),z}function Xr(B){const z=B.indexOf("?");if(!z)return"";const G=B.indexOf("#",z);return B.substring(z,G>0?G:void 0)}class gi{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let z=1;z<this.blockSize;++z)this.pad_[z]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(z,G){G||(G=0);const Ce=this.W_;if("string"==typeof z)for(let et=0;et<16;et++)Ce[et]=z.charCodeAt(G)<<24|z.charCodeAt(G+1)<<16|z.charCodeAt(G+2)<<8|z.charCodeAt(G+3),G+=4;else for(let et=0;et<16;et++)Ce[et]=z[G]<<24|z[G+1]<<16|z[G+2]<<8|z[G+3],G+=4;for(let et=16;et<80;et++){const Lt=Ce[et-3]^Ce[et-8]^Ce[et-14]^Ce[et-16];Ce[et]=4294967295&(Lt<<1|Lt>>>31)}let We,yt,ne=this.chain_[0],je=this.chain_[1],Ee=this.chain_[2],ye=this.chain_[3],Ne=this.chain_[4];for(let et=0;et<80;et++){et<40?et<20?(We=ye^je&(Ee^ye),yt=1518500249):(We=je^Ee^ye,yt=1859775393):et<60?(We=je&Ee|ye&(je|Ee),yt=2400959708):(We=je^Ee^ye,yt=3395469782);const Lt=(ne<<5|ne>>>27)+We+Ne+yt+Ce[et]&4294967295;Ne=ye,ye=Ee,Ee=4294967295&(je<<30|je>>>2),je=ne,ne=Lt}this.chain_[0]=this.chain_[0]+ne&4294967295,this.chain_[1]=this.chain_[1]+je&4294967295,this.chain_[2]=this.chain_[2]+Ee&4294967295,this.chain_[3]=this.chain_[3]+ye&4294967295,this.chain_[4]=this.chain_[4]+Ne&4294967295}update(z,G){if(null==z)return;void 0===G&&(G=z.length);const Ce=G-this.blockSize;let ne=0;const je=this.buf_;let Ee=this.inbuf_;for(;ne<G;){if(0===Ee)for(;ne<=Ce;)this.compress_(z,ne),ne+=this.blockSize;if("string"==typeof z){for(;ne<G;)if(je[Ee]=z.charCodeAt(ne),++Ee,++ne,Ee===this.blockSize){this.compress_(je),Ee=0;break}}else for(;ne<G;)if(je[Ee]=z[ne],++Ee,++ne,Ee===this.blockSize){this.compress_(je),Ee=0;break}}this.inbuf_=Ee,this.total_+=G}digest(){const z=[];let G=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ne=this.blockSize-1;ne>=56;ne--)this.buf_[ne]=255&G,G/=256;this.compress_(this.buf_);let Ce=0;for(let ne=0;ne<5;ne++)for(let je=24;je>=0;je-=8)z[Ce]=this.chain_[ne]>>je&255,++Ce;return z}}function lr(B,z){const G=new rt(B,z);return G.subscribe.bind(G)}class rt{constructor(z,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{z(this)}).catch(Ce=>{this.error(Ce)})}next(z){this.forEachObserver(G=>{G.next(z)})}error(z){this.forEachObserver(G=>{G.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,G,Ce){let ne;if(void 0===z&&void 0===G&&void 0===Ce)throw new Error("Missing Observer.");ne=function sn(B,z){if("object"!=typeof B||null===B)return!1;for(const G of z)if(G in B&&"function"==typeof B[G])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:G,complete:Ce},void 0===ne.next&&(ne.next=gn),void 0===ne.error&&(ne.error=gn),void 0===ne.complete&&(ne.complete=gn);const je=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ne.error(this.finalError):ne.complete()}catch(Ee){}}),this.observers.push(ne),je}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,z)}sendOne(z,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{G(this.observers[z])}catch(Ce){"undefined"!=typeof console&&console.error&&console.error(Ce)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gn(){}const Jr=function(B,z,G,Ce){let ne;if(Ce<z?ne="at least "+z:Ce>G&&(ne=0===G?"none":"no more than "+G),ne)throw new Error(B+" failed: Was called with "+Ce+(1===Ce?" argument.":" arguments.")+" Expects "+ne+".")};function mi(B,z){return`${B} failed: ${z} argument `}function Jt(B,z,G,Ce){if((!Ce||G)&&"function"!=typeof G)throw new Error(mi(B,z)+"must be a valid function.")}function Mi(B,z,G,Ce){if((!Ce||G)&&("object"!=typeof G||null===G))throw new Error(mi(B,z)+"must be a valid context object.")}const es=function(B){const z=[];let G=0;for(let Ce=0;Ce<B.length;Ce++){let ne=B.charCodeAt(Ce);if(ne>=55296&&ne<=56319){const je=ne-55296;Ce++,Q(Ce<B.length,"Surrogate pair missing trail surrogate."),ne=65536+(je<<10)+(B.charCodeAt(Ce)-56320)}ne<128?z[G++]=ne:ne<2048?(z[G++]=ne>>6|192,z[G++]=63&ne|128):ne<65536?(z[G++]=ne>>12|224,z[G++]=ne>>6&63|128,z[G++]=63&ne|128):(z[G++]=ne>>18|240,z[G++]=ne>>12&63|128,z[G++]=ne>>6&63|128,z[G++]=63&ne|128)}return z},At=function(B){let z=0;for(let G=0;G<B.length;G++){const Ce=B.charCodeAt(G);Ce<128?z++:Ce<2048?z+=2:Ce>=55296&&Ce<=56319?(z+=4,G++):z+=3}return z};function Et(B,z=1e3,G=2){const Ce=z*Math.pow(G,B),ne=Math.round(.5*Ce*(Math.random()-.5)*2);return Math.min(144e5,Ce+ne)}function oi(B){return B&&B._delegate?B._delegate:B}},9201:(Ke,we,O)=>{"use strict";var c=O(5e3);let Q=null;function P(){return Q}const J=new c.OlP("DocumentToken");let ae=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function le(){return(0,c.LFG)(U)}()},providedIn:"platform"}),n})();const j=new c.OlP("Location Initialized");let U=(()=>{class n extends ae{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,o){X()?this._history.pushState(e,i,o):this.location.hash=o}replaceState(e,i,o){X()?this._history.replaceState(e,i,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ve(){return new U((0,c.LFG)(J))}()},providedIn:"platform"}),n})();function X(){return!!window.history.pushState}function Ie(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Me(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Fe(n){return n&&"?"!==n[0]?"?"+n:n}let q=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function de(n){const t=(0,c.LFG)(J).location;return new ke((0,c.LFG)(ae),t&&t.origin||"")}()},providedIn:"root"}),n})();const Ae=new c.OlP("appBaseHref");let ke=(()=>{class n extends q{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ie(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Fe(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${i}${o}`:i}pushState(e,i,o,l){const d=this.prepareExternalUrl(o+Fe(l));this._platformLocation.pushState(e,i,d)}replaceState(e,i,o,l){const d=this.prepareExternalUrl(o+Fe(l));this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,o;null===(o=(i=this._platformLocation).historyGo)||void 0===o||o.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ae),c.LFG(Ae,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ce=(()=>{class n extends q{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Ie(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,o,l){let d=this.prepareExternalUrl(o+Fe(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(e,i,d)}replaceState(e,i,o,l){let d=this.prepareExternalUrl(o+Fe(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,o;null===(o=(i=this._platformLocation).historyGo)||void 0===o||o.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ae),c.LFG(Ae,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),me=(()=>{class n{constructor(e,i){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const o=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Me(He(o)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Fe(i))}normalize(e){return n.stripTrailingSlash(function Ue(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,He(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",o=null){this._platformStrategy.pushState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Fe(i)),o)}replaceState(e,i="",o=null){this._platformStrategy.replaceState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Fe(i)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,o;null===(o=(i=this._platformStrategy).historyGo)||void 0===o||o.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(o=>o(e,i))}subscribe(e,i,o){return this._subject.subscribe({next:e,error:i,complete:o})}}return n.normalizeQueryParams=Fe,n.joinWithSlash=Ie,n.stripTrailingSlash=Me,n.\u0275fac=function(e){return new(e||n)(c.LFG(q),c.LFG(ae))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function be(){return new me((0,c.LFG)(q),(0,c.LFG)(ae))}()},providedIn:"root"}),n})();function He(n){return n.replace(/\/index.html$/,"")}let Is=(()=>{class n{constructor(e,i,o,l){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=o,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class lo{constructor(t,e,i,o){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let an=(()=>{class n{constructor(e,i,o){this._viewContainer=e,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((o,l,d)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new lo(o.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)i.remove(null===l?void 0:l);else if(null!==l){const m=i.get(l);i.move(m,d),ns(m,o)}});for(let o=0,l=i.length;o<l;o++){const m=i.get(o).context;m.index=o,m.count=l,m.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{ns(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function ns(n,t){n.context.$implicit=t.item}let Nn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Vt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Cc("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Cc("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Vt{constructor(){this.$implicit=null,this.ngIf=null}}function Cc(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(t)}'.`)}class Ts{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let vi=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),ci=(()=>{class n{constructor(e,i,o){this.ngSwitch=o,o._addCase(),this._view=new Ts(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(vi,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),ml=(()=>{class n{constructor(e,i,o){o._addDefault(new Ts(e,i))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(vi,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})();class wc{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Zh{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const Dr=new Zh,Yh=new wc;let Oa=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,c.QGY)(e))return Dr;if((0,c.F4k)(e))return Yh;throw function wn(n,t){return new c.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1}),n})(),bi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Tc="browser";let Na=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new Fa((0,c.LFG)(J),window)}),n})();class Fa{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Tr(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=i.currentNode;for(;o;){const l=o.shadowRoot;if(l){const d=l.getElementById(t)||l.querySelector(`[name="${t}"]`);if(d)return d}o=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(i-l[0],o-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=_l(this.window.history)||_l(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function _l(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ss extends class Ho extends class ge{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ee(n){Q||(Q=n)}(new ss)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function La(){return Ut=Ut||document.querySelector("base"),Ut?Ut.getAttribute("href"):null}();return null==e?null:function Ms(n){jo=jo||document.createElement("a"),jo.setAttribute("href",n);const t=jo.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Ut=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function oo(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[o,l]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(o.trim()===t)return decodeURIComponent(l)}return null}(document.cookie,t)}}let jo,Ut=null;const Fn=new c.OlP("TRANSITION_ID"),ln=[{provide:c.ip1,useFactory:function Ba(n,t,e){return()=>{e.get(c.CZH).donePromise.then(()=>{const i=P(),o=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<o.length;l++)i.remove(o[l])})}},deps:[Fn,J,c.zs3],multi:!0}];class Ar{static init(){(0,c.VLi)(new Ar)}addToWindow(t){c.dqk.getAngularTestability=(i,o=!0)=>{const l=t.findTestabilityInTree(i,o);if(null==l)throw new Error("Could not find testability for element.");return l},c.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const o=c.dqk.getAllAngularTestabilities();let l=o.length,d=!1;const m=function(v){d=d||v,l--,0==l&&i(d)};o.forEach(function(v){v.whenStable(m)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const o=t.getTestability(e);return null!=o?o:i?P().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Ln=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const po=new c.OlP("EventManagerPlugins");let cr=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,o){return this._findPluginFor(i).addEventListener(e,i,o)}addGlobalEventListener(e,i,o){return this._findPluginFor(i).addGlobalEventListener(e,i,o)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const o=this._plugins;for(let l=0;l<o.length;l++){const d=o[l];if(d.supports(e))return this._eventNameToPlugin.set(e,d),d}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(po),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class vl{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const o=P().getGlobalEventTarget(this._doc,t);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,i)}}let Ci=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),i.add(o))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),os=(()=>{class n extends Ci{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,o){e.forEach(l=>{const d=this._doc.createElement("style");d.textContent=l,o.push(i.appendChild(d))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(as),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,o)=>{this._addStylesToHost(e,o,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(as))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function as(n){P().remove(n)}const nt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},zo=/%COMP%/g;function De(n,t,e){for(let i=0;i<t.length;i++){let o=t[i];Array.isArray(o)?De(n,o,e):(o=o.replace(zo,n),e.push(o))}return e}function wt(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let en=(()=>{class n{constructor(e,i,o){this.eventManager=e,this.sharedStylesHost=i,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new ls(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case c.ifc.Emulated:{let o=this.rendererByCompId.get(i.id);return o||(o=new Cl(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,o)),o.applyToHost(e),o}case 1:case c.ifc.ShadowDom:return new El(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const o=De(i.id,i.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(cr),c.LFG(os),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class ls{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(nt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,o){if(o){e=o+":"+e;const l=nt[o];l?t.setAttributeNS(l,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const o=nt[i];o?t.removeAttributeNS(o,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,o){o&(c.JOm.DashCase|c.JOm.Important)?t.style.setProperty(e,i,o&c.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&c.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,wt(i)):this.eventManager.addEventListener(t,e,wt(i))}}class Cl extends ls{constructor(t,e,i,o){super(t),this.component=i;const l=De(o+"-"+i.id,i.styles,[]);e.addStyles(l),this.contentAttr=function Wo(n){return"_ngcontent-%COMP%".replace(zo,n)}(o+"-"+i.id),this.hostAttr=function qu(n){return"_nghost-%COMP%".replace(zo,n)}(o+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class El extends ls{constructor(t,e,i,o){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=De(o.id,o.styles,[]);for(let d=0;d<l.length;d++){const m=document.createElement("style");m.textContent=l[d],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Rc=(()=>{class n extends vl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,o){return e.addEventListener(i,o,!1),()=>this.removeEventListener(e,i,o)}removeEventListener(e,i,o){return e.removeEventListener(i,o)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Oc=["alt","control","meta","shift"],go={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Tn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Zi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let wl=(()=>{class n extends vl{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,o){const l=n.parseEventName(i),d=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(e,l.domEventName,d))}static parseEventName(e){const i=e.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(i.pop());let d="";if(Oc.forEach(v=>{const D=i.indexOf(v);D>-1&&(i.splice(D,1),d+=v+".")}),d+=l,0!=i.length||0===l.length)return null;const m={};return m.domEventName=o,m.fullKey=d,m}static getEventFullKey(e){let i="",o=function ur(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Tn.hasOwnProperty(t)&&(t=Tn[t]))}return go[t]||t}(e);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Oc.forEach(l=>{l!=o&&Zi[l](e)&&(i+=l+".")}),i+=o,i}static eventCallback(e,i,o){return l=>{n.getEventFullKey(l)===e&&o.runGuarded(()=>i(l))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Nc=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:Tc},{provide:c.g9A,useValue:function Mr(){ss.makeCurrent(),Ar.init()},multi:!0},{provide:J,useFactory:function Pc(){return(0,c.RDi)(document),document},deps:[]}]),ks=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Ko(){return new c.qLn},deps:[]},{provide:po,useClass:Rc,multi:!0,deps:[J,c.R0b,c.Lbi]},{provide:po,useClass:wl,multi:!0,deps:[J]},{provide:en,useClass:en,deps:[cr,os,c.AFp]},{provide:c.FYo,useExisting:en},{provide:Ci,useExisting:os},{provide:os,useClass:os,deps:[J]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:cr,useClass:cr,deps:[po,c.R0b]},{provide:class qt{},useClass:Ln,deps:[]}];let Va=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:c.AFp,useValue:e.appId},{provide:Fn,useExisting:c.AFp},ln]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:ks,imports:[bi,c.hGG]}),n})();"undefined"!=typeof window&&window;let cs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):c.LFG(Bc),i},providedIn:"root"}),n})(),Bc=(()=>{class n extends cs{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case c.q3G.NONE:return i;case c.q3G.HTML:return(0,c.qzn)(i,"HTML")?(0,c.z3N)(i):(0,c.EiD)(this._doc,String(i)).toString();case c.q3G.STYLE:return(0,c.qzn)(i,"Style")?(0,c.z3N)(i):i;case c.q3G.SCRIPT:if((0,c.qzn)(i,"Script"))return(0,c.z3N)(i);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.yhl)(i),(0,c.qzn)(i,"URL")?(0,c.z3N)(i):(0,c.mCW)(String(i));case c.q3G.RESOURCE_URL:if((0,c.qzn)(i,"ResourceURL"))return(0,c.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,c.JVY)(e)}bypassSecurityTrustStyle(e){return(0,c.L6k)(e)}bypassSecurityTrustScript(e){return(0,c.eBb)(e)}bypassSecurityTrustUrl(e){return(0,c.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,c.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function ta(n){return new Bc(n.get(J))}(c.LFG(c.zs3)),i},providedIn:"root"}),n})();var Zn=O(8996),Or=O(3269);function ze(...n){const t=(0,Or.yG)(n);return(0,Zn.D)(n,t)}var st=O(7579);class hi extends st.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var Un=O(8306);const{isArray:Os}=Array,{getPrototypeOf:Vc,prototype:Kt,keys:Al}=Object;function Pr(n){if(1===n.length){const t=n[0];if(Os(t))return{args:t,keys:null};if(function na(n){return n&&"object"==typeof n&&Vc(n)===Kt}(t)){const e=Al(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Oi=O(4671),it=O(4004);const{isArray:Uc}=Array;function kl(n){return(0,it.U)(t=>function Ml(n,t){return Uc(t)?n(...t):n(t)}(n,t))}function ia(n,t){return n.reduce((e,i,o)=>(e[i]=t[o],e),{})}var Ht=O(5403),Ps=O(9672);function Nr(...n){const t=(0,Or.yG)(n),e=(0,Or.jO)(n),{args:i,keys:o}=Pr(n);if(0===i.length)return(0,Zn.D)([],t);const l=new Un.y(function ja(n,t,e=Oi.y){return i=>{ti(t,()=>{const{length:o}=n,l=new Array(o);let d=o,m=o;for(let v=0;v<o;v++)ti(t,()=>{const D=(0,Zn.D)(n[v],t);let A=!1;D.subscribe((0,Ht.x)(i,x=>{l[v]=x,A||(A=!0,m--),m||i.next(e(l.slice()))},()=>{--d||i.complete()}))},i)},i)}}(i,t,o?d=>ia(o,d):Oi.y));return e?l.pipe(kl(e)):l}function ti(n,t,e){n?(0,Ps.f)(e,n,t):t()}var Pi=O(576);function Fr(n,t){const e=(0,Pi.m)(n)?n:()=>n,i=o=>o.error(e());return new Un.y(t?o=>t.schedule(i,0,o):i)}const us=(0,O(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ns=O(8189);function yo(...n){return function sa(){return(0,Ns.J)(1)}()((0,Zn.D)(n,(0,Or.yG)(n)))}var Lr=O(8421);function Ei(n){return new Un.y(t=>{(0,Lr.Xf)(n()).subscribe(t)})}var Fs=O(515),Ni=O(727),un=O(4482);function Br(){return(0,un.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Ht.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const o=n._connection,l=e;e=null,o&&(!l||o===l)&&o.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class za extends Un.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,un.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ni.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Ht.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ni.w0.EMPTY)}return t}refCount(){return Br()(this)}}function dn(n,t){return(0,un.e)((e,i)=>{let o=null,l=0,d=!1;const m=()=>d&&!o&&i.complete();e.subscribe((0,Ht.x)(i,v=>{null==o||o.unsubscribe();let D=0;const A=l++;(0,Lr.Xf)(n(v,A)).subscribe(o=(0,Ht.x)(i,x=>i.next(t?t(v,x,A,D++):x),()=>{o=null,m()}))},()=>{d=!0,m()}))})}var _n=O(5698);function wi(...n){const t=(0,Or.yG)(n);return(0,un.e)((e,i)=>{(t?yo(n,e,t):yo(n,e)).subscribe(i)})}function ds(n,t,e,i,o){return(l,d)=>{let m=e,v=t,D=0;l.subscribe((0,Ht.x)(d,A=>{const x=D++;v=m?n(v,A,x):(m=!0,A),i&&d.next(v)},o&&(()=>{m&&d.next(v),d.complete()})))}}function Fi(n,t){return(0,un.e)(ds(n,t,arguments.length>=2,!0))}function yn(n,t){return(0,un.e)((e,i)=>{let o=0;e.subscribe((0,Ht.x)(i,l=>n.call(t,l,o++)&&i.next(l)))})}function hr(n){return(0,un.e)((t,e)=>{let l,i=null,o=!1;i=t.subscribe((0,Ht.x)(e,void 0,void 0,d=>{l=(0,Lr.Xf)(n(d,hr(n)(t))),i?(i.unsubscribe(),i=null,l.subscribe(e)):o=!0})),o&&(i.unsubscribe(),i=null,l.subscribe(e))})}var tn=O(5577);function Ls(n,t){return(0,Pi.m)(t)?(0,tn.z)(n,t,1):(0,tn.z)(n,1)}function oa(n){return n<=0?()=>Fs.E:(0,un.e)((t,e)=>{let i=[];t.subscribe((0,Ht.x)(e,o=>{i.push(o),n<i.length&&i.shift()},()=>{for(const o of i)e.next(o);e.complete()},void 0,()=>{i=null}))})}function hn(n=sf){return(0,un.e)((t,e)=>{let i=!1;t.subscribe((0,Ht.x)(e,o=>{i=!0,e.next(o)},()=>i?e.complete():e.error(n())))})}function sf(){return new us}function af(n){return(0,un.e)((t,e)=>{let i=!1;t.subscribe((0,Ht.x)(e,o=>{i=!0,e.next(o)},()=>{i||e.next(n),e.complete()}))})}function Bs(n,t){const e=arguments.length>=2;return i=>i.pipe(n?yn((o,l)=>n(o,l,i)):Oi.y,(0,_n.q)(1),e?af(t):hn(()=>new us))}var An=O(8505);function Hc(n){return(0,un.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class hs{constructor(t,e){this.id=t,this.url=e}}class Vr extends hs{constructor(t,e,i="imperative",o=null){super(t,e),this.navigationTrigger=i,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ga extends hs{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class nn extends hs{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xl extends hs{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Vs extends hs{constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cg extends hs{constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rl extends hs{constructor(t,e,i,o,l){super(t,e),this.urlAfterRedirects=i,this.state=o,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ni extends hs{constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Li extends hs{constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ol{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Us{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Yi{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fr{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aa{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pl{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nl{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const bt="primary";class vo{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Mn(n){return new vo(n)}const Fl="ngNavigationCancelingError";function Hs(n){const t=Error("NavigationCancelingError: "+n);return t[Fl]=!0,t}function zc(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const o={};for(let l=0;l<i.length;l++){const d=i[l],m=n[l];if(d.startsWith(":"))o[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,i.length),posParams:o}}function Ki(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let o;for(let l=0;l<e.length;l++)if(o=e[l],!$a(n[o],t[o]))return!1;return!0}function $a(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((o,l)=>i[l]===o)}return n===t}function Wa(n){return Array.prototype.concat.apply([],n)}function ps(n){return n.length>0?n[n.length-1]:null}function Yt(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Bi(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,Zn.D)(Promise.resolve(n)):ze(n)}const gs={exact:function w(n,t,e){if(!mt(n.segments,t.segments)||!Z(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!w(n.children[i],t.children[i],e))return!1;return!0},subset:k},bo={exact:function Ju(n,t){return Ki(n,t)},subset:function I(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>$a(n[e],t[e]))},ignored:()=>!0};function la(n,t,e){return gs[e.paths](n.root,t.root,e.matrixParams)&&bo[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function k(n,t,e){return L(n,t,t.segments,e)}function L(n,t,e,i){if(n.segments.length>e.length){const o=n.segments.slice(0,e.length);return!(!mt(o,e)||t.hasChildren()||!Z(o,e,i))}if(n.segments.length===e.length){if(!mt(n.segments,e)||!Z(n.segments,e,i))return!1;for(const o in t.children)if(!n.children[o]||!k(n.children[o],t.children[o],i))return!1;return!0}{const o=e.slice(0,n.segments.length),l=e.slice(n.segments.length);return!!(mt(n.segments,o)&&Z(n.segments,o,i)&&n.children[bt])&&L(n.children[bt],t,l,i)}}function Z(n,t,e){return t.every((i,o)=>bo[e](n[o].parameters,i.parameters))}class ie{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mn(this.queryParams)),this._queryParamMap}toString(){return Dn.serialize(this)}}class pe{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Yt(e,(i,o)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ms(this)}}class Oe{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Mn(this.parameters)),this._parameterMap}toString(){return ua(this)}}function mt(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class vn{}class Yn{parse(t){const e=new Gc(t);return new ie(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Vi(t.root,!0)}`,i=function Eg(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(o=>`${Ui(e)}=${Ui(o)}`).join("&"):`${Ui(e)}=${Ui(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Qi(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Dn=new Yn;function ms(n){return n.segments.map(t=>ua(t)).join("/")}function Vi(n,t){if(!n.hasChildren())return ms(n);if(t){const e=n.children[bt]?Vi(n.children[bt],!1):"",i=[];return Yt(n.children,(o,l)=>{l!==bt&&i.push(`${l}:${Vi(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function jt(n,t){let e=[];return Yt(n.children,(i,o)=>{o===bt&&(e=e.concat(t(i,o)))}),Yt(n.children,(i,o)=>{o!==bt&&(e=e.concat(t(i,o)))}),e}(n,(i,o)=>o===bt?[Vi(n.children[bt],!1)]:[`${o}:${Vi(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[bt]?`${ms(n)}/${e[0]}`:`${ms(n)}/(${e.join("//")})`}}function pr(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ui(n){return pr(n).replace(/%3B/gi,";")}function ca(n){return pr(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ll(n){return decodeURIComponent(n)}function Bl(n){return Ll(n.replace(/\+/g,"%20"))}function ua(n){return`${ca(n.path)}${function lf(n){return Object.keys(n).map(t=>`;${ca(t)}=${ca(n[t])}`).join("")}(n.parameters)}`}const wg=/^[^\/()?;=#]+/;function Ur(n){const t=n.match(wg);return t?t[0]:""}const Vl=/^[^=?&#]+/,Ig=/^[^&#]+/;class Gc{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pe([],{}):new pe([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[bt]=new pe(t,e)),i}parseSegment(){const t=Ur(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Oe(Ll(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ur(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=Ur(this.remaining);o&&(i=o,this.capture(i))}t[Ll(e)]=Ll(i)}parseQueryParam(t){const e=function Dg(n){const t=n.match(Vl);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const d=function cf(n){const t=n.match(Ig);return t?t[0]:""}(this.remaining);d&&(i=d,this.capture(i))}const o=Bl(e),l=Bl(i);if(t.hasOwnProperty(o)){let d=t[o];Array.isArray(d)||(d=[d],t[o]=d),d.push(l)}else t[o]=l}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Ur(this.remaining),o=this.remaining[i.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let l;i.indexOf(":")>-1?(l=i.substr(0,i.indexOf(":")),this.capture(l),this.capture(":")):t&&(l=bt);const d=this.parseChildren();e[l]=1===Object.keys(d).length?d[bt]:new pe([],d),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Sg{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=ed(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=ed(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=td(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return td(t,this._root).map(e=>e.value)}}function ed(n,t){if(n===t.value)return t;for(const e of t.children){const i=ed(n,e);if(i)return i}return null}function td(n,t){if(n===t.value)return[t];for(const e of t.children){const i=td(n,e);if(i.length)return i.unshift(t),i}return[]}class js{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function zs(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class $c extends Sg{constructor(t,e){super(t),this.snapshot=e,qc(this,t)}toString(){return this.snapshot.toString()}}function da(n,t){const e=function Tg(n,t){const d=new Za([],{},{},"",{},bt,t,null,n.root,-1,{});return new nd("",new js(d,[]))}(n,t),i=new hi([new Oe("",{})]),o=new hi({}),l=new hi({}),d=new hi({}),m=new hi(""),v=new Gs(i,o,d,m,l,bt,t,e.root);return v.snapshot=e.root,new $c(new js(v,[]),e)}class Gs{constructor(t,e,i,o,l,d,m,v){this.url=t,this.params=e,this.queryParams=i,this.fragment=o,this.data=l,this.outlet=d,this.component=m,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,it.U)(t=>Mn(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,it.U)(t=>Mn(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ag(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const o=e[i],l=e[i-1];if(o.routeConfig&&""===o.routeConfig.path)i--;else{if(l.component)break;i--}}return function Wc(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Za{constructor(t,e,i,o,l,d,m,v,D,A,x){this.url=t,this.params=e,this.queryParams=i,this.fragment=o,this.data=l,this.outlet=d,this.component=m,this.routeConfig=v,this._urlSegment=D,this._lastPathIndex=A,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Mn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class nd extends Sg{constructor(t,e){super(e),this.url=t,qc(this,e)}toString(){return Zc(this._root)}}function qc(n,t){t.value._routerState=n,t.children.forEach(e=>qc(n,e))}function Zc(n){const t=n.children.length>0?` { ${n.children.map(Zc).join(", ")} } `:"";return`${n.value}${t}`}function $s(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ki(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Ki(t.params,e.params)||n.params.next(e.params),function fs(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Ki(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Ki(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function id(n,t){const e=Ki(n.params,t.params)&&function Ge(n,t){return mt(n,t)&&n.every((e,i)=>Ki(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||id(n.parent,t.parent))}function Ul(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const o=function rd(n,t,e){return t.children.map(i=>{for(const o of e.children)if(n.shouldReuseRoute(i.value,o.value.snapshot))return Ul(n,i,o);return Ul(n,i)})}(n,t,e);return new js(i,o)}{if(n.shouldAttach(t.value)){const l=n.retrieve(t.value);if(null!==l){const d=l.route;return d.value._futureSnapshot=t.value,d.children=t.children.map(m=>Ul(n,m)),d}}const i=function kg(n){return new Gs(new hi(n.url),new hi(n.params),new hi(n.queryParams),new hi(n.fragment),new hi(n.data),n.outlet,n.component,n)}(t.value),o=t.children.map(l=>Ul(n,l));return new js(i,o)}}function Ws(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ha(n){return"object"==typeof n&&null!=n&&n.outlets}function sd(n,t,e,i,o){let l={};return i&&Yt(i,(d,m)=>{l[m]=Array.isArray(d)?d.map(v=>`${v}`):`${d}`}),new ie(e.root===n?t:Yc(e.root,n,t),l,o)}function Yc(n,t,e){const i={};return Yt(n.children,(o,l)=>{i[l]=o===t?e:Yc(o,t,e)}),new pe(n.segments,i)}class uf{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Ws(i[0]))throw new Error("Root segment cannot have matrix parameters");const o=i.find(ha);if(o&&o!==ps(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Kc{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Og(n,t,e){if(n||(n=new pe([],{})),0===n.segments.length&&n.hasChildren())return _s(n,t,e);const i=function Wy(n,t,e){let i=0,o=t;const l={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(i>=e.length)return l;const d=n.segments[o],m=e[i];if(ha(m))break;const v=`${m}`,D=i<e.length-1?e[i+1]:null;if(o>0&&void 0===v)break;if(v&&D&&"object"==typeof D&&void 0===D.outlets){if(!Xi(v,D,d))return l;i+=2}else{if(!Xi(v,{},d))return l;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}(n,t,e),o=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const l=new pe(n.segments.slice(0,i.pathIndex),{});return l.children[bt]=new pe(n.segments.slice(i.pathIndex),n.children),_s(l,0,o)}return i.match&&0===o.length?new pe(n.segments,{}):i.match&&!n.hasChildren()?od(n,t,e):i.match?_s(n,0,o):od(n,t,e)}function _s(n,t,e){if(0===e.length)return new pe(n.segments,{});{const i=function Rg(n){return ha(n[0])?n[0].outlets:{[bt]:n}}(e),o={};return Yt(i,(l,d)=>{"string"==typeof l&&(l=[l]),null!==l&&(o[d]=Og(n.children[d],t,l))}),Yt(n.children,(l,d)=>{void 0===i[d]&&(o[d]=l)}),new pe(n.segments,o)}}function od(n,t,e){const i=n.segments.slice(0,t);let o=0;for(;o<e.length;){const l=e[o];if(ha(l)){const v=fa(l.outlets);return new pe(i,v)}if(0===o&&Ws(e[0])){i.push(new Oe(n.segments[t].path,ad(e[0]))),o++;continue}const d=ha(l)?l.outlets[bt]:`${l}`,m=o<e.length-1?e[o+1]:null;d&&m&&Ws(m)?(i.push(new Oe(d,ad(m))),o+=2):(i.push(new Oe(d,{})),o++)}return new pe(i,{})}function fa(n){const t={};return Yt(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=od(new pe([],{}),0,e))}),t}function ad(n){const t={};return Yt(n,(e,i)=>t[i]=`${e}`),t}function Xi(n,t,e){return n==e.path&&Ki(t,e.parameters)}class ff{constructor(t,e,i,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=o}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),$s(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const o=zs(e);t.children.forEach(l=>{const d=l.value.outlet;this.deactivateRoutes(l,o[d],i),delete o[d]}),Yt(o,(l,d)=>{this.deactivateRouteAndItsChildren(l,i)})}deactivateRoutes(t,e,i){const o=t.value,l=e?e.value:null;if(o===l)if(o.component){const d=i.getContext(o.outlet);d&&this.deactivateChildRoutes(t,e,d.children)}else this.deactivateChildRoutes(t,e,i);else l&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),o=i&&t.value.component?i.children:e,l=zs(t);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],o);if(i&&i.outlet){const d=i.outlet.detach(),m=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:d,route:t,contexts:m})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),o=i&&t.value.component?i.children:e,l=zs(t);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],o);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const o=zs(e);t.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],i),this.forwardEvent(new Pl(l.value.snapshot))}),t.children.length&&this.forwardEvent(new fr(t.value.snapshot))}activateRoutes(t,e,i){const o=t.value,l=e?e.value:null;if($s(o),o===l)if(o.component){const d=i.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,d.children)}else this.activateChildRoutes(t,e,i);else if(o.component){const d=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),$s(m.route.value),this.activateChildRoutes(t,null,d.children)}else{const m=function Qc(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(o.snapshot),v=m?m.module.componentFactoryResolver:null;d.attachRef=null,d.route=o,d.resolver=v,d.outlet&&d.outlet.activateWith(o,v),this.activateChildRoutes(t,null,d.children)}}else this.activateChildRoutes(t,null,i)}}class Xc{constructor(t,e){this.routes=t,this.module=e}}function pa(n){return"function"==typeof n}function Ya(n){return n instanceof ie}const jl=Symbol("INITIAL_VALUE");function Co(){return dn(n=>Nr(n.map(t=>t.pipe((0,_n.q)(1),wi(jl)))).pipe(Fi((t,e)=>{let i=!1;return e.reduce((o,l,d)=>o!==jl?o:(l===jl&&(i=!0),i||!1!==l&&d!==e.length-1&&!Ya(l)?o:l),t)},jl),yn(t=>t!==jl),(0,it.U)(t=>Ya(t)?t:!0===t),(0,_n.q)(1)))}class Pg{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new zl,this.attachRef=null}}class zl{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Pg,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Ka=(()=>{class n{constructor(e,i,o,l,d){this.parentContexts=e,this.location=i,this.resolver=o,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=l||bt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const d=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,v=new dd(e,m,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,v),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(zl),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class dd{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Gs?this.route:t===zl?this.childContexts:this.parent.get(t,e)}}let hd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&c._UZ(0,"router-outlet")},directives:[Ka],encapsulation:2}),n})();function Gl(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];$l(i,fd(t,i))}}function $l(n,t){n.children&&Gl(n.children,t)}function fd(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function pd(n){const t=n.children&&n.children.map(pd),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==bt&&(e.component=hd),e}function Ft(n){return n.outlet||bt}function gd(n,t){const e=n.filter(i=>Ft(i)===t);return e.push(...n.filter(i=>Ft(i)!==t)),e}const gf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Qa(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},gf):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const l=(t.matcher||zc)(e,n,t);if(!l)return Object.assign({},gf);const d={};Yt(l.posParams,(v,D)=>{d[D]=v.path});const m=l.consumed.length>0?Object.assign(Object.assign({},d),l.consumed[l.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:l.consumed,remainingSegments:e.slice(l.consumed.length),parameters:m,positionalParamSegments:null!==(i=l.posParams)&&void 0!==i?i:{}}}function Wl(n,t,e,i,o="corrected"){if(e.length>0&&function Fg(n,t,e){return e.some(i=>eu(n,t,i)&&Ft(i)!==bt)}(n,e,i)){const d=new pe(t,function Jc(n,t,e,i){const o={};o[bt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const l of e)if(""===l.path&&Ft(l)!==bt){const d=new pe([],{});d._sourceSegment=n,d._segmentIndexShift=t.length,o[Ft(l)]=d}return o}(n,t,i,new pe(e,n.children)));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:[]}}if(0===e.length&&function mf(n,t,e){return e.some(i=>eu(n,t,i))}(n,e,i)){const d=new pe(n.segments,function Ng(n,t,e,i,o,l){const d={};for(const m of i)if(eu(n,e,m)&&!o[Ft(m)]){const v=new pe([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===l?n.segments.length:t.length,d[Ft(m)]=v}return Object.assign(Object.assign({},o),d)}(n,t,e,i,n.children,o));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:e}}const l=new pe(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:e}}function eu(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Lg(n,t,e,i){return!!(Ft(n)===i||i!==bt&&eu(t,e,n))&&("**"===n.path||Qa(t,n,e).matched)}function Bg(n,t,e){return 0===t.length&&!n.children[e]}class Eo{constructor(t){this.segmentGroup=t||null}}class ii{constructor(t){this.urlTree=t}}function qs(n){return Fr(new Eo(n))}function ql(n){return Fr(new ii(n))}class _d{constructor(t,e,i,o,l){this.configLoader=e,this.urlSerializer=i,this.urlTree=o,this.config=l,this.allowRedirects=!0,this.ngModule=t.get(c.h0i)}apply(){const t=Wl(this.urlTree.root,[],[],this.config).segmentGroup,e=new pe(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,bt).pipe((0,it.U)(l=>this.createUrlTree(ma(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(hr(l=>{if(l instanceof ii)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Eo?this.noMatchError(l):l}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,bt).pipe((0,it.U)(o=>this.createUrlTree(ma(o),t.queryParams,t.fragment))).pipe(hr(o=>{throw o instanceof Eo?this.noMatchError(o):o}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const o=t.segments.length>0?new pe([],{[bt]:t}):t;return new ie(o,e,i)}expandSegmentGroup(t,e,i,o){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,it.U)(l=>new pe([],l))):this.expandSegment(t,i,e,i.segments,o,!0)}expandChildren(t,e,i){const o=[];for(const l of Object.keys(i.children))"primary"===l?o.unshift(l):o.push(l);return(0,Zn.D)(o).pipe(Ls(l=>{const d=i.children[l],m=gd(e,l);return this.expandSegmentGroup(t,m,d,l).pipe((0,it.U)(v=>({segment:v,outlet:l})))}),Fi((l,d)=>(l[d.outlet]=d.segment,l),{}),function bg(n,t){const e=arguments.length>=2;return i=>i.pipe(n?yn((o,l)=>n(o,l,i)):Oi.y,oa(1),e?af(t):hn(()=>new us))}())}expandSegment(t,e,i,o,l,d){return(0,Zn.D)(i).pipe(Ls(m=>this.expandSegmentAgainstRoute(t,e,i,m,o,l,d).pipe(hr(D=>{if(D instanceof Eo)return ze(null);throw D}))),Bs(m=>!!m),hr((m,v)=>{if(m instanceof us||"EmptyError"===m.name)return Bg(e,o,l)?ze(new pe([],{})):qs(e);throw m}))}expandSegmentAgainstRoute(t,e,i,o,l,d,m){return Lg(o,e,l,d)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(t,e,o,l,d):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,o,l,d):qs(e):qs(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,o,l,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,o,l,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,o){const l=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?ql(l):this.lineralizeSegments(i,l).pipe((0,tn.z)(d=>{const m=new pe(d,{});return this.expandSegment(t,m,e,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,o,l,d){const{matched:m,consumedSegments:v,remainingSegments:D,positionalParamSegments:A}=Qa(e,o,l);if(!m)return qs(e);const x=this.applyRedirectCommands(v,o.redirectTo,A);return o.redirectTo.startsWith("/")?ql(x):this.lineralizeSegments(o,x).pipe((0,tn.z)(V=>this.expandSegment(t,e,i,V.concat(D),d,!1)))}matchSegmentAgainstRoute(t,e,i,o,l){if("**"===i.path)return i.loadChildren?(i._loadedConfig?ze(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,it.U)(x=>(i._loadedConfig=x,new pe(o,{})))):ze(new pe(o,{}));const{matched:d,consumedSegments:m,remainingSegments:v}=Qa(e,i,o);return d?this.getChildConfig(t,i,o).pipe((0,tn.z)(A=>{const x=A.module,V=A.routes,{segmentGroup:W,slicedSegments:te}=Wl(e,m,v,V),Se=new pe(W.segments,W.children);if(0===te.length&&Se.hasChildren())return this.expandChildren(x,V,Se).pipe((0,it.U)(St=>new pe(m,St)));if(0===V.length&&0===te.length)return ze(new pe(m,{}));const $e=Ft(i)===l;return this.expandSegment(x,Se,V,te,$e?bt:l,!0).pipe((0,it.U)(ht=>new pe(m.concat(ht.segments),ht.children)))})):qs(e)}getChildConfig(t,e,i){return e.children?ze(new Xc(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?ze(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,tn.z)(o=>o?this.configLoader.load(t.injector,e).pipe((0,it.U)(l=>(e._loadedConfig=l,l))):function fi(n){return Fr(Hs(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):ze(new Xc([],t))}runCanLoadGuards(t,e,i){const o=e.canLoad;return o&&0!==o.length?ze(o.map(d=>{const m=t.get(d);let v;if(function ld(n){return n&&pa(n.canLoad)}(m))v=m.canLoad(e,i);else{if(!pa(m))throw new Error("Invalid CanLoad guard");v=m(e,i)}return Bi(v)})).pipe(Co(),(0,An.b)(d=>{if(!Ya(d))return;const m=Hs(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw m.url=d,m}),(0,it.U)(d=>!0===d)):ze(!0)}lineralizeSegments(t,e){let i=[],o=e.root;for(;;){if(i=i.concat(o.segments),0===o.numberOfChildren)return ze(i);if(o.numberOfChildren>1||!o.children[bt])return Fr(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));o=o.children[bt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,o){const l=this.createSegmentGroup(t,e.root,i,o);return new ie(l,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Yt(t,(o,l)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);i[l]=e[m]}else i[l]=o}),i}createSegmentGroup(t,e,i,o){const l=this.createSegments(t,e.segments,i,o);let d={};return Yt(e.children,(m,v)=>{d[v]=this.createSegmentGroup(t,m,i,o)}),new pe(l,d)}createSegments(t,e,i,o){return e.map(l=>l.path.startsWith(":")?this.findPosParam(t,l,o):this.findOrReturn(l,i))}findPosParam(t,e,i){const o=i[e.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return o}findOrReturn(t,e){let i=0;for(const o of e){if(o.path===t.path)return e.splice(i),o;i++}return t}}function ma(n){const t={};for(const i of Object.keys(n.children)){const l=ma(n.children[i]);(l.segments.length>0||l.hasChildren())&&(t[i]=l)}return function Ji(n){if(1===n.numberOfChildren&&n.children[bt]){const t=n.children[bt];return new pe(n.segments.concat(t.segments),t.children)}return n}(new pe(n.segments,t))}class _f{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class _a{constructor(t,e){this.component=t,this.route=e}}function vd(n,t,e){const i=n._root;return Hi(i,t?t._root:null,e,[i.value])}function Zl(n,t,e){const i=function Vg(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function Hi(n,t,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=zs(t);return n.children.forEach(d=>{(function vf(n,t,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,d=t?t.value:null,m=e?e.getContext(n.value.outlet):null;if(d&&l.routeConfig===d.routeConfig){const v=function Ug(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!mt(n.url,t.url);case"pathParamsOrQueryParamsChange":return!mt(n.url,t.url)||!Ki(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!id(n,t)||!Ki(n.queryParams,t.queryParams);default:return!id(n,t)}}(d,l,l.routeConfig.runGuardsAndResolvers);v?o.canActivateChecks.push(new _f(i)):(l.data=d.data,l._resolvedData=d._resolvedData),Hi(n,t,l.component?m?m.children:null:e,i,o),v&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new _a(m.outlet.component,d))}else d&&ya(t,m,o),o.canActivateChecks.push(new _f(i)),Hi(n,null,l.component?m?m.children:null:e,i,o)})(d,l[d.value.outlet],e,i.concat([d.value]),o),delete l[d.value.outlet]}),Yt(l,(d,m)=>ya(d,e.getContext(m),o)),o}function ya(n,t,e){const i=zs(n),o=n.value;Yt(i,(l,d)=>{ya(l,o.component?t?t.children.getContext(d):null:t,e)}),e.canDeactivateChecks.push(new _a(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}class Ed{}function wd(n){return new Un.y(t=>t.error(n))}class Dd{constructor(t,e,i,o,l,d){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=d}recognize(){const t=Wl(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,bt);if(null===e)return null;const i=new Za([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},bt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new js(i,e),l=new nd(this.url,o);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(t){const e=t.value,i=Ag(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const l of Object.keys(e.children)){const d=e.children[l],m=gd(t,l),v=this.processSegmentGroup(m,d,l);if(null===v)return null;i.push(...v)}const o=Cf(i);return function Gg(n){n.sort((t,e)=>t.value.outlet===bt?-1:e.value.outlet===bt?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}processSegment(t,e,i,o){for(const l of t){const d=this.processSegmentAgainstRoute(l,e,i,o);if(null!==d)return d}return Bg(e,i,o)?[]:null}processSegmentAgainstRoute(t,e,i,o){if(t.redirectTo||!Lg(t,e,i,o))return null;let l,d=[],m=[];if("**"===t.path){const W=i.length>0?ps(i).parameters:{};l=new Za(i,W,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,b(t),Ft(t),t.component,t,f(e),g(e)+i.length,S(t))}else{const W=Qa(e,t,i);if(!W.matched)return null;d=W.consumedSegments,m=W.remainingSegments,l=new Za(d,W.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,b(t),Ft(t),t.component,t,f(e),g(e)+d.length,S(t))}const v=function $g(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:D,slicedSegments:A}=Wl(e,d,m,v.filter(W=>void 0===W.redirectTo),this.relativeLinkResolution);if(0===A.length&&D.hasChildren()){const W=this.processChildren(v,D);return null===W?null:[new js(l,W)]}if(0===v.length&&0===A.length)return[new js(l,[])];const x=Ft(t)===o,V=this.processSegment(v,D,A,x?bt:o);return null===V?null:[new js(l,V)]}}function Wg(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Cf(n){const t=[],e=new Set;for(const i of n){if(!Wg(i)){t.push(i);continue}const o=t.find(l=>i.value.routeConfig===l.value.routeConfig);void 0!==o?(o.children.push(...i.children),e.add(o)):t.push(i)}for(const i of e){const o=Cf(i.children);t.push(new js(i.value,o))}return t.filter(i=>!e.has(i))}function f(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function g(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function b(n){return n.data||{}}function S(n){return n.resolve||{}}function qe(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Xe(n){return dn(t=>{const e=n(t);return e?(0,Zn.D)(e).pipe((0,it.U)(()=>t)):ze(t)})}class Kl extends class gr{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Xa=new c.OlP("ROUTES");class Ja{constructor(t,e,i,o){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=o}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const o=this.loadModuleFactory(e.loadChildren).pipe((0,it.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(e);const d=l.create(t);return new Xc(Wa(d.injector.get(Xa,void 0,c.XFs.Self|c.XFs.Optional)).map(pd),d)}),hr(l=>{throw e._loader$=void 0,l}));return e._loader$=new za(o,()=>new st.x).pipe(Br()),e._loader$}loadModuleFactory(t){return Bi(t()).pipe((0,tn.z)(e=>e instanceof c.YKP?ze(e):(0,Zn.D)(this.compiler.compileModuleAsync(e))))}}class qg{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function wo(n){throw n}function tu(n,t,e){return t.parse("/")}function nu(n,t){return ze(null)}const Sd={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},iu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Kn=(()=>{class n{constructor(e,i,o,l,d,m,v){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=o,this.location=l,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new st.x,this.errorHandler=wo,this.malformedUriErrorHandler=tu,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:nu,afterPreactivation:nu},this.urlHandlingStrategy=new qg,this.routeReuseStrategy=new Kl,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(c.h0i),this.console=d.get(c.c2e);const x=d.get(c.R0b);this.isNgZoneEnabled=x instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=function Xu(){return new ie(new pe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ja(d,m,V=>this.triggerEvent(new Ol(V)),V=>this.triggerEvent(new Us(V))),this.routerState=da(this.currentUrlTree,this.rootComponentType),this.transitions=new hi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(yn(o=>0!==o.id),(0,it.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),dn(o=>{let l=!1,d=!1;return ze(o).pipe((0,An.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),dn(m=>{const v=this.browserUrlTree.toString(),D=!this.navigated||m.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return Ef(m.source)&&(this.browserUrlTree=m.extractedUrl),ze(m).pipe(dn(x=>{const V=this.transitions.getValue();return i.next(new Vr(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),V!==this.transitions.getValue()?Fs.E:Promise.resolve(x)}),function yd(n,t,e,i){return dn(o=>function ga(n,t,e,i,o){return new _d(n,t,e,i,o).apply()}(n,t,e,o.extractedUrl,i).pipe((0,it.U)(l=>Object.assign(Object.assign({},o),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,An.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function R(n,t,e,i,o){return(0,tn.z)(l=>function zg(n,t,e,i,o="emptyOnly",l="legacy"){try{const d=new Dd(n,t,e,i,o,l).recognize();return null===d?wd(new Ed):ze(d)}catch(d){return wd(d)}}(n,t,l.urlAfterRedirects,e(l.urlAfterRedirects),i,o).pipe((0,it.U)(d=>Object.assign(Object.assign({},l),{targetSnapshot:d}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,An.b)(x=>{if("eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const W=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(W,x)}this.browserUrlTree=x.urlAfterRedirects}const V=new Vs(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);i.next(V)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:W,source:te,restoredState:Se,extras:$e}=m,Ct=new Vr(V,this.serializeUrl(W),te,Se);i.next(Ct);const ht=da(W,this.rootComponentType).snapshot;return ze(Object.assign(Object.assign({},m),{targetSnapshot:ht,urlAfterRedirects:W,extras:Object.assign(Object.assign({},$e),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),Fs.E}),Xe(m=>{const{targetSnapshot:v,id:D,extractedUrl:A,rawUrl:x,extras:{skipLocationChange:V,replaceUrl:W}}=m;return this.hooks.beforePreactivation(v,{navigationId:D,appliedUrlTree:A,rawUrlTree:x,skipLocationChange:!!V,replaceUrl:!!W})}),(0,An.b)(m=>{const v=new Cg(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}),(0,it.U)(m=>Object.assign(Object.assign({},m),{guards:vd(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function Hg(n,t){return(0,tn.z)(e=>{const{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:d}}=e;return 0===d.length&&0===l.length?ze(Object.assign(Object.assign({},e),{guardsResult:!0})):function bf(n,t,e,i){return(0,Zn.D)(n).pipe((0,tn.z)(o=>function Yl(n,t,e,i,o){const l=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return l&&0!==l.length?ze(l.map(m=>{const v=Zl(m,t,o);let D;if(function qy(n){return n&&pa(n.canDeactivate)}(v))D=Bi(v.canDeactivate(n,t,e,i));else{if(!pa(v))throw new Error("Invalid CanDeactivate guard");D=Bi(v(n,t,e,i))}return D.pipe(Bs())})).pipe(Co()):ze(!0)}(o.component,o.route,e,t,i)),Bs(o=>!0!==o,!0))}(d,i,o,n).pipe((0,tn.z)(m=>m&&function pf(n){return"boolean"==typeof n}(m)?function ri(n,t,e,i){return(0,Zn.D)(t).pipe(Ls(o=>yo(function Cd(n,t){return null!==n&&t&&t(new Yi(n)),ze(!0)}(o.route.parent,i),function bd(n,t){return null!==n&&t&&t(new aa(n)),ze(!0)}(o.route,i),function Zs(n,t,e){const i=t[t.length-1],l=t.slice(0,t.length-1).reverse().map(d=>function yf(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(d)).filter(d=>null!==d).map(d=>Ei(()=>ze(d.guards.map(v=>{const D=Zl(v,d.node,e);let A;if(function ud(n){return n&&pa(n.canActivateChild)}(D))A=Bi(D.canActivateChild(i,n));else{if(!pa(D))throw new Error("Invalid CanActivateChild guard");A=Bi(D(i,n))}return A.pipe(Bs())})).pipe(Co())));return ze(l).pipe(Co())}(n,o.path,e),function jg(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return ze(!0);const o=i.map(l=>Ei(()=>{const d=Zl(l,t,e);let m;if(function cd(n){return n&&pa(n.canActivate)}(d))m=Bi(d.canActivate(t,n));else{if(!pa(d))throw new Error("Invalid CanActivate guard");m=Bi(d(t,n))}return m.pipe(Bs())}));return ze(o).pipe(Co())}(n,o.route,e))),Bs(o=>!0!==o,!0))}(i,l,n,t):ze(m)),(0,it.U)(m=>Object.assign(Object.assign({},e),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,An.b)(m=>{if(Ya(m.guardsResult)){const D=Hs(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw D.url=m.guardsResult,D}const v=new Rl(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(v)}),yn(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),Xe(m=>{if(m.guards.canActivateChecks.length)return ze(m).pipe((0,An.b)(v=>{const D=new ni(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(D)}),dn(v=>{let D=!1;return ze(v).pipe(function $(n,t){return(0,tn.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:o}}=e;if(!o.length)return ze(e);let l=0;return(0,Zn.D)(o).pipe(Ls(d=>function he(n,t,e,i){return function Le(n,t,e,i){const o=qe(n);if(0===o.length)return ze({});const l={};return(0,Zn.D)(o).pipe((0,tn.z)(d=>function ut(n,t,e,i){const o=Zl(n,t,i);return Bi(o.resolve?o.resolve(t,e):o(t,e))}(n[d],t,e,i).pipe((0,An.b)(m=>{l[d]=m}))),oa(1),(0,tn.z)(()=>qe(l).length===o.length?ze(l):Fs.E))}(n._resolve,n,t,i).pipe((0,it.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),Ag(n,e).resolve),null)))}(d.route,i,n,t)),(0,An.b)(()=>l++),oa(1),(0,tn.z)(d=>l===o.length?ze(e):Fs.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,An.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(v),this.cancelNavigationTransition(v,"At least one route resolver didn't emit any value."))}}))}),(0,An.b)(v=>{const D=new Li(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(D)}))}),Xe(m=>{const{targetSnapshot:v,id:D,extractedUrl:A,rawUrl:x,extras:{skipLocationChange:V,replaceUrl:W}}=m;return this.hooks.afterPreactivation(v,{navigationId:D,appliedUrlTree:A,rawUrlTree:x,skipLocationChange:!!V,replaceUrl:!!W})}),(0,it.U)(m=>{const v=function Mg(n,t,e){const i=Ul(n,t._root,e?e._root:void 0);return new $c(i,t)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:v})}),(0,An.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,t,e)=>(0,it.U)(i=>(new ff(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,An.b)({next(){l=!0},complete(){l=!0}}),Hc(()=>{var m;l||d||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===o.id&&(this.currentNavigation=null)}),hr(m=>{if(d=!0,function jc(n){return n&&n[Fl]}(m)){const v=Ya(m.url);v||(this.navigated=!0,this.restoreHistory(o,!0));const D=new nn(o.id,this.serializeUrl(o.extractedUrl),m.message);i.next(D),v?setTimeout(()=>{const A=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),x={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ef(o.source)};this.scheduleNavigation(A,"imperative",null,x,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const v=new xl(o.id,this.serializeUrl(o.extractedUrl),m);i.next(v);try{o.resolve(this.errorHandler(m))}catch(D){o.reject(D)}}return Fs.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var o;const l={replaceUrl:!0},d=(null===(o=e.state)||void 0===o?void 0:o.navigationId)?e.state:null;if(d){const v=Object.assign({},d);delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(l.state=v)}const m=this.parseUrl(e.url);this.scheduleNavigation(m,i,d,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Gl(e),this.config=e.map(pd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:o,queryParams:l,fragment:d,queryParamsHandling:m,preserveFragment:v}=i,D=o||this.routerState.root,A=v?this.currentUrlTree.fragment:d;let x=null;switch(m){case"merge":x=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=l||null}return null!==x&&(x=this.removeEmptyProps(x)),function Hr(n,t,e,i,o){if(0===e.length)return sd(t.root,t.root,t,i,o);const l=function df(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new uf(!0,0,n);let t=0,e=!1;const i=n.reduce((o,l,d)=>{if("object"==typeof l&&null!=l){if(l.outlets){const m={};return Yt(l.outlets,(v,D)=>{m[D]="string"==typeof v?v.split("/"):v}),[...o,{outlets:m}]}if(l.segmentPath)return[...o,l.segmentPath]}return"string"!=typeof l?[...o,l]:0===d?(l.split("/").forEach((m,v)=>{0==v&&"."===m||(0==v&&""===m?e=!0:".."===m?t++:""!=m&&o.push(m))}),o):[...o,l]},[]);return new uf(e,t,i)}(e);if(l.toRoot())return sd(t.root,new pe([],{}),t,i,o);const d=function hf(n,t,e){if(n.isAbsolute)return new Kc(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const l=e.snapshot._urlSegment;return new Kc(l,l===t.root,0)}const i=Ws(n.commands[0])?0:1;return function xg(n,t,e){let i=n,o=t,l=e;for(;l>o;){if(l-=o,i=i.parent,!i)throw new Error("Invalid number of '../'");o=i.segments.length}return new Kc(i,!1,o-l)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(l,t,n),m=d.processChildren?_s(d.segmentGroup,d.index,l.commands):Og(d.segmentGroup,d.index,l.commands);return sd(d.segmentGroup,m,t,i,o)}(D,this.currentUrlTree,e,x,null!=A?A:null)}navigateByUrl(e,i={skipLocationChange:!1}){const o=Ya(e)?e:this.parseUrl(e),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function Td(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return i}isActive(e,i){let o;if(o=!0===i?Object.assign({},Sd):!1===i?Object.assign({},iu):i,Ya(e))return la(this.currentUrlTree,e,o);const l=this.parseUrl(e);return la(this.currentUrlTree,l,o)}removeEmptyProps(e){return Object.keys(e).reduce((i,o)=>{const l=e[o];return null!=l&&(i[o]=l),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Ga(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,o,l,d){var m,v;if(this.disposed)return Promise.resolve(!1);let D,A,x;d?(D=d.resolve,A=d.reject,x=d.promise):x=new Promise((te,Se)=>{D=te,A=Se});const V=++this.navigationId;let W;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),W=o&&o.\u0275routerPageId?o.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(v=this.browserPageId)&&void 0!==v?v:0)+1):W=0,this.setTransition({id:V,targetPageId:W,source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:l,resolve:D,reject:A,promise:x,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),x.catch(te=>Promise.reject(te))}setBrowserUrl(e,i){const o=this.urlSerializer.serialize(e),l=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl?this.location.replaceState(o,"",l):this.location.go(o,"",l)}restoreHistory(e,i=!1){var o,l;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===d?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===d&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const o=new nn(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Ef(n){return"imperative"!==n}let wf=(()=>{class n{constructor(e,i,o,l,d){this.router=e,this.route=i,this.tabIndexAttribute=o,this.renderer=l,this.el=d,this.commands=null,this.onChanges=new st.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,o=this.el.nativeElement;null!==e?i.setAttribute(o,"tabindex",e):i.removeAttribute(o,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:ru(this.skipLocationChange),replaceUrl:ru(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ru(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Kn),c.Y36(Gs),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&c.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})();function ru(n){return""===n||!!n}class Kg{}class Yy{preload(t,e){return ze(null)}}let Ky=(()=>{class n{constructor(e,i,o,l){this.router=e,this.injector=o,this.preloadingStrategy=l,this.loader=new Ja(o,i,v=>e.triggerEvent(new Ol(v)),v=>e.triggerEvent(new Us(v)))}setUpPreloading(){this.subscription=this.router.events.pipe(yn(e=>e instanceof Ga),Ls(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(c.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const o=[];for(const l of i)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const d=l._loadedConfig;o.push(this.processRoutes(d.module,d.routes))}else l.loadChildren&&!l.canLoad?o.push(this.preloadConfig(e,l)):l.children&&o.push(this.processRoutes(e,l.children));return(0,Zn.D)(o).pipe((0,Ns.J)(),(0,it.U)(l=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?ze(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,tn.z)(l=>(i._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Kn),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(Kg))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Df=(()=>{class n{constructor(e,i,o={}){this.router=e,this.viewportScroller=i,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Vr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ga&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Nl&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Nl(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const jr=new c.OlP("ROUTER_CONFIGURATION"),Xg=new c.OlP("ROUTER_FORROOT_GUARD"),Qy=[me,{provide:vn,useClass:Yn},{provide:Kn,useFactory:function em(n,t,e,i,o,l,d={},m,v){const D=new Kn(null,n,t,e,i,o,Wa(l));return m&&(D.urlHandlingStrategy=m),v&&(D.routeReuseStrategy=v),function ev(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(d,D),d.enableTracing&&D.events.subscribe(A=>{var x,V;null===(x=console.group)||void 0===x||x.call(console,`Router Event: ${A.constructor.name}`),console.log(A.toString()),console.log(A),null===(V=console.groupEnd)||void 0===V||V.call(console)}),D},deps:[vn,zl,me,c.zs3,c.Sil,Xa,jr,[class Id{},new c.FiY],[class fn{},new c.FiY]]},zl,{provide:Gs,useFactory:function If(n){return n.routerState.root},deps:[Kn]},Ky,Yy,class Qg{preload(t,e){return e().pipe(hr(()=>ze(null)))}},{provide:jr,useValue:{enableTracing:!1}}];function d0(){return new c.PXZ("Router",Kn)}let su=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[Qy,Jg(e),{provide:Xg,useFactory:Jy,deps:[[Kn,new c.FiY,new c.tp0]]},{provide:jr,useValue:i||{}},{provide:q,useFactory:Xy,deps:[ae,[new c.tBr(Ae),new c.FiY],jr]},{provide:Df,useFactory:h0,deps:[Kn,Na,jr]},{provide:Kg,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Yy},{provide:c.PXZ,multi:!0,useFactory:d0},[ou,{provide:c.ip1,multi:!0,useFactory:tv,deps:[ou]},{provide:nm,useFactory:tm,deps:[ou]},{provide:c.tb,multi:!0,useExisting:nm}]]}}static forChild(e){return{ngModule:n,providers:[Jg(e)]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Xg,8),c.LFG(Kn,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function h0(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Df(n,t,e)}function Xy(n,t,e={}){return e.useHash?new ce(n,t):new ke(n,t)}function Jy(n){return"guarded"}function Jg(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:Xa,multi:!0,useValue:n}]}let ou=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new st.x}appInitializer(){return this.injector.get(j,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const o=new Promise(m=>i=m),l=this.injector.get(Kn),d=this.injector.get(jr);return"disabled"===d.initialNavigation?(l.setUpLocationChangeListener(),i(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?ze(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),l.initialNavigation()):i(!0),o})}bootstrapListener(e){const i=this.injector.get(jr),o=this.injector.get(Ky),l=this.injector.get(Df),d=this.injector.get(Kn),m=this.injector.get(c.z2F);e===m.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&d.initialNavigation(),o.setUpPreloading(),l.init(),d.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function tv(n){return n.appInitializer.bind(n)}function tm(n){return n.bootstrapListener.bind(n)}const nm=new c.OlP("Router Initializer");function Qn(n){return null!=n&&"false"!=`${n}`}function Tf(n,t=0){return function f0(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Af(n){return Array.isArray(n)?n:[n]}function Hn(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Ys(n){return n instanceof c.SBq?n.nativeElement:n}var _T=O(1144);const nv=["addListener","removeListener"],g0=["addEventListener","removeEventListener"],iv=["on","off"];function Mf(n,t,e,i){if((0,Pi.m)(e)&&(i=e,e=void 0),i)return Mf(n,t,e).pipe(kl(i));const[o,l]=function sv(n){return(0,Pi.m)(n.addEventListener)&&(0,Pi.m)(n.removeEventListener)}(n)?g0.map(d=>m=>n[d](t,m,e)):function Ks(n){return(0,Pi.m)(n.addListener)&&(0,Pi.m)(n.removeListener)}(n)?nv.map(rv(n,t)):function m0(n){return(0,Pi.m)(n.on)&&(0,Pi.m)(n.off)}(n)?iv.map(rv(n,t)):[];if(!o&&(0,_T.z)(n))return(0,tn.z)(d=>Mf(d,t,e))((0,Lr.Xf)(n));if(!o)throw new TypeError("Invalid event target");return new Un.y(d=>{const m=(...v)=>d.next(1<v.length?v:v[0]);return o(m),()=>l(m)})}function rv(n,t){return e=>i=>n[e](t,i)}var ov=O(4408);const Ad={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Ad;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const o=t(l=>{e=void 0,n(l)});return new Ni.w0(()=>null==e?void 0:e(o))},requestAnimationFrame(...n){const{delegate:t}=Ad;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Ad;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var av=O(7565);new class lv extends av.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let o;t=t||i.shift();do{if(o=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,o){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw o}}}(class _0 extends ov.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Ad.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(o=>o.id===e)||(Ad.cancelAnimationFrame(e),t._scheduled=void 0)}});let ft,v0=1;const Md={};function rm(n){return n in Md&&(delete Md[n],!0)}const cv={setImmediate(n){const t=v0++;return Md[t]=!0,ft||(ft=Promise.resolve()),ft.then(()=>rm(t)&&n()),t},clearImmediate(n){rm(n)}},{setImmediate:Qs,clearImmediate:uv}=cv,kf={setImmediate(...n){const{delegate:t}=kf;return((null==t?void 0:t.setImmediate)||Qs)(...n)},clearImmediate(n){const{delegate:t}=kf;return((null==t?void 0:t.clearImmediate)||uv)(n)},delegate:void 0};new class va extends av.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let o;t=t||i.shift();do{if(o=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,o){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw o}}}(class om extends ov.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=kf.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(o=>o.id===e)||(kf.clearImmediate(e),t._scheduled=void 0)}});var au=O(4986),dv=O(3532);function kd(n,t=au.z){return function vT(n){return(0,un.e)((t,e)=>{let i=!1,o=null,l=null,d=!1;const m=()=>{if(null==l||l.unsubscribe(),l=null,i){i=!1;const D=o;o=null,e.next(D)}d&&e.complete()},v=()=>{l=null,d&&e.complete()};t.subscribe((0,Ht.x)(e,D=>{i=!0,o=D,l||(0,Lr.Xf)(n(D)).subscribe(l=(0,Ht.x)(e,m,v))},()=>{d=!0,(!i||!l||l.closed)&&e.complete()}))})}(()=>function xf(n=0,t,e=au.P){let i=-1;return null!=t&&((0,dv.K)(t)?e=t:i=t),new Un.y(o=>{let l=function bT(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;l<0&&(l=0);let d=0;return e.schedule(function(){o.closed||(o.next(d++),0<=i?this.schedule(void 0,i):o.complete())},l)})}(n,t))}let xd;try{xd="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){xd=!1}let Rd,pi=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function qn(n){return n===Tc}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!xd)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fv=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function pv(){if(Rd)return Rd;if("object"!=typeof document||!document)return Rd=new Set(fv),Rd;let n=document.createElement("input");return Rd=new Set(fv.filter(t=>(n.setAttribute("type",t),n.type===t))),Rd}let Od,Ql,Rf;function Pd(n){return function C0(){if(null==Od&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Od=!0}))}finally{Od=Od||!1}return Od}()?n:!!n.capture}function CT(){if(null==Ql){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ql=!1,Ql;if("scrollBehavior"in document.documentElement.style)Ql=!0;else{const n=Element.prototype.scrollTo;Ql=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Ql}function gv(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function lu(n){return n.composedPath?n.composedPath()[0]:n.target}function mv(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const ET=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function wT(){return(0,c.f3M)(J)}}),DT=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Nd=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new c.vpe,e){const o=e.documentElement?e.documentElement.dir:null;this.value=function IT(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?DT.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||o||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ET,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Of=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),S0=(()=>{class n{constructor(e,i,o){this._ngZone=e,this._platform=i,this._scrolled=new st.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Un.y(i=>{this._globalSubscription||this._addGlobalListener();const o=e>0?this._scrolled.pipe(kd(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ze()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const o=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(yn(l=>!l||o.indexOf(l)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((o,l)=>{this._scrollableContainsElement(l,e)&&i.push(l)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let o=Ys(i),l=e.getElementRef().nativeElement;do{if(o==l)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Mf(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.R0b),c.LFG(pi),c.LFG(J,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dm=(()=>{class n{constructor(e,i,o){this._platform=e,this._change=new st.x,this._changeListener=l=>{this._change.next(l)},this._document=o,i.runOutsideAngular(()=>{if(e.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+i,height:o,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),o=e.documentElement,l=o.getBoundingClientRect();return{top:-l.top||e.body.scrollTop||i.scrollY||o.scrollTop||0,left:-l.left||e.body.scrollLeft||i.scrollX||o.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(kd(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(pi),c.LFG(c.R0b),c.LFG(J,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ec=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),tc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Of,ec],Of,ec]}),n})();class Nf{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class nc extends Nf{constructor(t,e,i,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=o}}class cu extends Nf{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Ev extends Nf{constructor(t){super(),this.element=t instanceof c.SBq?t.nativeElement:t}}class ic{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof nc?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof cu?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Ev?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class wv extends ic{constructor(t,e,i,o,l){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=o,this.attachDomPortal=d=>{const m=d.element,v=this._document.createComment("dom-portal");m.parentNode.insertBefore(v,m),this.outletElement.appendChild(m),this._attachedPortal=d,super.setDisposeFn(()=>{v.parentNode&&v.parentNode.replaceChild(m,v)})},this._document=l}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let o;return t.viewContainerRef?(o=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>o.destroy())):(o=i.create(t.injector||this._defaultInjector),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.detachView(o.hostView),o.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o)),this._attachedPortal=t,o}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(o=>this.outletElement.appendChild(o)),i.detectChanges(),this.setDisposeFn(()=>{let o=e.indexOf(i);-1!==o&&e.remove(o)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Ff=(()=>{class n extends ic{constructor(e,i,o){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new c.vpe,this.attachDomPortal=l=>{const d=l.element,m=this._document.createComment("dom-portal");l.setAttachedHost(this),d.parentNode.insertBefore(m,d),this._getRootNode().appendChild(d),this._attachedPortal=l,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(d,m)})},this._document=o}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,l=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),d=i.createComponent(l,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(d.hostView.rootNodes[0]),super.setDisposeFn(()=>d.destroy()),this._attachedPortal=e,this._attachedRef=d,this.attached.emit(d),d}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c._Vd),c.Y36(c.s_b),c.Y36(J))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[c.qOj]}),n})(),hm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();var Xn=O(6451),Dv=O(5032);function er(n){return(0,un.e)((t,e)=>{(0,Lr.Xf)(n).subscribe((0,Ht.x)(e,()=>e.complete(),Dv.Z)),!e.closed&&t.subscribe(e)})}function tl(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}const Xs=CT();class Hd{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Hn(-this._previousScrollPosition.left),t.style.top=Hn(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,o=this._document.body.style,l=i.scrollBehavior||"",d=o.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Xs&&(i.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Xs&&(i.scrollBehavior=l,o.scrollBehavior=d)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class rc{constructor(t,e,i,o){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class jd{enable(){}disable(){}attach(){}}function mr(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function Hf(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class du{constructor(t,e,i,o){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=o,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:o}=this._viewportRuler.getViewportSize();mr(e,[{width:i,height:o,bottom:o,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let hu=(()=>{class n{constructor(e,i,o,l){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=o,this.noop=()=>new jd,this.close=d=>new rc(this._scrollDispatcher,this._ngZone,this._viewportRuler,d),this.block=()=>new Hd(this._viewportRuler,this._document),this.reposition=d=>new du(this._scrollDispatcher,this._viewportRuler,this._ngZone,d),this._document=l}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(S0),c.LFG(dm),c.LFG(c.R0b),c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ba{constructor(t){if(this.scrollStrategy=new jd,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class fu{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class pu{constructor(t,e,i,o,l,d,m,v,D){this._portalOutlet=t,this._host=e,this._pane=i,this._config=o,this._ngZone=l,this._keyboardDispatcher=d,this._document=m,this._location=v,this._outsideClickDispatcher=D,this._backdropElement=null,this._backdropClick=new st.x,this._attachments=new st.x,this._detachments=new st.x,this._locationChanges=Ni.w0.EMPTY,this._backdropClickHandler=A=>this._backdropClick.next(A),this._backdropTransitionendHandler=A=>{this._disposeBackdrop(A.target)},this._keydownEvents=new st.x,this._outsidePointerEvents=new st.x,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,_n.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Hn(this._config.width),t.height=Hn(this._config.height),t.minWidth=Hn(this._config.minWidth),t.minHeight=Hn(this._config.minHeight),t.maxWidth=Hn(this._config.maxWidth),t.maxHeight=Hn(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{console.log("fallback"),this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,i){const o=Af(e||[]).filter(l=>!!l);o.length&&(i?t.classList.add(...o):t.classList.remove(...o))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(er((0,Xn.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let jf=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||mv()){const o=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let l=0;l<o.length;l++)o[l].remove()}const i=this._document.createElement("div");i.classList.add(e),mv()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(J),c.LFG(pi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ym="cdk-overlay-connected-position-bounding-box",zv=/([A-Za-z%]+)$/;class Gv{constructor(t,e,i,o,l){this._viewportRuler=e,this._document=i,this._platform=o,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new st.x,this._resizeSubscription=Ni.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(ym),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,o=this._containerRect,l=[];let d;for(let m of this._preferredPositions){let v=this._getOriginPoint(t,o,m),D=this._getOverlayPoint(v,e,m),A=this._getOverlayFit(D,e,i,m);if(A.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(m,v);this._canFitWithFlexibleDimensions(A,D,i)?l.push({position:m,origin:v,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(v,m)}):(!d||d.overlayFit.visibleArea<A.visibleArea)&&(d={overlayFit:A,overlayPoint:D,originPoint:v,position:m,overlayRect:e})}if(l.length){let m=null,v=-1;for(const D of l){const A=D.boundingBoxRect.width*D.boundingBoxRect.height*(D.position.weight||1);A>v&&(v=A,m=D)}return this._isPushed=!1,void this._applyPosition(m.position,m.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(d.position,d.originPoint);this._applyPosition(d.position,d.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&nl(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ym),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let o,l;if("center"==i.originX)o=t.left+t.width/2;else{const d=this._isRtl()?t.right:t.left,m=this._isRtl()?t.left:t.right;o="start"==i.originX?d:m}return e.left<0&&(o-=e.left),l="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(l-=e.top),{x:o,y:l}}_getOverlayPoint(t,e,i){let o,l;return o="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,l="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+o,y:t.y+l}}_getOverlayFit(t,e,i,o){const l=bm(e);let{x:d,y:m}=t,v=this._getOffset(o,"x"),D=this._getOffset(o,"y");v&&(d+=v),D&&(m+=D);let V=0-m,W=m+l.height-i.height,te=this._subtractOverflows(l.width,0-d,d+l.width-i.width),Se=this._subtractOverflows(l.height,V,W),$e=te*Se;return{visibleArea:$e,isCompletelyWithinViewport:l.width*l.height===$e,fitsInViewportVertically:Se===l.height,fitsInViewportHorizontally:te==l.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const o=i.bottom-e.y,l=i.right-e.x,d=vm(this._overlayRef.getConfig().minHeight),m=vm(this._overlayRef.getConfig().minWidth),D=t.fitsInViewportHorizontally||null!=m&&m<=l;return(t.fitsInViewportVertically||null!=d&&d<=o)&&D}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const o=bm(e),l=this._viewportRect,d=Math.max(t.x+o.width-l.width,0),m=Math.max(t.y+o.height-l.height,0),v=Math.max(l.top-i.top-t.y,0),D=Math.max(l.left-i.left-t.x,0);let A=0,x=0;return A=o.width<=l.width?D||-d:t.x<this._viewportMargin?l.left-i.left-t.x:0,x=o.height<=l.height?v||-m:t.y<this._viewportMargin?l.top-i.top-t.y:0,this._previousPushAmount={x:A,y:x},{x:t.x+A,y:t.y+x}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),o=new fu(t,i);this._positionChanges.next(o)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,o=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let l=0;l<e.length;l++)e[l].style.transformOrigin=`${i} ${o}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,o=this._isRtl();let l,d,m,A,x,V;if("top"===e.overlayY)d=t.y,l=i.height-d+this._viewportMargin;else if("bottom"===e.overlayY)m=i.height-t.y+2*this._viewportMargin,l=i.height-m+this._viewportMargin;else{const W=Math.min(i.bottom-t.y+i.top,t.y),te=this._lastBoundingBoxSize.height;l=2*W,d=t.y-W,l>te&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.y-te/2)}if("end"===e.overlayX&&!o||"start"===e.overlayX&&o)V=i.width-t.x+this._viewportMargin,A=t.x-this._viewportMargin;else if("start"===e.overlayX&&!o||"end"===e.overlayX&&o)x=t.x,A=i.right-t.x;else{const W=Math.min(i.right-t.x+i.left,t.x),te=this._lastBoundingBoxSize.width;A=2*W,x=t.x-W,A>te&&!this._isInitialRender&&!this._growAfterOpen&&(x=t.x-te/2)}return{top:d,left:x,bottom:m,right:V,width:A,height:l}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{const l=this._overlayRef.getConfig().maxHeight,d=this._overlayRef.getConfig().maxWidth;o.height=Hn(i.height),o.top=Hn(i.top),o.bottom=Hn(i.bottom),o.width=Hn(i.width),o.left=Hn(i.left),o.right=Hn(i.right),o.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",o.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",l&&(o.maxHeight=Hn(l)),d&&(o.maxWidth=Hn(d))}this._lastBoundingBoxSize=i,nl(this._boundingBox.style,o)}_resetBoundingBoxStyles(){nl(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){nl(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},o=this._hasExactPosition(),l=this._hasFlexibleDimensions,d=this._overlayRef.getConfig();if(o){const A=this._viewportRuler.getViewportScrollPosition();nl(i,this._getExactOverlayY(e,t,A)),nl(i,this._getExactOverlayX(e,t,A))}else i.position="static";let m="",v=this._getOffset(e,"x"),D=this._getOffset(e,"y");v&&(m+=`translateX(${v}px) `),D&&(m+=`translateY(${D}px)`),i.transform=m.trim(),d.maxHeight&&(o?i.maxHeight=Hn(d.maxHeight):l&&(i.maxHeight="")),d.maxWidth&&(o?i.maxWidth=Hn(d.maxWidth):l&&(i.maxWidth="")),nl(this._pane.style,i)}_getExactOverlayY(t,e,i){let o={top:"",bottom:""},l=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,i)),"bottom"===t.overlayY?o.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":o.top=Hn(l.y),o}_getExactOverlayX(t,e,i){let d,o={left:"",right:""},l=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,i)),d=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===d?o.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":o.left=Hn(l.x),o}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Hf(t,i),isOriginOutsideView:mr(t,i),isOverlayClipped:Hf(e,i),isOverlayOutsideView:mr(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,o)=>i-Math.max(o,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Af(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof c.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function nl(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function vm(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(zv);return e&&"px"!==e?null:parseFloat(t)}return n||null}function bm(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Cm="cdk-global-overlay-wrapper";class $v{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Cm),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:o,height:l,maxWidth:d,maxHeight:m}=i,v=!("100%"!==o&&"100vw"!==o||d&&"100%"!==d&&"100vw"!==d),D=!("100%"!==l&&"100vh"!==l||m&&"100%"!==m&&"100vh"!==m);t.position=this._cssPosition,t.marginLeft=v?"0":this._leftOffset,t.marginTop=D?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,v?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=D?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(Cm),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let cw=(()=>{class n{constructor(e,i,o,l){this._viewportRuler=e,this._document=i,this._platform=o,this._overlayContainer=l}global(){return new $v}flexibleConnectedTo(e){return new Gv(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(dm),c.LFG(J),c.LFG(pi),c.LFG(jf))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Em=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uw=(()=>{class n extends Em{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=o=>{const l=this._attachedOverlays;for(let d=l.length-1;d>-1;d--)if(l[d]._keydownEvents.observers.length>0){const m=l[d]._keydownEvents;this._ngZone?this._ngZone.run(()=>m.next(o)):m.next(o);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(J),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wv=(()=>{class n extends Em{constructor(e,i,o){super(e),this._platform=i,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=l=>{this._pointerDownEventTarget=lu(l)},this._clickListener=l=>{const d=lu(l),m="click"===l.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:d;this._pointerDownEventTarget=null;const v=this._attachedOverlays.slice();for(let D=v.length-1;D>-1;D--){const A=v[D];if(A._outsidePointerEvents.observers.length<1||!A.hasAttached())continue;if(A.overlayElement.contains(d)||A.overlayElement.contains(m))break;const x=A._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>x.next(l)):x.next(l)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(J),c.LFG(pi),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qv=0,il=(()=>{class n{constructor(e,i,o,l,d,m,v,D,A,x,V){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=o,this._positionBuilder=l,this._keyboardDispatcher=d,this._injector=m,this._ngZone=v,this._document=D,this._directionality=A,this._location=x,this._outsideClickDispatcher=V}create(e){const i=this._createHostElement(),o=this._createPaneElement(i),l=this._createPortalOutlet(o),d=new ba(e);return d.direction=d.direction||this._directionality.value,new pu(l,i,o,d,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+qv++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new wv(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(hu),c.LFG(jf),c.LFG(c._Vd),c.LFG(cw),c.LFG(uw),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(J),c.LFG(Nd),c.LFG(me),c.LFG(Wv))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const dw=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],wm=new c.OlP("cdk-connected-overlay-scroll-strategy");let Zv=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),Dm=(()=>{class n{constructor(e,i,o,l,d){this._overlay=e,this._dir=d,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Ni.w0.EMPTY,this._attachSubscription=Ni.w0.EMPTY,this._detachSubscription=Ni.w0.EMPTY,this._positionSubscription=Ni.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new c.vpe,this.positionChange=new c.vpe,this.attach=new c.vpe,this.detach=new c.vpe,this.overlayKeydown=new c.vpe,this.overlayOutsideClick=new c.vpe,this._templatePortal=new cu(i,o),this._scrollStrategyFactory=l,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Qn(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Qn(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Qn(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Qn(e)}get push(){return this._push}set push(e){this._push=Qn(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=dw);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!tl(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new ba({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(o=>({originX:o.originX,originY:o.originY,overlayX:o.overlayX,overlayY:o.overlayY,offsetX:o.offsetX||this.offsetX,offsetY:o.offsetY||this.offsetY,panelClass:o.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Zv?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function OT(n,t=!1){return(0,un.e)((e,i)=>{let o=0;e.subscribe((0,Ht.x)(i,l=>{const d=n(l,o++);(d||t)&&i.next(l),!d&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(il),c.Y36(c.Rgc),c.Y36(c.s_b),c.Y36(wm),c.Y36(Nd,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[c.TTD]}),n})();const fw={provide:wm,deps:[il],useFactory:function hw(n){return()=>n.scrollStrategies.reposition()}};let Yv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[il,fw],imports:[[Of,hm,tc],tc]}),n})();function qd(n,t=au.z){return(0,un.e)((e,i)=>{let o=null,l=null,d=null;const m=()=>{if(o){o.unsubscribe(),o=null;const D=l;l=null,i.next(D)}};function v(){const D=d+n,A=t.now();if(A<D)return o=this.schedule(void 0,D-A),void i.add(o);m()}e.subscribe((0,Ht.x)(i,D=>{l=D,d=t.now(),o||(o=t.schedule(v,n),i.add(o))},()=>{m(),i.complete()},void 0,()=>{l=o=null}))})}function Kv(n){return yn((t,e)=>n<=e)}function Qv(n,t=Oi.y){return n=null!=n?n:DA,(0,un.e)((e,i)=>{let o,l=!0;e.subscribe((0,Ht.x)(i,d=>{const m=t(d);(l||!n(o,m))&&(l=!1,o=m,i.next(d))}))})}function DA(n,t){return n===t}class Jv extends class yw{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new st.x,this._typeaheadSubscription=Ni.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new st.x,this.change=new st.x,t instanceof c.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const o=e.toArray().indexOf(this._activeItem);o>-1&&o!==this._activeItemIndex&&(this._activeItemIndex=o)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,An.b)(e=>this._pressedLetters.push(e)),qd(t),yn(()=>this._pressedLetters.length>0),(0,it.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let o=1;o<i.length+1;o++){const l=(this._activeItemIndex+o)%i.length,d=i[l];if(!this._skipPredicateFn(d)&&0===d.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(l);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,o=["altKey","ctrlKey","metaKey","shiftKey"].every(l=>!t[l]||this._allowedModifierKeys.indexOf(l)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&o){this.setNextItemActive();break}return;case 38:if(this._vertical&&o){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&o){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&o){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&o){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&o){this.setLastItemActive();break}return;default:return void((o||tl(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t),o=e[i];this._activeItem=null==o?null:o,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const o=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[o]))return void this.setActiveItem(o)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof c.n_E?this._items.toArray():this._items}}{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}let eb=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function bw(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function vw(n){try{return n.frameElement}catch(t){return null}}(function Zd(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===Gf(i)||!this.isVisible(i)))return!1;let o=e.nodeName.toLowerCase(),l=Gf(e);return e.hasAttribute("contenteditable")?-1!==l:!("iframe"===o||"object"===o||this._platform.WEBKIT&&this._platform.IOS&&!function ww(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===o?!!e.hasAttribute("controls")&&-1!==l:"video"===o?-1!==l&&(null!==l||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function xA(n){return!function Cw(n){return function ib(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function tb(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function nb(n){return function Sm(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Ew(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(pi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ew(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function Gf(n){if(!Ew(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class rb{constructor(t,e,i,o,l=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,l||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const o=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(o)return o}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const o=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(o)return o}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe((0,_n.q)(1)).subscribe(t)}}let Tm=(()=>{class n{constructor(e,i,o){this._checker=e,this._ngZone=i,this._document=o}create(e,i=!1){return new rb(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(eb),c.LFG(c.R0b),c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ab(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Yd(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const $f=new c.OlP("cdk-input-modality-detector-options"),lb={ignoreKeys:[18,17,224,91,16]},rl=Pd({passive:!0,capture:!0});let cb=(()=>{class n{constructor(e,i,o,l){this._platform=e,this._mostRecentTarget=null,this._modality=new hi(null),this._lastTouchMs=0,this._onKeydown=d=>{var m,v;(null===(v=null===(m=this._options)||void 0===m?void 0:m.ignoreKeys)||void 0===v?void 0:v.some(D=>D===d.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=lu(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ab(d)?"keyboard":"mouse"),this._mostRecentTarget=lu(d))},this._onTouchstart=d=>{Yd(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=lu(d))},this._options=Object.assign(Object.assign({},lb),l),this.modalityDetected=this._modality.pipe(Kv(1)),this.modalityChanged=this.modalityDetected.pipe(Qv()),e.isBrowser&&i.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,rl),o.addEventListener("mousedown",this._onMousedown,rl),o.addEventListener("touchstart",this._onTouchstart,rl)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,rl),document.removeEventListener("mousedown",this._onMousedown,rl),document.removeEventListener("touchstart",this._onTouchstart,rl))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(pi),c.LFG(c.R0b),c.LFG(J),c.LFG($f,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ub=new c.OlP("liveAnnouncerElement",{providedIn:"root",factory:function xm(){return null}}),Rm=new c.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Om=(()=>{class n{constructor(e,i,o,l){this._ngZone=i,this._defaultOptions=l,this._document=o,this._liveElement=e||this._createLiveElement()}announce(e,...i){const o=this._defaultOptions;let l,d;return 1===i.length&&"number"==typeof i[0]?d=i[0]:[l,d]=i,this.clear(),clearTimeout(this._previousTimeout),l||(l=o&&o.politeness?o.politeness:"polite"),null==d&&o&&(d=o.duration),this._liveElement.setAttribute("aria-live",l),this._ngZone.runOutsideAngular(()=>new Promise(m=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,m(),"number"==typeof d&&(this._previousTimeout=setTimeout(()=>this.clear(),d))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var e;clearTimeout(this._previousTimeout),null===(e=this._liveElement)||void 0===e||e.remove(),this._liveElement=null}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),o=this._document.createElement("div");for(let l=0;l<i.length;l++)i[l].remove();return o.classList.add(e),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),this._document.body.appendChild(o),o}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ub,8),c.LFG(c.R0b),c.LFG(J),c.LFG(Rm,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const db=new c.OlP("cdk-focus-monitor-default-options"),mu=Pd({passive:!0,capture:!0});let Wf=(()=>{class n{constructor(e,i,o,l,d){this._ngZone=e,this._platform=i,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new st.x,this._rootNodeFocusAndBlurListener=m=>{const v=lu(m),D="focus"===m.type?this._onFocus:this._onBlur;for(let A=v;A;A=A.parentElement)D.call(this,m,A)},this._document=l,this._detectionMode=(null==d?void 0:d.detectionMode)||0}monitor(e,i=!1){const o=Ys(e);if(!this._platform.isBrowser||1!==o.nodeType)return ze(null);const l=function cm(n){if(function w0(){if(null==Rf){const n="undefined"!=typeof document?document.head:null;Rf=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Rf}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(o)||this._getDocument(),d=this._elementInfo.get(o);if(d)return i&&(d.checkChildren=!0),d.subject;const m={checkChildren:i,subject:new st.x,rootNode:l};return this._elementInfo.set(o,m),this._registerGlobalListeners(m),m.subject}stopMonitoring(e){const i=Ys(e),o=this._elementInfo.get(i);o&&(o.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(o))}focusVia(e,i,o){const l=Ys(e);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([m,v])=>this._originChanged(m,i,v)):(this._setOrigin(i),"function"==typeof l.focus&&l.focus(o))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const o=this._elementInfo.get(i),l=lu(e);!o||!o.checkChildren&&i!==l||this._originChanged(i,this._getFocusOrigin(l),o)}_onBlur(e,i){const o=this._elementInfo.get(i);!o||o.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(o.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,o=this._rootNodeFocusListenerCount.get(i)||0;o||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,mu),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,mu)}),this._rootNodeFocusListenerCount.set(i,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(er(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const o=this._rootNodeFocusListenerCount.get(i);o>1?this._rootNodeFocusListenerCount.set(i,o-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,mu),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,mu),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,o){this._setClasses(e,i),this._emitOrigin(o.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((o,l)=>{(l===e||o.checkChildren&&l.contains(e))&&i.push([l,o])}),i}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.R0b),c.LFG(pi),c.LFG(cb),c.LFG(J,8),c.LFG(db,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Pm="cdk-high-contrast-black-on-white",Nm="cdk-high-contrast-white-on-black",qf="cdk-high-contrast-active";let Fm=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,o=i&&i.getComputedStyle?i.getComputedStyle(e):null,l=(o&&o.backgroundColor||"").replace(/ /g,"");switch(e.remove(),l){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(qf),e.remove(Pm),e.remove(Nm),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(qf),e.add(Pm)):2===i&&(e.add(qf),e.add(Nm))}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(pi),c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Lm{}const So="*";function _u(n,t){return{type:7,name:n,definitions:t,options:{}}}function sl(n,t=null){return{type:4,styles:t,timings:n}}function Bm(n,t=null){return{type:3,steps:n,options:t}}function Vm(n,t=null){return{type:2,steps:n,options:t}}function _r(n){return{type:6,styles:n,offset:null}}function ol(n,t,e){return{type:0,name:n,styles:t,options:e}}function Ca(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function jn(n=null){return{type:9,options:n}}function Um(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function Hm(n){Promise.resolve(null).then(n)}class Kd{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Hm(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class jm{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,o=0;const l=this.players.length;0==l?Hm(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++e==l&&this._onFinish()}),d.onDestroy(()=>{++i==l&&this._onDestroy()}),d.onStart(()=>{++o==l&&this._onStart()})}),this.totalTime=this.players.reduce((d,m)=>Math.max(d,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const o=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(o)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const Dt=!1;function fb(n){return new c.vHH(3e3,Dt)}function Ib(){return"undefined"!=typeof window&&void 0!==window.document}function Xf(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ea(n){switch(n.length){case 0:return new Kd;case 1:return n[0];default:return new jm(n)}}function Zm(n,t,e,i,o={},l={}){const d=[],m=[];let v=-1,D=null;if(i.forEach(A=>{const x=A.offset,V=x==v,W=V&&D||{};Object.keys(A).forEach(te=>{let Se=te,$e=A[te];if("offset"!==te)switch(Se=t.normalizePropertyName(Se,d),$e){case"!":$e=o[te];break;case So:$e=l[te];break;default:$e=t.normalizeStyleValue(te,Se,$e,d)}W[Se]=$e}),V||m.push(W),D=W,v=x}),d.length)throw function vb(n){return new c.vHH(3502,Dt)}();return m}function Jf(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&Ym(e,"start",n)));break;case"done":n.onDone(()=>i(e&&Ym(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&Ym(e,"destroy",n)))}}function Ym(n,t,e){const i=e.totalTime,l=Km(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),d=n._data;return null!=d&&(l._data=d),l}function Km(n,t,e,i,o="",l=0,d){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:o,totalTime:l,disabled:!!d}}function zr(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function Sb(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let Qm=(n,t)=>!1,Tb=(n,t,e)=>[],Ab=null;function Xm(n){const t=n.parentNode||n.host;return t===Ab?null:t}(Xf()||"undefined"!=typeof Element)&&(Ib()?(Ab=(()=>document.documentElement)(),Qm=(n,t)=>{for(;t;){if(t===n)return!0;t=Xm(t)}return!1}):Qm=(n,t)=>n.contains(t),Tb=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let sc=null,Mb=!1;function kb(n){sc||(sc=function Vw(){return"undefined"!=typeof document?document.body:null}()||{},Mb=!!sc.style&&"WebkitAppearance"in sc.style);let t=!0;return sc.style&&!function Bw(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in sc.style,!t&&Mb&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in sc.style)),t}const xb=Qm,Rb=Tb;let Jm=(()=>{class n{validateStyleProperty(e){return kb(e)}matchesElement(e,i){return!1}containsElement(e,i){return xb(e,i)}getParentElement(e){return Xm(e)}query(e,i,o){return Rb(e,i,o)}computeStyle(e,i,o){return o||""}animate(e,i,o,l,d,m=[],v){return new Kd(o,l)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ep=(()=>{class n{}return n.NOOP=new Jm,n})();const tp="ng-enter",Xd="ng-leave",Jd="ng-trigger",eh=".ng-trigger",np="ng-animating",th=".ng-animating";function Gr(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:t_(parseFloat(t[1]),t[2])}function t_(n,t){return"s"===t?1e3*n:n}function ip(n,t,e){return n.hasOwnProperty("duration")?n:function yu(n,t,e){let o,l=0,d="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return t.push(fb()),{duration:0,delay:0,easing:""};o=t_(parseFloat(m[1]),m[2]);const v=m[3];null!=v&&(l=t_(parseFloat(v),m[4]));const D=m[5];D&&(d=D)}else o=n;if(!e){let m=!1,v=t.length;o<0&&(t.push(function pb(){return new c.vHH(3100,Dt)}()),m=!0),l<0&&(t.push(function Tw(){return new c.vHH(3101,Dt)}()),m=!0),m&&t.splice(v,0,fb())}return{duration:o,delay:l,easing:d}}(n,t,e)}function nh(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function oc(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else nh(n,e);return e}function n_(n,t,e){return e?t+":"+e+";":""}function i_(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=n_(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=n_(0,UA(e),n.style[e]));n.setAttribute("style",t)}function wa(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const o=bn(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[o]),n.style[o]=t[i]}),Xf()&&i_(n))}function tt(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=bn(e);n.style[i]=""}),Xf()&&i_(n))}function ih(n){return Array.isArray(n)?1==n.length?n[0]:Vm(n):n}const r_=new RegExp("{{\\s*(.+?)\\s*}}","g");function rh(n){let t=[];if("string"==typeof n){let e;for(;e=r_.exec(n);)t.push(e[1]);r_.lastIndex=0}return t}function sp(n,t,e){const i=n.toString(),o=i.replace(r_,(l,d)=>{let m=t[d];return t.hasOwnProperty(d)||(e.push(function LA(n){return new c.vHH(3003,Dt)}()),m=""),m.toString()});return o==i?n:o}function ac(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const op=/-+([a-z0-9])/g;function bn(n){return n.replace(op,(...t)=>t[1].toUpperCase())}function UA(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function $r(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function zm(n){return new c.vHH(3004,Dt)}()}}function s_(n,t){return window.getComputedStyle(n)[t]}function Gw(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function $w(n,t,e){if(":"==n[0]){const v=function cp(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Qd(n){return new c.vHH(3016,Dt)}()),"* => *"}}(n,e);if("function"==typeof v)return void t.push(v);n=v}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function $m(n){return new c.vHH(3015,Dt)}()),t;const o=i[1],l=i[2],d=i[3];t.push(o_(o,d));"<"==l[0]&&!("*"==o&&"*"==d)&&t.push(o_(d,o))}(i,e,t)):e.push(n),e}const ah=new Set(["true","1"]),lh=new Set(["false","0"]);function o_(n,t){const e=ah.has(n)||lh.has(n),i=ah.has(t)||lh.has(t);return(o,l)=>{let d="*"==n||n==o,m="*"==t||t==l;return!d&&e&&"boolean"==typeof o&&(d=o?ah.has(n):lh.has(n)),!m&&i&&"boolean"==typeof l&&(m=l?ah.has(t):lh.has(t)),d&&m}}const ch=new RegExp("s*:selfs*,?","g");function lc(n,t,e,i){return new Ww(n).build(t,e,i)}class Ww{constructor(t){this._driver=t}build(t,e,i){const o=new Ub(e);this._resetContextStyleTimingState(o);const l=$r(this,ih(t),o);return o.unsupportedCSSPropertiesFound.size&&o.unsupportedCSSPropertiesFound.keys(),l}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,o=e.depCount=0;const l=[],d=[];return"@"==t.name.charAt(0)&&e.errors.push(function To(){return new c.vHH(3006,Dt)}()),t.definitions.forEach(m=>{if(this._resetContextStyleTimingState(e),0==m.type){const v=m,D=v.name;D.toString().split(/\s*,\s*/).forEach(A=>{v.name=A,l.push(this.visitState(v,e))}),v.name=D}else if(1==m.type){const v=this.visitTransition(m,e);i+=v.queryCount,o+=v.depCount,d.push(v)}else e.errors.push(function Aw(){return new c.vHH(3007,Dt)}())}),{type:7,name:t.name,states:l,transitions:d,queryCount:i,depCount:o,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),o=t.options&&t.options.params||null;if(i.containsDynamicStyles){const l=new Set,d=o||{};i.styles.forEach(m=>{if(up(m)){const v=m;Object.keys(v).forEach(D=>{rh(v[D]).forEach(A=>{d.hasOwnProperty(A)||l.add(A)})})}}),l.size&&(ac(l.values()),e.errors.push(function Mw(n,t){return new c.vHH(3008,Dt)}()))}return{type:0,name:t.name,style:i,options:o?{params:o}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=$r(this,ih(t.animation),e);return{type:1,matchers:Gw(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:cc(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>$r(this,i,e)),options:cc(t.options)}}visitGroup(t,e){const i=e.currentTime;let o=0;const l=t.steps.map(d=>{e.currentTime=i;const m=$r(this,d,e);return o=Math.max(o,e.currentTime),m});return e.currentTime=o,{type:3,steps:l,options:cc(t.options)}}visitAnimate(t,e){const i=function jb(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return a_(ip(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=a_(0,0,"");return l.dynamic=!0,l.strValue=i,l}return e=e||ip(i,t),a_(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let o,l=t.styles?t.styles:_r({});if(5==l.type)o=this.visitKeyframes(l,e);else{let d=t.styles,m=!1;if(!d){m=!0;const D={};i.easing&&(D.easing=i.easing),d=_r(D)}e.currentTime+=i.duration+i.delay;const v=this.visitStyle(d,e);v.isEmptyStep=m,o=v}return e.currentAnimateTimings=null,{type:4,timings:i,style:o,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(d=>{"string"==typeof d?d==So?i.push(d):e.errors.push(function Ao(n){return new c.vHH(3002,Dt)}()):i.push(d)}):i.push(t.styles);let o=!1,l=null;return i.forEach(d=>{if(up(d)){const m=d,v=m.easing;if(v&&(l=v,delete m.easing),!o)for(let D in m)if(m[D].toString().indexOf("{{")>=0){o=!0;break}}}),{type:6,styles:i,easing:l,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let o=e.currentTime,l=e.currentTime;i&&l>0&&(l-=i.duration+i.delay),t.styles.forEach(d=>{"string"!=typeof d&&Object.keys(d).forEach(m=>{if(!this._driver.validateStyleProperty(m))return delete d[m],void e.unsupportedCSSPropertiesFound.add(m);const v=e.collectedStyles[e.currentQuerySelector],D=v[m];let A=!0;D&&(l!=o&&l>=D.startTime&&o<=D.endTime&&(e.errors.push(function Js(n,t,e,i,o){return new c.vHH(3010,Dt)}()),A=!1),l=D.startTime),A&&(v[m]={startTime:l,endTime:o}),e.options&&function Uw(n,t,e){const i=t.params||{},o=rh(n);o.length&&o.forEach(l=>{i.hasOwnProperty(l)||e.push(function gb(n){return new c.vHH(3001,Dt)}())})}(d[m],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function mb(){return new c.vHH(3011,Dt)}()),i;let l=0;const d=[];let m=!1,v=!1,D=0;const A=t.steps.map(Ct=>{const ht=this._makeStyleAst(Ct,e);let St=null!=ht.offset?ht.offset:function Hb(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(up(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(up(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(ht.styles),_t=0;return null!=St&&(l++,_t=ht.offset=St),v=v||_t<0||_t>1,m=m||_t<D,D=_t,d.push(_t),ht});v&&e.errors.push(function _b(){return new c.vHH(3012,Dt)}()),m&&e.errors.push(function kw(){return new c.vHH(3200,Dt)}());const x=t.steps.length;let V=0;l>0&&l<x?e.errors.push(function xw(){return new c.vHH(3202,Dt)}()):0==l&&(V=1/(x-1));const W=x-1,te=e.currentTime,Se=e.currentAnimateTimings,$e=Se.duration;return A.forEach((Ct,ht)=>{const St=V>0?ht==W?1:V*ht:d[ht],_t=St*$e;e.currentTime=te+Se.delay+_t,Se.duration=_t,this._validateStyleAst(Ct,e),Ct.offset=St,i.styles.push(Ct)}),i}visitReference(t,e){return{type:8,animation:$r(this,ih(t.animation),e),options:cc(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:cc(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:cc(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,o=t.options||{};e.queryCount++,e.currentQuery=t;const[l,d]=function qw(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(ch,"")),n=n.replace(/@\*/g,eh).replace(/@\w+/g,e=>eh+"-"+e.substr(1)).replace(/:animating/g,th),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+l:l,zr(e.collectedStyles,e.currentQuerySelector,{});const m=$r(this,ih(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:l,limit:o.limit||0,optional:!!o.optional,includeSelf:d,animation:m,originalSelector:t.selector,options:cc(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Rw(){return new c.vHH(3013,Dt)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:ip(t.timings,e.errors,!0);return{type:12,animation:$r(this,ih(t.animation),e),timings:i,options:null}}}class Ub{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function up(n){return!Array.isArray(n)&&"object"==typeof n}function cc(n){return n?(n=nh(n)).params&&(n.params=function Vb(n){return n?nh(n):null}(n.params)):n={},n}function a_(n,t,e){return{duration:n,delay:t,easing:e}}function zb(n,t,e,i,o,l,d=null,m=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:o,delay:l,totalTime:o+l,easing:d,subTimeline:m}}class l_{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Gb=new RegExp(":enter","g"),Zw=new RegExp(":leave","g");function c_(n,t,e,i,o,l={},d={},m,v,D=[]){return(new $b).buildKeyframes(n,t,e,i,o,l,d,m,v,D)}class $b{buildKeyframes(t,e,i,o,l,d,m,v,D,A=[]){D=D||new l_;const x=new u_(t,e,D,o,l,A,[]);x.options=v,x.currentTimeline.setStyles([d],null,x.errors,v),$r(this,i,x);const V=x.timelines.filter(W=>W.containsAnimation());if(Object.keys(m).length){let W;for(let te=V.length-1;te>=0;te--){const Se=V[te];if(Se.element===e){W=Se;break}}W&&!W.allowOnlyTimelineStyles()&&W.setStyles([m],null,x.errors,v)}return V.length?V.map(W=>W.buildKeyframes()):[zb(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const o=e.createSubContext(t.options),l=e.currentTimeline.currentTime,d=this._visitSubInstructions(i,o,o.options);l!=d&&e.transformIntoNewTimeline(d)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let l=e.currentTimeline.currentTime;const d=null!=i.duration?Gr(i.duration):null,m=null!=i.delay?Gr(i.delay):null;return 0!==d&&t.forEach(v=>{const D=e.appendInstructionToTimeline(v,d,m);l=Math.max(l,D.duration+D.delay)}),l}visitReference(t,e){e.updateOptions(t.options,!0),$r(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let o=e;const l=t.options;if(l&&(l.params||l.delay)&&(o=e.createSubContext(l),o.transformIntoNewTimeline(),null!=l.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=al);const d=Gr(l.delay);o.delayNextStep(d)}t.steps.length&&(t.steps.forEach(d=>$r(this,d,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>i&&o.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let o=e.currentTimeline.currentTime;const l=t.options&&t.options.delay?Gr(t.options.delay):0;t.steps.forEach(d=>{const m=e.createSubContext(t.options);l&&m.delayNextStep(l),$r(this,d,m),o=Math.max(o,m.currentTimeline.currentTime),i.push(m.currentTimeline)}),i.forEach(d=>e.currentTimeline.mergeTimelineCollectedStyles(d)),e.transformIntoNewTimeline(o),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return ip(e.params?sp(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),o=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),o.snapshotCurrentStyles());const l=t.style;5==l.type?this.visitKeyframes(l,e):(e.incrementTime(i.duration),this.visitStyle(l,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,o=e.currentAnimateTimings;!o&&i.getCurrentStyleProperties().length&&i.forwardFrame();const l=o&&o.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(l):i.setStyles(t.styles,l,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,o=e.currentTimeline.duration,l=i.duration,m=e.createSubContext().currentTimeline;m.easing=i.easing,t.styles.forEach(v=>{m.forwardTime((v.offset||0)*l),m.setStyles(v.styles,v.easing,e.errors,e.options),m.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(m),e.transformIntoNewTimeline(o+l),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,o=t.options||{},l=o.delay?Gr(o.delay):0;l&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=al);let d=i;const m=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=m.length;let v=null;m.forEach((D,A)=>{e.currentQueryIndex=A;const x=e.createSubContext(t.options,D);l&&x.delayNextStep(l),D===e.element&&(v=x.currentTimeline),$r(this,t.animation,x),x.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,x.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(d),v&&(e.currentTimeline.mergeTimelineCollectedStyles(v),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,o=e.currentTimeline,l=t.timings,d=Math.abs(l.duration),m=d*(e.currentQueryTotal-1);let v=d*e.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":v=m-v;break;case"full":v=i.currentStaggerTime}const A=e.currentTimeline;v&&A.delayNextStep(v);const x=A.currentTime;$r(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=o.currentTime-x+(o.startTime-i.currentTimeline.startTime)}}const al={};class u_{constructor(t,e,i,o,l,d,m,v){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=o,this._leaveClassName=l,this.errors=d,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=al,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new hp(this._driver,e,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let o=this.options;null!=i.duration&&(o.duration=Gr(i.duration)),null!=i.delay&&(o.delay=Gr(i.delay));const l=i.params;if(l){let d=o.params;d||(d=this.options.params={}),Object.keys(l).forEach(m=>{(!e||!d.hasOwnProperty(m))&&(d[m]=sp(l[m],d,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(o=>{i[o]=e[o]})}}return t}createSubContext(t=null,e,i){const o=e||this.element,l=new u_(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,i||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(t),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(t){return this.previousNode=al,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const o={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},l=new Yw(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,o,t.stretchStartingKeyframe);return this.timelines.push(l),o}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,o,l,d){let m=[];if(o&&m.push(this.element),t.length>0){t=(t=t.replace(Gb,"."+this._enterClassName)).replace(Zw,"."+this._leaveClassName);let D=this._driver.query(this.element,t,1!=i);0!==i&&(D=i<0?D.slice(D.length+i,D.length):D.slice(0,i)),m.push(...D)}return!l&&0==m.length&&d.push(function Ow(n){return new c.vHH(3014,Dt)}()),m}}class hp{constructor(t,e,i,o){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new hp(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||So,this._currentKeyframe[e]=So}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,o){e&&(this._previousKeyframe.easing=e);const l=o&&o.params||{},d=function Kw(n,t){const e={};let i;return n.forEach(o=>{"*"===o?(i=i||Object.keys(t),i.forEach(l=>{e[l]=So})):oc(o,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(d).forEach(m=>{const v=sp(d[m],l,i);this._pendingStyles[m]=v,this._localTimelineStyles.hasOwnProperty(m)||(this._backFill[m]=this._globalTimelineStyles.hasOwnProperty(m)?this._globalTimelineStyles[m]:So),this._updateStyle(m,v)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],o=t._styleSummary[e];(!i||o.time>i.time)&&this._updateStyle(e,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((m,v)=>{const D=oc(m,!0);Object.keys(D).forEach(A=>{const x=D[A];"!"==x?t.add(A):x==So&&e.add(A)}),i||(D.offset=v/this.duration),o.push(D)});const l=t.size?ac(t.values()):[],d=e.size?ac(e.values()):[];if(i){const m=o[0],v=nh(m);m.offset=0,v.offset=1,o=[m,v]}return zb(this.element,o,l,d,this.duration,this.startTime,this.easing,!1)}}class Yw extends hp{constructor(t,e,i,o,l,d,m=!1){super(t,e,d.delay),this.keyframes=i,this.preStyleProps=o,this.postStyleProps=l,this._stretchStartingKeyframe=m,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const l=[],d=i+e,m=e/d,v=oc(t[0],!1);v.offset=0,l.push(v);const D=oc(t[0],!1);D.offset=Wb(m),l.push(D);const A=t.length-1;for(let x=1;x<=A;x++){let V=oc(t[x],!1);V.offset=Wb((e+V.offset*i)/d),l.push(V)}i=d,e=0,o="",t=l}return zb(this.element,t,this.preStyleProps,this.postStyleProps,i,e,o,!0)}}function Wb(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class d_{}class vu extends d_{normalizePropertyName(t,e){return bn(t)}normalizeStyleValue(t,e,i,o){let l="";const d=i.toString().trim();if(Xw[e]&&0!==i&&"0"!==i)if("number"==typeof i)l="px";else{const m=i.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&o.push(function Gm(n,t){return new c.vHH(3005,Dt)}())}return d+l}}const Xw=(()=>function qb(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Zb(n,t,e,i,o,l,d,m,v,D,A,x,V){return{type:0,element:n,triggerName:t,isRemovalTransition:o,fromState:e,fromStyles:l,toState:i,toStyles:d,timelines:m,queriedElements:v,preStyleProps:D,postStyleProps:A,totalTime:x,errors:V}}const fp={};class Yb{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,o){return function Kb(n,t,e,i,o){return n.some(l=>l(t,e,i,o))}(this.ast.matchers,t,e,i,o)}buildStyles(t,e,i){const o=this._stateStyles["*"],l=this._stateStyles[t],d=o?o.buildStyles(e,i):{};return l?l.buildStyles(e,i):d}build(t,e,i,o,l,d,m,v,D,A){const x=[],V=this.ast.options&&this.ast.options.params||fp,te=this.buildStyles(i,m&&m.params||fp,x),Se=v&&v.params||fp,$e=this.buildStyles(o,Se,x),Ct=new Set,ht=new Map,St=new Map,_t="void"===o,Ii={params:Object.assign(Object.assign({},V),Se)},$i=A?[]:c_(t,e,this.ast.animation,l,d,te,$e,Ii,D,x);let Kr=0;if($i.forEach(yc=>{Kr=Math.max(yc.duration+yc.delay,Kr)}),x.length)return Zb(e,this._triggerName,i,o,_t,te,$e,[],[],ht,St,Kr,x);$i.forEach(yc=>{const vc=yc.element,BO=zr(ht,vc,{});yc.preStyleProps.forEach($h=>BO[$h]=!0);const $y=zr(St,vc,{});yc.postStyleProps.forEach($h=>$y[$h]=!0),vc!==e&&Ct.add(vc)});const _c=ac(Ct.values());return Zb(e,this._triggerName,i,o,_t,te,$e,$i,_c,ht,St,Kr)}}class Jw{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},o=nh(this.defaultParams);return Object.keys(t).forEach(l=>{const d=t[l];null!=d&&(o[l]=d)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const d=l;Object.keys(d).forEach(m=>{let v=d[m];v.length>1&&(v=sp(v,o,e));const D=this.normalizer.normalizePropertyName(m,e);v=this.normalizer.normalizeStyleValue(m,D,v,e),i[D]=v})}}),i}}class eD{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(o=>{this.states[o.name]=new Jw(o.style,o.options&&o.options.params||{},i)}),f_(this.states,"true","1"),f_(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new Yb(t,o,this.states))}),this.fallbackTransition=function Qb(n,t,e){return new Yb(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,m)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,o){return this.transitionFactories.find(d=>d.match(t,e,i,o))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function f_(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const tD=new l_;class nD{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],l=lc(this._driver,e,i,[]);if(i.length)throw function bb(n){return new c.vHH(3503,Dt)}();this._animations[t]=l}_buildPlayer(t,e,i){const o=t.element,l=Zm(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(o,l,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const o=[],l=this._animations[t];let d;const m=new Map;if(l?(d=c_(this._driver,e,l,tp,Xd,{},{},i,tD,o),d.forEach(A=>{const x=zr(m,A.element,{});A.postStyleProps.forEach(V=>x[V]=null)})):(o.push(function Kf(){return new c.vHH(3300,Dt)}()),d=[]),o.length)throw function Fw(n){return new c.vHH(3504,Dt)}();m.forEach((A,x)=>{Object.keys(A).forEach(V=>{A[V]=this._driver.computeStyle(x,V,So)})});const D=Ea(d.map(A=>{const x=m.get(A.element);return this._buildPlayer(A,{},x)}));return this._playersById[t]=D,D.onDestroy(()=>this.destroy(t)),this.players.push(D),D}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function Cb(n){return new c.vHH(3301,Dt)}();return e}listen(t,e,i,o){const l=Km(e,"","","");return Jf(this._getPlayer(t),i,l,o),()=>{}}command(t,e,i,o){if("register"==i)return void this.register(t,o[0]);if("create"==i)return void this.create(t,e,o[0]||{});const l=this._getPlayer(t);switch(i){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(t)}}}const Xb="ng-animate-queued",g_="ng-animate-disabled",sD=[],eC={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},oD={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},vs="__ng_removed";class m_{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function lD(n){return null!=n?n:null}(i?t.value:t),i){const l=nh(t);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(o=>{null==i[o]&&(i[o]=e[o])})}}}const uh="void",pp=new m_(uh);class tC{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,yr(e,this._hostClassName)}listen(t,e,i,o){if(!this._triggers.hasOwnProperty(e))throw function Eb(n,t){return new c.vHH(3302,Dt)}();if(null==i||0==i.length)throw function Wm(n){return new c.vHH(3303,Dt)}();if(!function cD(n){return"start"==n||"done"==n}(i))throw function Qf(n,t){return new c.vHH(3400,Dt)}();const l=zr(this._elementListeners,t,[]),d={name:e,phase:i,callback:o};l.push(d);const m=zr(this._engine.statesByElement,t,{});return m.hasOwnProperty(e)||(yr(t,Jd),yr(t,Jd+"-"+e),m[e]=pp),()=>{this._engine.afterFlush(()=>{const v=l.indexOf(d);v>=0&&l.splice(v,1),this._triggers[e]||delete m[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function qm(n){return new c.vHH(3401,Dt)}();return e}trigger(t,e,i,o=!0){const l=this._getTrigger(e),d=new __(this.id,e,t);let m=this._engine.statesByElement.get(t);m||(yr(t,Jd),yr(t,Jd+"-"+e),this._engine.statesByElement.set(t,m={}));let v=m[e];const D=new m_(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&v&&D.absorbOptions(v.options),m[e]=D,v||(v=pp),D.value!==uh&&v.value===D.value){if(!function rC(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let o=0;o<e.length;o++){const l=e[o];if(!t.hasOwnProperty(l)||n[l]!==t[l])return!1}return!0}(v.params,D.params)){const Se=[],$e=l.matchStyles(v.value,v.params,Se),Ct=l.matchStyles(D.value,D.params,Se);Se.length?this._engine.reportError(Se):this._engine.afterFlush(()=>{tt(t,$e),wa(t,Ct)})}return}const V=zr(this._engine.playersByElement,t,[]);V.forEach(Se=>{Se.namespaceId==this.id&&Se.triggerName==e&&Se.queued&&Se.destroy()});let W=l.matchTransition(v.value,D.value,t,D.params),te=!1;if(!W){if(!o)return;W=l.fallbackTransition,te=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:W,fromState:v,toState:D,player:d,isFallbackTransition:te}),te||(yr(t,Xb),d.onStart(()=>{bu(t,Xb)})),d.onDone(()=>{let Se=this.players.indexOf(d);Se>=0&&this.players.splice(Se,1);const $e=this._engine.playersByElement.get(t);if($e){let Ct=$e.indexOf(d);Ct>=0&&$e.splice(Ct,1)}}),this.players.push(d),V.push(d),d}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(o=>o.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,eh,!0);i.forEach(o=>{if(o[vs])return;const l=this._engine.fetchNamespacesByElement(o);l.size?l.forEach(d=>d.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(t,e,i,o){const l=this._engine.statesByElement.get(t),d=new Map;if(l){const m=[];if(Object.keys(l).forEach(v=>{if(d.set(v,l[v].value),this._triggers[v]){const D=this.trigger(t,v,uh,o);D&&m.push(D)}}),m.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,d),i&&Ea(m).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const o=new Set;e.forEach(l=>{const d=l.name;if(o.has(d))return;o.add(d);const v=this._triggers[d].fallbackTransition,D=i[d]||pp,A=new m_(uh),x=new __(this.id,d,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:d,transition:v,fromState:D,toState:A,player:x,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let o=!1;if(i.totalAnimations){const l=i.players.length?i.playersByQueriedElement.get(t):[];if(l&&l.length)o=!0;else{let d=t;for(;d=d.parentNode;)if(i.statesByElement.get(d)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(t),o)i.markElementAsRemoved(this.id,t,!1,e);else{const l=t[vs];(!l||l===eC)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){yr(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const o=i.player;if(o.destroyed)return;const l=i.element,d=this._elementListeners.get(l);d&&d.forEach(m=>{if(m.name==i.triggerName){const v=Km(l,i.triggerName,i.fromState.value,i.toState.value);v._data=t,Jf(i.player,m.phase,v,m.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(i)}),this._queue=[],e.sort((i,o)=>{const l=i.transition.ast.depCount,d=o.transition.ast.depCount;return 0==l||0==d?l-d:this._engine.driver.containsElement(i.element,o.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class aD{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,l)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new tC(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,o=this.namespacesByHostElement,l=i.length-1;if(l>=0){let d=!1;if(void 0!==this.driver.getParentElement){let m=this.driver.getParentElement(e);for(;m;){const v=o.get(m);if(v){const D=i.indexOf(v);i.splice(D+1,0,t),d=!0;break}m=this.driver.getParentElement(m)}}else for(let m=l;m>=0;m--)if(this.driver.containsElement(i[m].hostElement,e)){i.splice(m+1,0,t),d=!0;break}d||i.unshift(t)}else i.push(t);return o.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let o=this._namespaceLookup[t];o&&o.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const o=this._namespaceList.indexOf(i);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const o=Object.keys(i);for(let l=0;l<o.length;l++){const d=i[o[l]].namespaceId;if(d){const m=this._fetchNamespace(d);m&&e.add(m)}}}return e}trigger(t,e,i,o){if(gp(e)){const l=this._fetchNamespace(t);if(l)return l.trigger(e,i,o),!0}return!1}insertNode(t,e,i,o){if(!gp(e))return;const l=e[vs];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const d=this.collectedLeaveElements.indexOf(e);d>=0&&this.collectedLeaveElements.splice(d,1)}if(t){const d=this._fetchNamespace(t);d&&d.insertNode(e,i)}o&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),yr(t,g_)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),bu(t,g_))}removeNode(t,e,i,o){if(gp(e)){const l=t?this._fetchNamespace(t):null;if(l?l.removeNode(e,o):this.markElementAsRemoved(t,e,!1,o),i){const d=this.namespacesByHostElement.get(e);d&&d.id!==t&&d.removeNode(e,o)}}else this._onRemovalComplete(e,o)}markElementAsRemoved(t,e,i,o,l){this.collectedLeaveElements.push(e),e[vs]={namespaceId:t,setForRemoval:o,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:l}}listen(t,e,i,o,l){return gp(e)?this._fetchNamespace(t).listen(e,i,o,l):()=>{}}_buildInstruction(t,e,i,o,l){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,o,t.fromState.options,t.toState.options,e,l)}destroyInnerAnimations(t){let e=this.driver.query(t,eh,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,th,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ea(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[vs];if(i&&i.setForRemoval){if(t[vs]=eC,i.namespaceId){this.destroyInnerAnimations(t);const o=this._fetchNamespace(i.namespaceId);o&&o.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(g_))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,o)=>this._balanceNamespaceList(i,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)yr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let o=0;o<i.length;o++)i[o]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Ea(e).onDone(()=>{i.forEach(o=>o())}):i.forEach(o=>o())}}reportError(t){throw function wb(n){return new c.vHH(3402,Dt)}()}_flushAnimations(t,e){const i=new l_,o=[],l=new Map,d=[],m=new Map,v=new Map,D=new Map,A=new Set;this.disabledNodes.forEach(Je=>{A.add(Je);const lt=this.driver.query(Je,".ng-animate-queued",!0);for(let pt=0;pt<lt.length;pt++)A.add(lt[pt])});const x=this.bodyNode,V=Array.from(this.statesByElement.keys()),W=y_(V,this.collectedEnterElements),te=new Map;let Se=0;W.forEach((Je,lt)=>{const pt=tp+Se++;te.set(lt,pt),Je.forEach($t=>yr($t,pt))});const $e=[],Ct=new Set,ht=new Set;for(let Je=0;Je<this.collectedLeaveElements.length;Je++){const lt=this.collectedLeaveElements[Je],pt=lt[vs];pt&&pt.setForRemoval&&($e.push(lt),Ct.add(lt),pt.hasAnimation?this.driver.query(lt,".ng-star-inserted",!0).forEach($t=>Ct.add($t)):ht.add(lt))}const St=new Map,_t=y_(V,Array.from(Ct));_t.forEach((Je,lt)=>{const pt=Xd+Se++;St.set(lt,pt),Je.forEach($t=>yr($t,pt))}),t.push(()=>{W.forEach((Je,lt)=>{const pt=te.get(lt);Je.forEach($t=>bu($t,pt))}),_t.forEach((Je,lt)=>{const pt=St.get(lt);Je.forEach($t=>bu($t,pt))}),$e.forEach(Je=>{this.processLeaveNode(Je)})});const Ii=[],$i=[];for(let Je=this._namespaceList.length-1;Je>=0;Je--)this._namespaceList[Je].drainQueuedTransitions(e).forEach(pt=>{const $t=pt.player,Wi=pt.element;if(Ii.push($t),this.collectedEnterElements.length){const Qr=Wi[vs];if(Qr&&Qr.setForMove){if(Qr.previousTriggersValues&&Qr.previousTriggersValues.has(pt.triggerName)){const Wh=Qr.previousTriggersValues.get(pt.triggerName),Gu=this.statesByElement.get(pt.element);Gu&&Gu[pt.triggerName]&&(Gu[pt.triggerName].value=Wh)}return void $t.destroy()}}const gl=!x||!this.driver.containsElement(x,Wi),ro=St.get(Wi),zu=te.get(Wi),Gn=this._buildInstruction(pt,i,zu,ro,gl);if(Gn.errors&&Gn.errors.length)return void $i.push(Gn);if(gl)return $t.onStart(()=>tt(Wi,Gn.fromStyles)),$t.onDestroy(()=>wa(Wi,Gn.toStyles)),void o.push($t);if(pt.isFallbackTransition)return $t.onStart(()=>tt(Wi,Gn.fromStyles)),$t.onDestroy(()=>wa(Wi,Gn.toStyles)),void o.push($t);const HO=[];Gn.timelines.forEach(Qr=>{Qr.stretchStartingKeyframe=!0,this.disabledNodes.has(Qr.element)||HO.push(Qr)}),Gn.timelines=HO,i.append(Wi,Gn.timelines),d.push({instruction:Gn,player:$t,element:Wi}),Gn.queriedElements.forEach(Qr=>zr(m,Qr,[]).push($t)),Gn.preStyleProps.forEach((Qr,Wh)=>{const Gu=Object.keys(Qr);if(Gu.length){let qh=v.get(Wh);qh||v.set(Wh,qh=new Set),Gu.forEach(mT=>qh.add(mT))}}),Gn.postStyleProps.forEach((Qr,Wh)=>{const Gu=Object.keys(Qr);let qh=D.get(Wh);qh||D.set(Wh,qh=new Set),Gu.forEach(mT=>qh.add(mT))})});if($i.length){const Je=[];$i.forEach(lt=>{Je.push(function Db(n,t){return new c.vHH(3505,Dt)}())}),Ii.forEach(lt=>lt.destroy()),this.reportError(Je)}const Kr=new Map,_c=new Map;d.forEach(Je=>{const lt=Je.element;i.has(lt)&&(_c.set(lt,lt),this._beforeAnimationBuild(Je.player.namespaceId,Je.instruction,Kr))}),o.forEach(Je=>{const lt=Je.element;this._getPreviousPlayers(lt,!1,Je.namespaceId,Je.triggerName,null).forEach($t=>{zr(Kr,lt,[]).push($t),$t.destroy()})});const yc=$e.filter(Je=>sC(Je,v,D)),vc=new Map;_p(vc,this.driver,ht,D,So).forEach(Je=>{sC(Je,v,D)&&yc.push(Je)});const $y=new Map;W.forEach((Je,lt)=>{_p($y,this.driver,new Set(Je),v,"!")}),yc.forEach(Je=>{const lt=vc.get(Je),pt=$y.get(Je);vc.set(Je,Object.assign(Object.assign({},lt),pt))});const $h=[],VO=[],UO={};d.forEach(Je=>{const{element:lt,player:pt,instruction:$t}=Je;if(i.has(lt)){if(A.has(lt))return pt.onDestroy(()=>wa(lt,$t.toStyles)),pt.disabled=!0,pt.overrideTotalTime($t.totalTime),void o.push(pt);let Wi=UO;if(_c.size>1){let ro=lt;const zu=[];for(;ro=ro.parentNode;){const Gn=_c.get(ro);if(Gn){Wi=Gn;break}zu.push(ro)}zu.forEach(Gn=>_c.set(Gn,Wi))}const gl=this._buildAnimation(pt.namespaceId,$t,Kr,l,$y,vc);if(pt.setRealPlayer(gl),Wi===UO)$h.push(pt);else{const ro=this.playersByElement.get(Wi);ro&&ro.length&&(pt.parentPlayer=Ea(ro)),o.push(pt)}}else tt(lt,$t.fromStyles),pt.onDestroy(()=>wa(lt,$t.toStyles)),VO.push(pt),A.has(lt)&&o.push(pt)}),VO.forEach(Je=>{const lt=l.get(Je.element);if(lt&&lt.length){const pt=Ea(lt);Je.setRealPlayer(pt)}}),o.forEach(Je=>{Je.parentPlayer?Je.syncPlayerEvents(Je.parentPlayer):Je.destroy()});for(let Je=0;Je<$e.length;Je++){const lt=$e[Je],pt=lt[vs];if(bu(lt,Xd),pt&&pt.hasAnimation)continue;let $t=[];if(m.size){let gl=m.get(lt);gl&&gl.length&&$t.push(...gl);let ro=this.driver.query(lt,th,!0);for(let zu=0;zu<ro.length;zu++){let Gn=m.get(ro[zu]);Gn&&Gn.length&&$t.push(...Gn)}}const Wi=$t.filter(gl=>!gl.destroyed);Wi.length?uD(this,lt,Wi):this.processLeaveNode(lt)}return $e.length=0,$h.forEach(Je=>{this.players.push(Je),Je.onDone(()=>{Je.destroy();const lt=this.players.indexOf(Je);this.players.splice(lt,1)}),Je.play()}),$h}elementContainsData(t,e){let i=!1;const o=e[vs];return o&&o.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,o,l){let d=[];if(e){const m=this.playersByQueriedElement.get(t);m&&(d=m)}else{const m=this.playersByElement.get(t);if(m){const v=!l||l==uh;m.forEach(D=>{D.queued||!v&&D.triggerName!=o||d.push(D)})}}return(i||o)&&(d=d.filter(m=>!(i&&i!=m.namespaceId||o&&o!=m.triggerName))),d}_beforeAnimationBuild(t,e,i){const l=e.element,d=e.isRemovalTransition?void 0:t,m=e.isRemovalTransition?void 0:e.triggerName;for(const v of e.timelines){const D=v.element,A=D!==l,x=zr(i,D,[]);this._getPreviousPlayers(D,A,d,m,e.toState).forEach(W=>{const te=W.getRealPlayer();te.beforeDestroy&&te.beforeDestroy(),W.destroy(),x.push(W)})}tt(l,e.fromStyles)}_buildAnimation(t,e,i,o,l,d){const m=e.triggerName,v=e.element,D=[],A=new Set,x=new Set,V=e.timelines.map(te=>{const Se=te.element;A.add(Se);const $e=Se[vs];if($e&&$e.removedBeforeQueried)return new Kd(te.duration,te.delay);const Ct=Se!==v,ht=function v_(n){const t=[];return iC(n,t),t}((i.get(Se)||sD).map(Kr=>Kr.getRealPlayer())).filter(Kr=>!!Kr.element&&Kr.element===Se),St=l.get(Se),_t=d.get(Se),Ii=Zm(0,this._normalizer,0,te.keyframes,St,_t),$i=this._buildPlayer(te,Ii,ht);if(te.subTimeline&&o&&x.add(Se),Ct){const Kr=new __(t,m,Se);Kr.setRealPlayer($i),D.push(Kr)}return $i});D.forEach(te=>{zr(this.playersByQueriedElement,te.element,[]).push(te),te.onDone(()=>function nC(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const o=i.indexOf(e);i.splice(o,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const o=i.indexOf(e);i.splice(o,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,te.element,te))}),A.forEach(te=>yr(te,np));const W=Ea(V);return W.onDestroy(()=>{A.forEach(te=>bu(te,np)),wa(v,e.toStyles)}),x.forEach(te=>{zr(o,te,[]).push(W)}),W}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Kd(t.duration,t.delay)}}class __{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Kd,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>Jf(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){zr(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function gp(n){return n&&1===n.nodeType}function mp(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function _p(n,t,e,i,o){const l=[];e.forEach(v=>l.push(mp(v)));const d=[];i.forEach((v,D)=>{const A={};v.forEach(x=>{const V=A[x]=t.computeStyle(D,x,o);(!V||0==V.length)&&(D[vs]=oD,d.push(D))}),n.set(D,A)});let m=0;return e.forEach(v=>mp(v,l[m++])),d}function y_(n,t){const e=new Map;if(n.forEach(m=>e.set(m,[])),0==t.length)return e;const o=new Set(t),l=new Map;function d(m){if(!m)return 1;let v=l.get(m);if(v)return v;const D=m.parentNode;return v=e.has(D)?D:o.has(D)?1:d(D),l.set(m,v),v}return t.forEach(m=>{const v=d(m);1!==v&&e.get(v).push(m)}),e}function yr(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function bu(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function uD(n,t,e){Ea(e).onDone(()=>n.processLeaveNode(t))}function iC(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof jm?iC(i.players,t):t.push(i)}}function sC(n,t,e){const i=e.get(n);if(!i)return!1;let o=t.get(n);return o?i.forEach(l=>o.add(l)):t.set(n,i),e.delete(n),!0}class dh{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,l)=>{},this._transitionEngine=new aD(t,e,i),this._timelineEngine=new nD(t,e,i),this._transitionEngine.onRemovalComplete=(o,l)=>this.onRemovalComplete(o,l)}registerTrigger(t,e,i,o,l){const d=t+"-"+o;let m=this._triggerCache[d];if(!m){const v=[],A=lc(this._driver,l,v,[]);if(v.length)throw function Nw(n,t){return new c.vHH(3404,Dt)}();m=function h_(n,t,e){return new eD(n,t,e)}(o,A,this._normalizer),this._triggerCache[d]=m}this._transitionEngine.registerTrigger(e,o,m)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,o){this._transitionEngine.insertNode(t,e,i,o)}onRemove(t,e,i,o){this._transitionEngine.removeNode(t,e,o||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,o){if("@"==i.charAt(0)){const[l,d]=Sb(i);this._timelineEngine.command(l,e,d,o)}else this._transitionEngine.trigger(t,e,i,o)}listen(t,e,i,o,l){if("@"==i.charAt(0)){const[d,m]=Sb(i);return this._timelineEngine.listen(d,e,m,l)}return this._transitionEngine.listen(t,e,i,o,l)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let oC=(()=>{class n{constructor(e,i,o){this._element=e,this._startStyles=i,this._endStyles=o,this._state=0;let l=n.initialStylesByElement.get(e);l||n.initialStylesByElement.set(e,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&wa(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(wa(this._element,this._initialStyles),this._endStyles&&(wa(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(tt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(tt(this._element,this._endStyles),this._endStyles=null),wa(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function aC(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const o=e[i];hD(o)&&(t=t||{},t[o]=n[o])}return t}function hD(n){return"display"===n||"position"===n}class hh{constructor(t,e,i,o){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:s_(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class fD{validateStyleProperty(t){return kb(t)}matchesElement(t,e){return!1}containsElement(t,e){return xb(t,e)}getParentElement(t){return Xm(t)}query(t,e,i){return Rb(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,o,l,d=[]){const v={duration:i,delay:o,fill:0==o?"both":"forwards"};l&&(v.easing=l);const D={},A=d.filter(V=>V instanceof hh);(function Nb(n,t){return 0===n||0===t})(i,o)&&A.forEach(V=>{let W=V.currentSnapshot;Object.keys(W).forEach(te=>D[te]=W[te])}),e=function Hw(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let l=t[0],d=[];if(i.forEach(m=>{l.hasOwnProperty(m)||d.push(m),l[m]=e[m]}),d.length)for(var o=1;o<t.length;o++){let m=t[o];d.forEach(function(v){m[v]=s_(n,v)})}}return t}(t,e=e.map(V=>oc(V,!1)),D);const x=function dD(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=aC(t[0]),t.length>1&&(i=aC(t[t.length-1]))):t&&(e=aC(t)),e||i?new oC(n,e,i):null}(t,e);return new hh(t,e,v,x)}}let Cu=(()=>{class n extends Lm{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?Vm(e):e;return gD(this._renderer,null,i,"register",[o]),new fh(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.FYo),c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class fh extends class hb{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new pD(this._id,t,e||{},this._renderer)}}class pD{constructor(t,e,i,o){this.id=t,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return gD(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function gD(n,t,e,i,o){return n.setProperty(t,`@@${e}:${i}`,o)}const lC="@.disabled";let mD=(()=>{class n{constructor(e,i,o){this.delegate=e,this.engine=i,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(l,d)=>{const m=null==d?void 0:d.parentNode(l);m&&d.removeChild(m,l)}}createRenderer(e,i){const l=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let A=this._rendererCache.get(l);return A||(A=new cC("",l,this.engine),this._rendererCache.set(l,A)),A}const d=i.id,m=i.id+"-"+this._currentId;this._currentId++,this.engine.register(m,e);const v=A=>{Array.isArray(A)?A.forEach(v):this.engine.registerTrigger(d,m,e,A.name,A)};return i.data.animation.forEach(v),new _D(this,m,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,o){e>=0&&e<this._microtaskId?this._zone.run(()=>i(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[d,m]=l;d(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.FYo),c.LFG(dh),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class cC{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,o=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,o)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,o){this.delegate.setAttribute(t,e,i,o)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,o){this.delegate.setStyle(t,e,i,o)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==lC?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class _D extends cC{constructor(t,e,i,o){super(e,i,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==lC?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const o=function uC(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let l=e.substr(1),d="";return"@"!=l.charAt(0)&&([l,d]=function dC(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(l)),this.engine.listen(this.namespaceId,o,l,d,m=>{this.factory.scheduleListenerCallback(m._data||-1,i,m)})}return this.delegate.listen(t,e,i)}}let b_=(()=>{class n extends dh{constructor(e,i,o){super(e.body,i,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(J),c.LFG(ep),c.LFG(d_))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ll=new c.OlP("AnimationModuleType"),C_=[{provide:Lm,useClass:Cu},{provide:d_,useFactory:function yp(){return new vu}},{provide:dh,useClass:b_},{provide:c.FYo,useFactory:function gh(n,t,e){return new mD(n,t,e)},deps:[en,dh,c.R0b]}],E_=[{provide:ep,useFactory:()=>new fD},{provide:ll,useValue:"BrowserAnimations"},...C_],yD=[{provide:ep,useClass:Jm},{provide:ll,useValue:"NoopAnimations"},...C_];let vD=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?yD:E_}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:E_,imports:[Va]}),n})();function bD(n,t){if(1&n&&c._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=c.oxw();c.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function CD(n,t){if(1&n&&(c.TgZ(0,"span",5),c._uU(1),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.hij("(",e.group.label,")")}}const Eu=["*"],ED=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function fC(){return!0}});let kn=(()=>{class n{constructor(e,i,o){this._sanityChecks=i,this._document=o,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!mv()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Fm),c.LFG(ED,8),c.LFG(J))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Of],Of]}),n})();function _h(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Qn(t)}}}function yh(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function vp(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Qn(t)}}}function pC(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Tf(e):this.defaultTabIndex}}}function gC(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new st.x,this.errorState=!1}updateErrorState(){const t=this.errorState,l=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);l!==t&&(this.errorState=l,this.stateChanges.next())}}}let Cp=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class RD{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const mC={enterDuration:225,exitDuration:150},D_=Pd({passive:!0}),Ep=["mousedown","touchstart"],eo=["mouseup","mouseleave","touchend","touchcancel"];class OD{constructor(t,e,i,o){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=Ys(i))}fadeInRipple(t,e,i={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l=Object.assign(Object.assign({},mC),i.animation);i.centered&&(t=o.left+o.width/2,e=o.top+o.height/2);const d=i.radius||function Ch(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),o=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+o*o)}(t,e,o),m=t-o.left,v=e-o.top,D=l.enterDuration,A=document.createElement("div");A.classList.add("mat-ripple-element"),A.style.left=m-d+"px",A.style.top=v-d+"px",A.style.height=2*d+"px",A.style.width=2*d+"px",null!=i.color&&(A.style.backgroundColor=i.color),A.style.transitionDuration=`${D}ms`,this._containerElement.appendChild(A),function wp(n){window.getComputedStyle(n).getPropertyValue("opacity")}(A),A.style.transform="scale(1)";const x=new RD(this,A,i);return x.state=0,this._activeRipples.add(x),i.persistent||(this._mostRecentTransientRipple=x),this._runTimeoutOutsideZone(()=>{const V=x===this._mostRecentTransientRipple;x.state=1,!i.persistent&&(!V||!this._isPointerDown)&&x.fadeOut()},D),x}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,o=Object.assign(Object.assign({},mC),t.config.animation);i.style.transitionDuration=`${o.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},o.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Ys(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Ep))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(eo),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=ab(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Yd(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,D_)})})}_removeTriggerEvents(){this._triggerElement&&(Ep.forEach(t=>{this._triggerElement.removeEventListener(t,this,D_)}),this._pointerUpEventsRegistered&&eo.forEach(t=>{this._triggerElement.removeEventListener(t,this,D_)}))}}const PD=new c.OlP("mat-ripple-global-options");let Eh=(()=>{class n{constructor(e,i,o,l,d){this._elementRef=e,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new OD(this,i,e,o)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,o){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(pi),c.Y36(PD,8),c.Y36(ll,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&c.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),I_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[kn],kn]}),n})(),Dp=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(ll,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&c.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),Ip=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[kn]]}),n})();const _C=new c.OlP("MAT_OPTION_PARENT_COMPONENT"),Sp=new c.OlP("MatOptgroup");let BD=0;class VD{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let eM=(()=>{class n{constructor(e,i,o,l){this._element=e,this._changeDetectorRef=i,this._parent=o,this.group=l,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+BD++,this.onSelectionChange=new c.vpe,this._stateChanges=new st.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Qn(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const o=this._getHostElement();"function"==typeof o.focus&&o.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!tl(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new VD(this,e))}}return n.\u0275fac=function(e){c.$Z()},n.\u0275dir=c.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),Tp=(()=>{class n extends eM{constructor(e,i,o,l){super(e,i,o,l)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(_C,8),c.Y36(Sp,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&c.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(l){return i._handleKeydown(l)}),2&e&&(c.Ikx("id",i.id),c.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),c.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[c.qOj],ngContentSelectors:Eu,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(c.F$t(),c.YNc(0,bD,1,2,"mat-pseudo-checkbox",0),c.TgZ(1,"span",1),c.Hsn(2),c.qZA(),c.YNc(3,CD,2,1,"span",2),c._UZ(4,"div",3)),2&e&&(c.Q6J("ngIf",i.multiple),c.xp6(3),c.Q6J("ngIf",i.group&&i.group._inert),c.xp6(1),c.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},directives:[Dp,Nn,Eh],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function Ap(n,t,e){if(e.length){let i=t.toArray(),o=e.toArray(),l=0;for(let d=0;d<n+1;d++)i[d].group&&i[d].group===o[l]&&l++;return l}return 0}let Mp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[I_,bi,kn,Ip]]}),n})();const S_=["mat-button",""],UD=["*"],jD=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],vC=yh(_h(vp(class{constructor(n){this._elementRef=n}})));let uc=(()=>{class n extends vC{constructor(e,i,o){super(e),this._focusMonitor=i,this._animationMode=o,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const l of jD)this._hasHostAttributes(l)&&this._getHostElement().classList.add(l);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(Wf),c.Y36(ll,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&c.Gf(Eh,5),2&e){let o;c.iGM(o=c.CRH())&&(i.ripple=o.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(c.uIk("disabled",i.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:S_,ngContentSelectors:UD,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA(),c._UZ(2,"span",1)(3,"span",2)),2&e&&(c.xp6(2),c.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),c.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[Eh],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),kp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[I_,kn],kn]}),n})();const T_=new Set;let wu,bC=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):$D}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function CC(n){if(!T_.has(n))try{wu||(wu=document.createElement("style"),wu.setAttribute("type","text/css"),document.head.appendChild(wu)),wu.sheet&&(wu.sheet.insertRule(`@media ${n} {body{ }}`,0),T_.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(pi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $D(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let A_=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new st.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return EC(Af(e)).some(o=>this._registerQuery(o).mql.matches)}observe(e){let l=Nr(EC(Af(e)).map(d=>this._registerQuery(d).observable));return l=yo(l.pipe((0,_n.q)(1)),l.pipe(Kv(1),qd(0))),l.pipe((0,it.U)(d=>{const m={matches:!1,breakpoints:{}};return d.forEach(({matches:v,query:D})=>{m.matches=m.matches||v,m.breakpoints[D]=v}),m}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),l={observable:new Un.y(d=>{const m=v=>this._zone.run(()=>d.next(v));return i.addListener(m),()=>{i.removeListener(m)}}).pipe(wi(i),(0,it.U)(({matches:d})=>({query:e,matches:d})),er(this._destroySubject)),mql:i};return this._queries.set(e,l),l}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(bC),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function EC(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function Du(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",2)(1,"button",3),c.NdJ("click",function(){return c.CHM(e),c.oxw().action()}),c._uU(2),c.qZA()()}if(2&n){const e=c.oxw();c.xp6(2),c.Oqu(e.data.action)}}function WD(n,t){}const wC=new c.OlP("MatSnackBarData");class M_{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const wh=Math.pow(2,31)-1;class k_{constructor(t,e){this._overlayRef=e,this._afterDismissed=new st.x,this._afterOpened=new st.x,this._onAction=new st.x,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,wh))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let x_=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(k_),c.Y36(wC))},n.\u0275cmp=c.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(c.TgZ(0,"span",0),c._uU(1),c.qZA(),c.YNc(2,Du,3,1,"div",1)),2&e&&(c.xp6(1),c.Oqu(i.data.message),c.xp6(1),c.Q6J("ngIf",i.hasAction))},directives:[uc,Nn],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),n})();const qD={snackBarState:_u("state",[ol("void, hidden",_r({transform:"scale(0.8)",opacity:0})),ol("visible",_r({transform:"scale(1)",opacity:1})),Ca("* => visible",sl("150ms cubic-bezier(0, 0, 0.2, 1)")),Ca("* => void, * => hidden",sl("75ms cubic-bezier(0.4, 0.0, 1, 1)",_r({opacity:0})))])};let DC=(()=>{class n extends ic{constructor(e,i,o,l,d){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=o,this._platform=l,this.snackBarConfig=d,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new st.x,this._onExit=new st.x,this._onEnter=new st.x,this._animationState="void",this.attachDomPortal=m=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(m)),this._live="assertive"!==d.politeness||d.announcementMessage?"off"===d.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:i,toState:o}=e;if(("void"===o&&"void"!==i||"hidden"===o)&&this._completeExit(),"visible"===o){const l=this._onEnter;this._ngZone.run(()=>{l.next(),l.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,_n.q)(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(o=>e.classList.add(o)):e.classList.add(i)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(o=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),null==o||o.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.R0b),c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(pi),c.Y36(M_))},n.\u0275cmp=c.Xpm({type:n,selectors:[["snack-bar-container"]],viewQuery:function(e,i){if(1&e&&c.Gf(Ff,7),2&e){let o;c.iGM(o=c.CRH())&&(i._portalOutlet=o.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&c.WFA("@state.done",function(l){return i.onAnimationEnd(l)}),2&e&&c.d8E("@state",i._animationState)},features:[c.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.YNc(1,WD,0,0,"ng-template",1),c.qZA(),c._UZ(2,"div")),2&e&&(c.xp6(2),c.uIk("aria-live",i._live)("role",i._role))},directives:[Ff],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[qD.snackBarState]}}),n})(),R_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Yv,hm,bi,kp,kn],kn]}),n})();const O_=new c.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function P_(){return new M_}});let IC=(()=>{class n{constructor(e,i,o,l,d,m){this._overlay=e,this._live=i,this._injector=o,this._breakpointObserver=l,this._parentSnackBar=d,this._defaultConfig=m,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",o){const l=Object.assign(Object.assign({},this._defaultConfig),o);return l.data={message:e,action:i},l.announcementMessage===e&&(l.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,l)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const l=c.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:M_,useValue:i}]}),d=new nc(this.snackBarContainerComponent,i.viewContainerRef,l),m=e.attach(d);return m.instance.snackBarConfig=i,m.instance}_attach(e,i){const o=Object.assign(Object.assign(Object.assign({},new M_),this._defaultConfig),i),l=this._createOverlay(o),d=this._attachSnackBarContainer(l,o),m=new k_(d,l);if(e instanceof c.Rgc){const v=new cu(e,null,{$implicit:o.data,snackBarRef:m});m.instance=d.attachTemplatePortal(v)}else{const v=this._createInjector(o,m),D=new nc(e,void 0,v),A=d.attachComponentPortal(D);m.instance=A.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(er(l.detachments())).subscribe(v=>{l.overlayElement.classList.toggle(this.handsetCssClass,v.matches)}),o.announcementMessage&&d._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(m,o),this._openedSnackBarRef=m,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new ba;i.direction=e.direction;let o=this._overlay.position().global();const l="rtl"===e.direction,d="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!l||"end"===e.horizontalPosition&&l,m=!d&&"center"!==e.horizontalPosition;return d?o.left("0"):m?o.right("0"):o.centerHorizontally(),"top"===e.verticalPosition?o.top("0"):o.bottom("0"),i.positionStrategy=o,this._overlay.create(i)}_createInjector(e,i){return c.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:k_,useValue:i},{provide:wC,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(il),c.LFG(Om),c.LFG(c.zs3),c.LFG(A_),c.LFG(n,12),c.LFG(O_))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Dh=(()=>{class n extends IC{constructor(e,i,o,l,d,m){super(e,i,o,l,d,m),this.simpleSnackBarComponent=x_,this.snackBarContainerComponent=DC,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(il),c.LFG(Om),c.LFG(c.zs3),c.LFG(A_),c.LFG(n,12),c.LFG(O_))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:R_}),n})();var dc=O(5363),N_=O(6063);class nM extends st.x{constructor(t=1/0,e=1/0,i=N_.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:o,_timestampProvider:l,_windowTime:d}=this;e||(i.push(t),!o&&i.push(l.now()+d)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:o}=this,l=o.slice();for(let d=0;d<l.length&&!t.closed;d+=i?1:2)t.next(l[d]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:o}=this,l=(o?1:2)*t;if(t<1/0&&l<i.length&&i.splice(0,i.length-l),!o){const d=e.now();let m=0;for(let v=1;v<i.length&&i[v]<=d;v+=2)m=v;m&&i.splice(0,m+1)}}}var xp=O(3099);function SC(n,t,e){let i,o=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:e}=n):i=null!=n?n:1/0,(0,xp.B)({connector:()=>new nM(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function F_(n,t){return(0,Pi.m)(t)?dn(()=>n,t):dn(()=>n)}var Iu=O(9468),vr=O(5813),to=O(2011);O(5867);var hc=O(5861),fc=O(9681),Tu=O(4859),F=O(2090),L_=O(1877);const tI=new Map,cM={activated:!1,tokenObservers:[]},uM={initialized:!1,enabled:!1};function Di(n){return tI.get(n)||cM}function ko(n,t){tI.set(n,t)}function B_(){return uM}class RC{constructor(t,e,i,o,l){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,hc.Z)(function*(){e.stop();try{e.pending=new F.BH,yield function hM(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new F.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const ji=new F.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function U_(n){if(!Di(n).activated)throw ji.create("use-before-activation",{appName:n.name})}function Sh(n,t){return H_.apply(this,arguments)}function H_(){return(H_=(0,hc.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},o=e.getImmediate({optional:!0});o&&(i["X-Firebase-Client"]=o.getPlatformInfoString());const l={method:"POST",body:JSON.stringify(t),headers:i};let d,m;try{d=yield fetch(n,l)}catch(x){throw ji.create("fetch-network-error",{originalErrorMessage:x.message})}if(200!==d.status)throw ji.create("fetch-status-error",{httpStatus:d.status});try{m=yield d.json()}catch(x){throw ji.create("fetch-parse-error",{originalErrorMessage:x.message})}const v=m.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw ji.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const D=1e3*Number(v[1]),A=Date.now();return{token:m.attestationToken,expireTimeMillis:A+D,issuedAtTimeMillis:A}})).apply(this,arguments)}function mM(n,t){const{projectId:e,appId:i,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${i}:exchangeDebugToken?key=${o}`,body:{debug_token:t}}}const Th="firebase-app-check-store";let Bp=null;function Vp(){return Bp||(Bp=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var o;t(ji.create("storage-open",{originalErrorMessage:null===(o=i.target.error)||void 0===o?void 0:o.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Th,{keyPath:"compositeKey"})}}catch(e){t(ji.create("storage-open",{originalErrorMessage:e.message}))}}),Bp)}function z_(){return(z_=(0,hc.Z)(function*(n,t){const i=(yield Vp()).transaction(Th,"readwrite"),l=i.objectStore(Th).put({compositeKey:n,value:t});return new Promise((d,m)=>{l.onsuccess=v=>{d()},i.onerror=v=>{var D;m(ji.create("storage-set",{originalErrorMessage:null===(D=v.target.error)||void 0===D?void 0:D.message}))}})})).apply(this,arguments)}const Ah=new L_.Yd("@firebase/app-check");function NC(n,t){return(0,F.hl)()?function no(n,t){return function OC(n,t){return z_.apply(this,arguments)}(function G_(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Ah.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function bs(){return B_().enabled}function FC(){return LC.apply(this,arguments)}function LC(){return(LC=(0,hc.Z)(function*(){const n=B_();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const BC={error:"UNKNOWN_ERROR"};function cI(n){return F.US.encodeString(JSON.stringify(n),!1)}function zp(n){return Gp.apply(this,arguments)}function Gp(){return(Gp=(0,hc.Z)(function*(n,t=!1){const e=n.app;U_(e);const i=Di(e);let l,o=i.token;if(!o){const v=yield i.cachedTokenPromise;v&&$p(v)&&(o=v)}if(!t&&o&&$p(o))return{token:o.token};let m,d=!1;if(bs()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Sh(mM(e,yield FC()),n.platformLoggerProvider).then(D=>(i.exchangeTokenPromise=void 0,D)),d=!0);const v=yield i.exchangeTokenPromise;return yield NC(e,v),ko(e,Object.assign(Object.assign({},i),{token:v})),{token:v.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(v=>(i.exchangeTokenPromise=void 0,v)),d=!0),o=yield i.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?Ah.warn(v.message):Ah.error(v),l=v}return o?(m={token:o.token},ko(e,Object.assign(Object.assign({},i),{token:o})),yield NC(e,o)):m=jC(l),d&&HC(e,m),m})).apply(this,arguments)}function VC(n,t){const e=Di(n),i=e.tokenObservers.filter(o=>o.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),ko(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function W_(n){const{app:t}=n,e=Di(t);let i=e.tokenRefresher;i||(i=function UC(n){const{app:t}=n;return new RC((0,hc.Z)(function*(){let i;if(i=Di(t).token?yield zp(n,!0):yield zp(n),i.error)throw i.error}),()=>!0,()=>{const e=Di(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),ko(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function HC(n,t){const e=Di(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(o){}}function $p(n){return n.expireTimeMillis-Date.now()>0}function jC(n){return{token:cI(BC),error:n}}class q_{constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=Di(this.app);for(const e of t)VC(this.app,e.next);return Promise.resolve()}}const YC="app-check-internal";!function J_(){(0,fc._registerComponent)(new Tu.wA("app-check",n=>function Z_(n,t){return new q_(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(YC).initialize()})),(0,fc._registerComponent)(new Tu.wA(YC,n=>function zC(n){return{getToken:t=>zp(n,t),addTokenListener:t=>function $_(n,t,e,i){const{app:o}=n,l=Di(o),d={next:e,error:i,type:t};if(ko(o,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,d]})),l.token&&$p(l.token)){const m=l.token;Promise.resolve().then(()=>{e({token:m.token}),W_(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>W_(n))}(n,"INTERNAL",t),removeTokenListener:t=>VC(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,fc.registerVersion)("@firebase/app-check","0.5.3")}();class KC{constructor(){return(0,vr.vb)("app-check")}}"undefined"!=typeof window&&window;var DI=O(127);const Zp=new c.OlP("angularfire2.auth.use-emulator"),nE=new c.OlP("angularfire2.auth.settings"),iE=new c.OlP("angularfire2.auth.tenant-id"),II=new c.OlP("angularfire2.auth.langugage-code"),SI=new c.OlP("angularfire2.auth.use-device-language"),TI=new c.OlP("angularfire.auth.persistence"),rE=(n,t,e,i,o,l,d,m)=>(0,to.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=t.runOutsideAngular(()=>n.auth());if(e&&v.useEmulator(...e),i&&(v.tenantId=i),v.languageCode=o,l&&v.useDeviceLanguage(),d)for(const[D,A]of Object.entries(d))v.settings[D]=A;return m&&v.setPersistence(m),v},[e,i,o,l,d,m]);let Yp=(()=>{class n{constructor(e,i,o,l,d,m,v,D,A,x,V,W){const te=new st.x,Se=ze(void 0).pipe((0,dc.Q)(d.outsideAngular),dn(()=>l.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,3059)))),(0,it.U)(()=>(0,to.on)(e,l,i)),(0,it.U)($e=>rE($e,l,m,D,A,x,v,V)),SC({bufferSize:1,refCount:!1}));if(function ui(n){return"server"===n}(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ze(null);else{Se.pipe(Bs()).subscribe();const Ct=Se.pipe(dn(_t=>_t.getRedirectResult().then(Ii=>Ii,()=>null)),vr.iC,SC({bufferSize:1,refCount:!1})),ht=Se.pipe(dn(_t=>new Un.y(Ii=>({unsubscribe:l.runOutsideAngular(()=>_t.onAuthStateChanged($i=>Ii.next($i),$i=>Ii.error($i),()=>Ii.complete()))})))),St=Se.pipe(dn(_t=>new Un.y(Ii=>({unsubscribe:l.runOutsideAngular(()=>_t.onIdTokenChanged($i=>Ii.next($i),$i=>Ii.error($i),()=>Ii.complete()))}))));this.authState=Ct.pipe(F_(ht),(0,Iu.R)(d.outsideAngular),(0,dc.Q)(d.insideAngular)),this.user=Ct.pipe(F_(St),(0,Iu.R)(d.outsideAngular),(0,dc.Q)(d.insideAngular)),this.idToken=this.user.pipe(dn(_t=>_t?(0,Zn.D)(_t.getIdToken()):ze(null))),this.idTokenResult=this.user.pipe(dn(_t=>_t?(0,Zn.D)(_t.getIdTokenResult()):ze(null))),this.credential=(0,Xn.T)(Ct,te,this.authState.pipe(yn(_t=>!_t))).pipe((0,it.U)(_t=>(null==_t?void 0:_t.user)?_t:null),(0,Iu.R)(d.outsideAngular),(0,dc.Q)(d.insideAngular))}return(0,to.pX)(this,Se,l,{spy:{apply:($e,Ct,ht)=>{($e.startsWith("signIn")||$e.startsWith("createUser"))&&ht.then(St=>te.next(St))}}})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(to.Dh),c.LFG(to.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(vr.HU),c.LFG(Zp,8),c.LFG(nE,8),c.LFG(iE,8),c.LFG(II,8),c.LFG(SI,8),c.LFG(TI,8),c.LFG(KC,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),IM=(()=>{class n{constructor(){DI.Z.registerVersion("angularfire",vr.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Yp]}),n})(),sE=(()=>{class n{constructor(e){this.fireAuth=e,this.authState$=this.fireAuth.authState}isAuth(){throw new Error("Metoda nie zosta\u0142a zaimplementowana.")}login(e){return this.fireAuth.signInWithEmailAndPassword(e.email,e.password)}register(e){return this.fireAuth.createUserWithEmailAndPassword(e.email,e.password)}logout(){return this.fireAuth.signOut()}get user(){return this.fireAuth.currentUser}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Yp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AI=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SM=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Ys(e);return new Un.y(o=>{const d=this._observeElement(i).subscribe(o);return()=>{d.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new st.x,o=this._mutationObserverFactory.create(l=>i.next(l));o&&o.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:o,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:o}=this._observedElements.get(e);i&&i.disconnect(),o.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(AI))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MI=(()=>{class n{constructor(e,i,o){this._contentObserver=e,this._elementRef=i,this._ngZone=o,this.event=new c.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Qn(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Tf(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(qd(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(SM),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),oE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[AI]}),n})();const TM=["connectionContainer"],AM=["inputContainer"],MM=["label"];function kM(n,t){1&n&&(c.ynx(0),c.TgZ(1,"div",14),c._UZ(2,"div",15)(3,"div",16)(4,"div",17),c.qZA(),c.TgZ(5,"div",18),c._UZ(6,"div",15)(7,"div",16)(8,"div",17),c.qZA(),c.BQk())}function r(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",19),c.NdJ("cdkObserveContent",function(){return c.CHM(e),c.oxw().updateOutlineGap()}),c.Hsn(1,1),c.qZA()}if(2&n){const e=c.oxw();c.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function s(n,t){if(1&n&&(c.ynx(0),c.Hsn(1,2),c.TgZ(2,"span"),c._uU(3),c.qZA(),c.BQk()),2&n){const e=c.oxw(2);c.xp6(3),c.Oqu(e._control.placeholder)}}function a(n,t){1&n&&c.Hsn(0,3,["*ngSwitchCase","true"])}function u(n,t){1&n&&(c.TgZ(0,"span",23),c._uU(1," *"),c.qZA())}function h(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"label",20,21),c.NdJ("cdkObserveContent",function(){return c.CHM(e),c.oxw().updateOutlineGap()}),c.YNc(2,s,4,1,"ng-container",12),c.YNc(3,a,1,0,"ng-content",12),c.YNc(4,u,2,0,"span",22),c.qZA()}if(2&n){const e=c.oxw();c.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),c.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),c.uIk("for",e._control.id)("aria-owns",e._control.id),c.xp6(2),c.Q6J("ngSwitchCase",!1),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function p(n,t){1&n&&(c.TgZ(0,"div",24),c.Hsn(1,4),c.qZA())}function y(n,t){if(1&n&&(c.TgZ(0,"div",25),c._UZ(1,"span",26),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function C(n,t){if(1&n&&(c.TgZ(0,"div"),c.Hsn(1,5),c.qZA()),2&n){const e=c.oxw();c.Q6J("@transitionMessages",e._subscriptAnimationState)}}function E(n,t){if(1&n&&(c.TgZ(0,"div",30),c._uU(1),c.qZA()),2&n){const e=c.oxw(2);c.Q6J("id",e._hintLabelId),c.xp6(1),c.Oqu(e.hintLabel)}}function T(n,t){if(1&n&&(c.TgZ(0,"div",27),c.YNc(1,E,2,2,"div",28),c.Hsn(2,6),c._UZ(3,"div",29),c.Hsn(4,7),c.qZA()),2&n){const e=c.oxw();c.Q6J("@transitionMessages",e._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",e.hintLabel)}}const M=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],N=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let H=0;const K=new c.OlP("MatError");let ve=(()=>{class n{constructor(e,i){this.id="mat-error-"+H++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(c.$8M("aria-live"),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,i){2&e&&c.uIk("id",i.id)},inputs:{id:"id"},features:[c._Bn([{provide:K,useExisting:n}])]}),n})();const Pe={transitionMessages:_u("transitionMessages",[ol("enter",_r({opacity:1,transform:"translateY(0%)"})),Ca("void => enter",[_r({opacity:0,transform:"translateY(-5px)"}),sl("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Be=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n}),n})(),Mt=0;const Gt=new c.OlP("MatHint");let Wr=(()=>{class n{constructor(){this.align="start",this.id="mat-hint-"+Mt++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(e,i){2&e&&(c.uIk("id",i.id)("align",null),c.ekj("mat-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"},features:[c._Bn([{provide:Gt,useExisting:n}])]}),n})(),cl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-label"]]}),n})(),ey=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const ty=new c.OlP("MatPrefix"),Kp=new c.OlP("MatSuffix");let ny=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","matSuffix",""]],features:[c._Bn([{provide:Kp,useExisting:n}])]}),n})(),Qp=0;const ry=yh(class{constructor(n){this._elementRef=n}},"primary"),oP=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),kI=new c.OlP("MatFormField");let xM=(()=>{class n extends ry{constructor(e,i,o,l,d,m,v){super(e),this._changeDetectorRef=i,this._dir=o,this._defaults=l,this._platform=d,this._ngZone=m,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new st.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Qp++,this._labelId="mat-form-field-label-"+Qp++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==v,this.appearance=l&&l.appearance?l.appearance:"legacy",this._hideRequiredMarker=!(!l||null==l.hideRequiredMarker)&&l.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Qn(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(wi(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(er(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(er(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Xn.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(wi(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(wi(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(er(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Mf(this._label.nativeElement,"transitionend").pipe((0,_n.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(l=>"start"===l.align):null,o=this._hintChildren?this._hintChildren.find(l=>"end"===l.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),o&&e.push(o.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,o=".mat-form-field-outline-start",l=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const A=i.querySelectorAll(`${o}, ${l}`);for(let x=0;x<A.length;x++)A[x].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let d=0,m=0;const v=i.querySelectorAll(o),D=i.querySelectorAll(l);if(this._label&&this._label.nativeElement.children.length){const A=i.getBoundingClientRect();if(0===A.width&&0===A.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const x=this._getStartEnd(A),V=e.children,W=this._getStartEnd(V[0].getBoundingClientRect());let te=0;for(let Se=0;Se<V.length;Se++)te+=V[Se].offsetWidth;d=Math.abs(W-x)-5,m=te>0?.75*te+10:0}for(let A=0;A<v.length;A++)v[A].style.width=`${d}px`;for(let A=0;A<D.length;A++)D[A].style.width=`${m}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(Nd,8),c.Y36(oP,8),c.Y36(pi),c.Y36(c.R0b),c.Y36(ll,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,o){if(1&e&&(c.Suo(o,Be,5),c.Suo(o,Be,7),c.Suo(o,cl,5),c.Suo(o,cl,7),c.Suo(o,ey,5),c.Suo(o,K,5),c.Suo(o,Gt,5),c.Suo(o,ty,5),c.Suo(o,Kp,5)),2&e){let l;c.iGM(l=c.CRH())&&(i._controlNonStatic=l.first),c.iGM(l=c.CRH())&&(i._controlStatic=l.first),c.iGM(l=c.CRH())&&(i._labelChildNonStatic=l.first),c.iGM(l=c.CRH())&&(i._labelChildStatic=l.first),c.iGM(l=c.CRH())&&(i._placeholderChild=l.first),c.iGM(l=c.CRH())&&(i._errorChildren=l),c.iGM(l=c.CRH())&&(i._hintChildren=l),c.iGM(l=c.CRH())&&(i._prefixChildren=l),c.iGM(l=c.CRH())&&(i._suffixChildren=l)}},viewQuery:function(e,i){if(1&e&&(c.Gf(TM,7),c.Gf(AM,5),c.Gf(MM,5)),2&e){let o;c.iGM(o=c.CRH())&&(i._connectionContainerRef=o.first),c.iGM(o=c.CRH())&&(i._inputContainerRef=o.first),c.iGM(o=c.CRH())&&(i._label=o.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&c.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:kI,useExisting:n}]),c.qOj],ngContentSelectors:N,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(c.F$t(M),c.TgZ(0,"div",0)(1,"div",1,2),c.NdJ("click",function(l){return i._control.onContainerClick&&i._control.onContainerClick(l)}),c.YNc(3,kM,9,0,"ng-container",3),c.YNc(4,r,2,1,"div",4),c.TgZ(5,"div",5,6),c.Hsn(7),c.TgZ(8,"span",7),c.YNc(9,h,5,16,"label",8),c.qZA()(),c.YNc(10,p,2,0,"div",9),c.qZA(),c.YNc(11,y,2,4,"div",10),c.TgZ(12,"div",11),c.YNc(13,C,2,1,"div",12),c.YNc(14,T,5,2,"div",13),c.qZA()()),2&e&&(c.xp6(3),c.Q6J("ngIf","outline"==i.appearance),c.xp6(1),c.Q6J("ngIf",i._prefixChildren.length),c.xp6(5),c.Q6J("ngIf",i._hasFloatingLabel()),c.xp6(1),c.Q6J("ngIf",i._suffixChildren.length),c.xp6(1),c.Q6J("ngIf","outline"!=i.appearance),c.xp6(1),c.Q6J("ngSwitch",i._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},directives:[Nn,MI,vi,ci],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Pe.transitionMessages]},changeDetection:0}),n})(),sy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[bi,kn,oE],kn]}),n})();function RM(...n){const t=(0,Or.jO)(n),{args:e,keys:i}=Pr(n),o=new Un.y(l=>{const{length:d}=e;if(!d)return void l.complete();const m=new Array(d);let v=d,D=d;for(let A=0;A<d;A++){let x=!1;(0,Lr.Xf)(e[A]).subscribe((0,Ht.x)(l,V=>{x||(x=!0,D--),m[A]=V},()=>v--,void 0,()=>{(!v||!x)&&(D||l.next(i?ia(i,m):m),l.complete())}))}});return t?o.pipe(kl(t)):o}let OM=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),xh=(()=>{class n extends OM{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Da=new c.OlP("NgValueAccessor"),lP={provide:Da,useExisting:(0,c.Gpc)(()=>oy),multi:!0},uP=new c.OlP("CompositionEventMode");let oy=(()=>{class n extends OM{constructor(e,i,o){super(e,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function cP(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(uP,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&c.NdJ("input",function(l){return i._handleInput(l.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(l){return i._compositionEnd(l.target.value)})},features:[c._Bn([lP]),c.qOj]}),n})();function ku(n){return null==n||0===n.length}function NM(n){return null!=n&&"number"==typeof n.length}const ir=new c.OlP("NgValidators"),xu=new c.OlP("NgAsyncValidators"),dP=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class pc{static min(t){return function FM(n){return t=>{if(ku(t.value)||ku(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function LM(n){return t=>{if(ku(t.value)||ku(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return BM(t)}static requiredTrue(t){return function VM(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function UM(n){return ku(n.value)||dP.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function HM(n){return t=>ku(t.value)||!NM(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function jM(n){return t=>NM(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function zM(n){if(!n)return lE;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(ku(i.value))return null;const o=i.value;return t.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return YM(t)}static composeAsync(t){return KM(t)}}function BM(n){return ku(n.value)?{required:!0}:null}function lE(n){return null}function GM(n){return null!=n}function $M(n){const t=(0,c.QGY)(n)?(0,Zn.D)(n):n;return(0,c.CqO)(t),t}function WM(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function qM(n,t){return t.map(e=>e(n))}function ZM(n){return n.map(t=>function hP(n){return!n.validate}(t)?t:e=>t.validate(e))}function YM(n){if(!n)return null;const t=n.filter(GM);return 0==t.length?null:function(e){return WM(qM(e,t))}}function xI(n){return null!=n?YM(ZM(n)):null}function KM(n){if(!n)return null;const t=n.filter(GM);return 0==t.length?null:function(e){return RM(qM(e,t).map($M)).pipe((0,it.U)(WM))}}function RI(n){return null!=n?KM(ZM(n)):null}function QM(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function XM(n){return n._rawValidators}function JM(n){return n._rawAsyncValidators}function OI(n){return n?Array.isArray(n)?n:[n]:[]}function cE(n,t){return Array.isArray(n)?n.includes(t):n===t}function ek(n,t){const e=OI(t);return OI(n).forEach(o=>{cE(e,o)||e.push(o)}),e}function tk(n,t){return OI(t).filter(e=>!cE(n,e))}class nk{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=xI(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=RI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class ul extends nk{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class qr extends nk{get formDirective(){return null}get path(){return null}}class ik{constructor(t){this._cd=t}is(t){var e,i,o;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(o=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===o?void 0:o[t])}}let PI=(()=>{class n extends ik{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(ul,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&c.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[c.qOj]}),n})(),rk=(()=>{class n extends ik{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(qr,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&c.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[c.qOj]}),n})();function dE(n,t){return[...t.path,n]}function ay(n,t){LI(n,t),t.valueAccessor.writeValue(n.value),function bP(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&ok(n,t)})}(n,t),function EP(n,t){const e=(i,o)=>{t.valueAccessor.writeValue(i),o&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function CP(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&ok(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function vP(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function hE(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),pE(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function fE(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function LI(n,t){const e=XM(n);null!==t.validator?n.setValidators(QM(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=JM(n);null!==t.asyncValidator?n.setAsyncValidators(QM(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const o=()=>n.updateValueAndValidity();fE(t._rawValidators,o),fE(t._rawAsyncValidators,o)}function pE(n,t){let e=!1;if(null!==n){if(null!==t.validator){const o=XM(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(d=>d!==t.validator);l.length!==o.length&&(e=!0,n.setValidators(l))}}if(null!==t.asyncValidator){const o=JM(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(d=>d!==t.asyncValidator);l.length!==o.length&&(e=!0,n.setAsyncValidators(l))}}}const i=()=>{};return fE(t._rawValidators,i),fE(t._rawAsyncValidators,i),e}function ok(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ak(n,t){LI(n,t)}function BI(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function lk(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function VI(n,t){if(!t)return null;let e,i,o;return Array.isArray(t),t.forEach(l=>{l.constructor===oy?e=l:function IP(n){return Object.getPrototypeOf(n.constructor)===xh}(l)?i=l:o=l}),o||i||e||null}function UI(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const ly="VALID",gE="INVALID",Jp="PENDING",cy="DISABLED";function jI(n){return(mE(n)?n.validators:n)||null}function ck(n){return Array.isArray(n)?xI(n):n||null}function zI(n,t){return(mE(t)?t.asyncValidators:n)||null}function uk(n){return Array.isArray(n)?RI(n):n||null}function mE(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const GI=n=>n instanceof WI,_E=n=>n instanceof yE,dk=n=>n instanceof gk;function hk(n){return GI(n)?n.value:n.getRawValue()}function fk(n,t){const e=_E(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new c.vHH(1e3,"");if(!i[t])throw new c.vHH(1001,"")}function pk(n,t){_E(n),n._forEachChild((i,o)=>{if(void 0===t[o])throw new c.vHH(1002,"")})}class $I{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=ck(this._rawValidators),this._composedAsyncValidatorFn=uk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ly}get invalid(){return this.status===gE}get pending(){return this.status==Jp}get disabled(){return this.status===cy}get enabled(){return this.status!==cy}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=ck(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=uk(t)}addValidators(t){this.setValidators(ek(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(ek(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(tk(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(tk(t,this._rawAsyncValidators))}hasValidator(t){return cE(this._rawValidators,t)}hasAsyncValidator(t){return cE(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Jp,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=cy,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ly,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ly||this.status===Jp)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?cy:ly}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Jp,this._hasOwnPendingAsyncValidator=!0;const e=$M(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function SP(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(o=>{i=_E(i)?i.controls.hasOwnProperty(o)?i.controls[o]:null:dk(i)&&i.at(o)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?cy:this.errors?gE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Jp)?Jp:this._anyControlsHaveStatus(gE)?gE:ly}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){mE(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class WI extends $I{constructor(t=null,e,i){super(jI(e),zI(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mE(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){UI(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){UI(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class yE extends $I{constructor(t,e,i){super(jI(e),zI(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){pk(this,t),Object.keys(t).forEach(i=>{fk(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,o)=>{i.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=hk(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((o,l)=>{i=e(i,o,l)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class gk extends $I{constructor(t,e,i){super(jI(e),zI(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){pk(this,t),t.forEach((i,o)=>{fk(this,o),this.at(o).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,o)=>{this.at(o)&&this.at(o).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,o)=>{i.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>hk(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const TP={provide:qr,useExisting:(0,c.Gpc)(()=>dy)},uy=(()=>Promise.resolve(null))();let dy=(()=>{class n extends qr{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new yE({},xI(e),RI(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){uy.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),ay(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){uy.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){uy.then(()=>{const i=this._findContainer(e.path),o=new yE({});ak(o,e),i.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){uy.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){uy.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,lk(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(ir,10),c.Y36(xu,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&c.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([TP]),c.qOj]}),n})(),mk=(()=>{class n extends qr{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return dE(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const MP={provide:ul,useExisting:(0,c.Gpc)(()=>qI)},yk=(()=>Promise.resolve(null))();let qI=(()=>{class n extends ul{constructor(e,i,o,l,d){super(),this._changeDetectorRef=d,this.control=new WI,this._registered=!1,this.update=new c.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=VI(0,l)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),BI(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ay(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){yk.then(()=>{var i;this.control.setValue(e,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,o=""===i||i&&"false"!==i;yk.then(()=>{var l;o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),null===(l=this._changeDetectorRef)||void 0===l||l.markForCheck()})}_getPath(e){return this._parent?dE(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(qr,9),c.Y36(ir,10),c.Y36(xu,10),c.Y36(Da,10),c.Y36(c.sBO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([MP]),c.qOj,c.TTD]}),n})(),vk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Ck=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const ZI=new c.OlP("NgModelWithFormControlWarning"),NP={provide:qr,useExisting:(0,c.Gpc)(()=>eg)};let eg=(()=>{class n extends qr{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(pE(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return ay(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){hE(e.control||null,e,!1),UI(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,lk(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,o=this.form.get(e.path);i!==o&&(hE(i||null,e),GI(o)&&(ay(o,e),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);ak(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function wP(n,t){return pE(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){LI(this.form,this),this._oldForm&&pE(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(ir,10),c.Y36(xu,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&c.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([NP]),c.qOj,c.TTD]}),n})();const FP={provide:qr,useExisting:(0,c.Gpc)(()=>vE)};let vE=(()=>{class n extends mk{constructor(e,i,o){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(o)}_checkParentType(){Ik(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(qr,13),c.Y36(ir,10),c.Y36(xu,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[c._Bn([FP]),c.qOj]}),n})();const LP={provide:qr,useExisting:(0,c.Gpc)(()=>bE)};let bE=(()=>{class n extends qr{constructor(e,i,o){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(o)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return dE(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Ik(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(qr,13),c.Y36(ir,10),c.Y36(xu,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[c._Bn([LP]),c.qOj]}),n})();function Ik(n){return!(n instanceof vE||n instanceof eg||n instanceof bE)}const BP={provide:ul,useExisting:(0,c.Gpc)(()=>YI)};let YI=(()=>{class n extends ul{constructor(e,i,o,l,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=VI(0,l)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),BI(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return dE(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(c.Y36(qr,13),c.Y36(ir,10),c.Y36(xu,10),c.Y36(Da,10),c.Y36(ZI,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([BP]),c.qOj,c.TTD]}),n})(),Rh=(()=>{class n{constructor(){this._validator=lE}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):lE,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const ZP={provide:ir,useExisting:(0,c.Gpc)(()=>CE),multi:!0};let CE=(()=>{class n extends Rh{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=e=>function $P(n){return null!=n&&!1!==n&&"false"!=`${n}`}(e),this.createValidator=e=>BM}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&c.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([ZP]),c.qOj]}),n})(),Fk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Ck]]}),n})(),Lk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Fk]}),n})(),Bk=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:ZI,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Fk]}),n})(),tN=(()=>{class n{group(e,i=null){const o=this._reduceControls(e);let m,l=null,d=null;return null!=i&&(function eN(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(l=null!=i.validators?i.validators:null,d=null!=i.asyncValidators?i.asyncValidators:null,m=null!=i.updateOn?i.updateOn:void 0):(l=null!=i.validator?i.validator:null,d=null!=i.asyncValidator?i.asyncValidator:null)),new yE(o,{asyncValidators:d,updateOn:m,validators:l})}control(e,i,o){return new WI(e,i,o)}array(e,i,o){const l=e.map(d=>this._createControl(d));return new gk(l,i,o)}_reduceControls(e){const i={};return Object.keys(e).forEach(o=>{i[o]=this._createControl(e[o])}),i}_createControl(e){return GI(e)||_E(e)||dk(e)?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:Bk}),n})();const Vk=Pd({passive:!0});let nN=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Fs.E;const i=Ys(e),o=this._monitoredElements.get(i);if(o)return o.subject;const l=new st.x,d="cdk-text-field-autofilled",m=v=>{"cdk-text-field-autofill-start"!==v.animationName||i.classList.contains(d)?"cdk-text-field-autofill-end"===v.animationName&&i.classList.contains(d)&&(i.classList.remove(d),this._ngZone.run(()=>l.next({target:v.target,isAutofilled:!1}))):(i.classList.add(d),this._ngZone.run(()=>l.next({target:v.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",m,Vk),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:l,unlisten:()=>{i.removeEventListener("animationstart",m,Vk)}}),l}stopMonitoring(e){const i=Ys(e),o=this._monitoredElements.get(i);o&&(o.unlisten(),o.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(pi),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Uk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const iN=new c.OlP("MAT_INPUT_VALUE_ACCESSOR"),rN=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let sN=0;const oN=gC(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let Hk=(()=>{class n extends oN{constructor(e,i,o,l,d,m,v,D,A,x){super(m,l,d,o),this._elementRef=e,this._platform=i,this._autofillMonitor=D,this._formField=x,this._uid="mat-input-"+sN++,this.focused=!1,this.stateChanges=new st.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(te=>pv().has(te));const V=this._elementRef.nativeElement,W=V.nodeName.toLowerCase();this._inputValueAccessor=v||V,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&A.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",te=>{const Se=te.target;!Se.value&&0===Se.selectionStart&&0===Se.selectionEnd&&(Se.setSelectionRange(1,1),Se.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===W,this._isTextarea="textarea"===W,this._isInFormField=!!x,this._isNativeSelect&&(this.controlType=V.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Qn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){var e,i,o,l;return null!==(l=null!==(e=this._required)&&void 0!==e?e:null===(o=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===o?void 0:o.hasValidator(pc.required))&&void 0!==l&&l}set required(e){this._required=Qn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&pv().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Qn(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,i;const o=(null===(i=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===i?void 0:i.call(e))?null:this.placeholder;if(o!==this._previousPlaceholder){const l=this._elementRef.nativeElement;this._previousPlaceholder=o,o?l.setAttribute("placeholder",o):l.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){rN.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(pi),c.Y36(ul,10),c.Y36(dy,8),c.Y36(eg,8),c.Y36(Cp),c.Y36(iN,10),c.Y36(nN),c.Y36(c.R0b),c.Y36(kI,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&c.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(c.Ikx("disabled",i.disabled)("required",i.required),c.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),c.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[c._Bn([{provide:Be,useExisting:n}]),c.qOj,c.TTD]}),n})(),jk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Cp],imports:[[Uk,sy,kn],Uk,sy]}),n})();class aN{}class Ru{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const o=e.slice(0,i),l=o.toLowerCase(),d=e.slice(i+1).trim();this.maybeSetNormalizedName(o,l),this.headers.has(l)?this.headers.get(l).push(d):this.headers.set(l,[d])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const o=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(o,i),this.maybeSetNormalizedName(e,o))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ru?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Ru;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ru?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const o=("a"===t.op?this.headers.get(e):void 0)||[];o.push(...i),this.headers.set(e,o);break;case"d":const l=t.value;if(l){let d=this.headers.get(e);if(!d)return;d=d.filter(m=>-1===l.indexOf(m)),0===d.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,d)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class lN{encodeKey(t){return zk(t)}encodeValue(t){return zk(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const uN=/%(\d[a-f0-9])/gi,dN={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function zk(n){return encodeURIComponent(n).replace(uN,(t,e)=>{var i;return null!==(i=dN[e])&&void 0!==i?i:t})}function Gk(n){return`${n}`}class Ou{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new lN,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function cN(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const l=o.indexOf("="),[d,m]=-1==l?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,l)),t.decodeValue(o.slice(l+1))],v=e.get(d)||[];v.push(m),e.set(d,v)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const o=t[i];Array.isArray(o)?o.forEach(l=>{e.push({param:i,value:l,op:"a"})}):e.push({param:i,value:o,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Ou({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Gk(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const o=i.indexOf(Gk(t.value));-1!==o&&i.splice(o,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class hN{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function $k(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function Wk(n){return"undefined"!=typeof Blob&&n instanceof Blob}function qk(n){return"undefined"!=typeof FormData&&n instanceof FormData}class hy{constructor(t,e,i,o){let l;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function fN(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==i?i:null,l=o):l=i,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new Ru),this.context||(this.context=new hN),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=e;else{const m=e.indexOf("?");this.urlWithParams=e+(-1===m?"?":m<e.length-1?"&":"")+d}}else this.params=new Ou,this.urlWithParams=e}serializeBody(){return null===this.body?null:$k(this.body)||Wk(this.body)||qk(this.body)||function pN(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ou?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||qk(this.body)?null:Wk(this.body)?this.body.type||null:$k(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ou?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,o=t.url||this.url,l=t.responseType||this.responseType,d=void 0!==t.body?t.body:this.body,m=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,v=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let D=t.headers||this.headers,A=t.params||this.params;const x=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(D=Object.keys(t.setHeaders).reduce((V,W)=>V.set(W,t.setHeaders[W]),D)),t.setParams&&(A=Object.keys(t.setParams).reduce((V,W)=>V.set(W,t.setParams[W]),A)),new hy(i,o,d,{params:A,headers:D,context:x,reportProgress:v,responseType:l,withCredentials:m})}}var rr=(()=>((rr=rr||{})[rr.Sent=0]="Sent",rr[rr.UploadProgress=1]="UploadProgress",rr[rr.ResponseHeader=2]="ResponseHeader",rr[rr.DownloadProgress=3]="DownloadProgress",rr[rr.Response=4]="Response",rr[rr.User=5]="User",rr))();class JI extends class gN{constructor(t,e=200,i="OK"){this.headers=t.headers||new Ru,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=rr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new JI({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function eS(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Yk=(()=>{class n{constructor(e){this.handler=e}request(e,i,o={}){let l;if(e instanceof hy)l=e;else{let v,D;v=o.headers instanceof Ru?o.headers:new Ru(o.headers),o.params&&(D=o.params instanceof Ou?o.params:new Ou({fromObject:o.params})),l=new hy(e,i,void 0!==o.body?o.body:null,{headers:v,context:o.context,params:D,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const d=ze(l).pipe(Ls(v=>this.handler.handle(v)));if(e instanceof hy||"events"===o.observe)return d;const m=d.pipe(yn(v=>v instanceof JI));switch(o.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return m.pipe((0,it.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return m.pipe((0,it.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return m.pipe((0,it.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return m.pipe((0,it.U)(v=>v.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Ou).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,o={}){return this.request("PATCH",e,eS(o,i))}post(e,i,o={}){return this.request("POST",e,eS(o,i))}put(e,i,o={}){return this.request("PUT",e,eS(o,i))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(aN))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const _N=["*"];let EE;function fy(n){var t;return(null===(t=function yN(){if(void 0===EE&&(EE=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(EE=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return EE}())||void 0===t?void 0:t.createHTML(n))||n}function Kk(n){return Error(`Unable to find icon with the name "${n}"`)}function Qk(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Xk(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Oh{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let wE=(()=>{class n{constructor(e,i,o,l){this._httpClient=e,this._sanitizer=i,this._errorHandler=l,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=o}addSvgIcon(e,i,o){return this.addSvgIconInNamespace("",e,i,o)}addSvgIconLiteral(e,i,o){return this.addSvgIconLiteralInNamespace("",e,i,o)}addSvgIconInNamespace(e,i,o,l){return this._addSvgIconConfig(e,i,new Oh(o,null,l))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,o,l){const d=this._sanitizer.sanitize(c.q3G.HTML,o);if(!d)throw Xk(o);const m=fy(d);return this._addSvgIconConfig(e,i,new Oh("",m,l))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,o){return this._addSvgIconSetConfig(e,new Oh(i,null,o))}addSvgIconSetLiteralInNamespace(e,i,o){const l=this._sanitizer.sanitize(c.q3G.HTML,i);if(!l)throw Xk(i);const d=fy(l);return this._addSvgIconSetConfig(e,new Oh("",d,o))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,e);if(!i)throw Qk(e);const o=this._cachedIconsByUrl.get(i);return o?ze(DE(o)):this._loadSvgIconFromConfig(new Oh(e,null)).pipe((0,An.b)(l=>this._cachedIconsByUrl.set(i,l)),(0,it.U)(l=>DE(l)))}getNamedSvgIcon(e,i=""){const o=Jk(i,e);let l=this._svgIconConfigs.get(o);if(l)return this._getSvgFromConfig(l);if(l=this._getIconConfigFromResolvers(i,e),l)return this._svgIconConfigs.set(o,l),this._getSvgFromConfig(l);const d=this._iconSetConfigs.get(i);return d?this._getSvgFromIconSetConfigs(e,d):Fr(Kk(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?ze(DE(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,it.U)(i=>DE(i)))}_getSvgFromIconSetConfigs(e,i){const o=this._extractIconWithNameFromAnySet(e,i);return o?ze(o):RM(i.filter(d=>!d.svgText).map(d=>this._loadSvgIconSetFromConfig(d).pipe(hr(m=>{const D=`Loading icon set URL: ${this._sanitizer.sanitize(c.q3G.RESOURCE_URL,d.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(D)),ze(null)})))).pipe((0,it.U)(()=>{const d=this._extractIconWithNameFromAnySet(e,i);if(!d)throw Kk(e);return d}))}_extractIconWithNameFromAnySet(e,i){for(let o=i.length-1;o>=0;o--){const l=i[o];if(l.svgText&&l.svgText.toString().indexOf(e)>-1){const d=this._svgElementFromConfig(l),m=this._extractSvgIconFromSet(d,e,l.options);if(m)return m}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,An.b)(i=>e.svgText=i),(0,it.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?ze(null):this._fetchIcon(e).pipe((0,An.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,o){const l=e.querySelector(`[id="${i}"]`);if(!l)return null;const d=l.cloneNode(!0);if(d.removeAttribute("id"),"svg"===d.nodeName.toLowerCase())return this._setSvgAttributes(d,o);if("symbol"===d.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(d),o);const m=this._svgElementFromString(fy("<svg></svg>"));return m.appendChild(d),this._setSvgAttributes(m,o)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const o=i.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(e){const i=this._svgElementFromString(fy("<svg></svg>")),o=e.attributes;for(let l=0;l<o.length;l++){const{name:d,value:m}=o[l];"id"!==d&&i.setAttribute(d,m)}for(let l=0;l<e.childNodes.length;l++)e.childNodes[l].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[l].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:o,options:l}=e,d=null!==(i=null==l?void 0:l.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function vN(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==o)throw Error(`Cannot fetch icon from URL "${o}".`);const m=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,o);if(!m)throw Qk(o);const v=this._inProgressUrlFetches.get(m);if(v)return v;const D=this._httpClient.get(m,{responseType:"text",withCredentials:d}).pipe((0,it.U)(A=>fy(A)),Hc(()=>this._inProgressUrlFetches.delete(m)),(0,xp.B)());return this._inProgressUrlFetches.set(m,D),D}_addSvgIconConfig(e,i,o){return this._svgIconConfigs.set(Jk(e,i),o),this}_addSvgIconSetConfig(e,i){const o=this._iconSetConfigs.get(e);return o?o.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let o=0;o<this._resolvers.length;o++){const l=this._resolvers[o](i,e);if(l)return CN(l)?new Oh(l.url,null,l.options):new Oh(l,null)}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Yk,8),c.LFG(cs),c.LFG(J,8),c.LFG(c.qLn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function DE(n){return n.cloneNode(!0)}function Jk(n,t){return n+":"+t}function CN(n){return!(!n.url||!n.options)}const EN=yh(class{constructor(n){this._elementRef=n}}),wN=new c.OlP("mat-icon-location",{providedIn:"root",factory:function DN(){const n=(0,c.f3M)(J),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),ex=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],IN=ex.map(n=>`[${n}]`).join(", "),SN=/^url\(['"]?#(.*?)['"]?\)$/;let tg=(()=>{class n extends EN{constructor(e,i,o,l,d){super(e),this._iconRegistry=i,this._location=l,this._errorHandler=d,this._inline=!1,this._currentIconFetch=Ni.w0.EMPTY,o||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Qn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=e.querySelectorAll("style");for(let l=0;l<i.length;l++)i[l].textContent+=" ";const o=this._location.getPathname();this._previousPath=o,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(o),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const o=e.childNodes[i];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((o,l)=>{o.forEach(d=>{l.setAttribute(d.name,`url('${e}#${d.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(IN),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let l=0;l<i.length;l++)ex.forEach(d=>{const m=i[l],v=m.getAttribute(d),D=v?v.match(SN):null;if(D){let A=o.get(m);A||(A=[],o.set(m,A)),A.push({name:d,value:D[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,o]=this._splitIconName(e);i&&(this._svgNamespace=i),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,i).pipe((0,_n.q)(1)).subscribe(l=>this._setSvgElement(l),l=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${o}! ${l.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(wE),c.$8M("aria-hidden"),c.Y36(wN),c.Y36(c.qLn))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(c.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),c.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[c.qOj],ngContentSelectors:_N,decls:1,vars:0,template:function(e,i){1&e&&(c.F$t(),c.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),tx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[kn],kn]}),n})(),TN=(()=>{class n{constructor(e,i,o){this.router=e,this.toast=i,this.authService=o,this.credentials={email:"",password:""},this.hide=!0}login(){this.authService.login(this.credentials).then(e=>this.router.navigate(["/dashboard"])).catch(e=>this.toast.open(e.message))}register(){this.authService.register(this.credentials).then(e=>this.toast.open("Account created, please log in!","",{panelClass:"toast-success"})).catch(e=>this.toast.open(e.message,"",{panelClass:"toast-error"}))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Kn),c.Y36(Dh),c.Y36(sE))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:24,vars:6,consts:[[1,"row","justify-content-center","login-container"],[1,"col-sm-4","shadow","login-content"],["src","./assets/images/logo.png",1,"logo"],[1,"d-block"],["matInput","","placeholder","Email","required","",3,"ngModel","ngModelChange"],["matInput","","placeholder","Has\u0142o","required","",3,"type","ngModel","ngModelChange"],["mat-icon-button","","matSuffix","",3,"click"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent",3,"click"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"img",2),c.TgZ(3,"h2"),c._uU(4,"Super Loty"),c.qZA(),c.TgZ(5,"h3"),c._uU(6,"Logowanie / Rejestracja"),c.qZA(),c.TgZ(7,"mat-form-field",3)(8,"input",4),c.NdJ("ngModelChange",function(l){return i.credentials.email=l}),c.qZA(),c.TgZ(9,"mat-error"),c._uU(10,"Email jest wymagany"),c.qZA()(),c.TgZ(11,"mat-form-field",3)(12,"input",5),c.NdJ("ngModelChange",function(l){return i.credentials.password=l}),c.qZA(),c.TgZ(13,"button",6),c.NdJ("click",function(){return i.hide=!i.hide}),c.TgZ(14,"mat-icon"),c._uU(15),c.qZA()(),c.TgZ(16,"mat-error"),c._uU(17,"Has\u0142o jest wymagane"),c.qZA()(),c.TgZ(18,"button",7),c.NdJ("click",function(){return i.login()}),c._uU(19,"ZALOGUJ SI\u0118"),c.qZA(),c.TgZ(20,"p"),c._uU(21,"Je\u015bli nie masz konta"),c.qZA(),c.TgZ(22,"button",8),c.NdJ("click",function(){return i.register()}),c._uU(23,"ZAREJESTRUJ SI\u0118"),c.qZA()()()),2&e&&(c.xp6(8),c.Q6J("ngModel",i.credentials.email),c.xp6(4),c.Q6J("type",i.hide?"password":"text")("ngModel",i.credentials.password),c.xp6(1),c.uIk("aria-label","Hide password")("aria-pressed",i.hide),c.xp6(2),c.Oqu(i.hide?"visibility_off":"visibility"))},directives:[xM,Hk,oy,CE,PI,qI,ve,uc,ny,tg],styles:[".login-container[_ngcontent-%COMP%]{margin-top:100px}.login-content[_ngcontent-%COMP%]{padding:30px;text-align:center;background:white}.login-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-top:25px}.logo[_ngcontent-%COMP%]{margin:0 auto}.invisible[_ngcontent-%COMP%]{display:block;visibility:hidden;height:0;width:0}"]}),n})();const AN=["*",[["mat-toolbar-row"]]],MN=["*","mat-toolbar-row"],kN=yh(class{constructor(n){this._elementRef=n}});let xN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),RN=(()=>{class n extends kN{constructor(e,i,o){super(e),this._platform=i,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(pi),c.Y36(J))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,o){if(1&e&&c.Suo(o,xN,5),2&e){let l;c.iGM(l=c.CRH())&&(i._toolbarRows=l)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&c.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[c.qOj],ngContentSelectors:MN,decls:2,vars:0,template:function(e,i){1&e&&(c.F$t(AN),c.Hsn(0),c.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),nx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[kn],kn]}),n})();function ON(n,t){if(1&n&&(c.TgZ(0,"span",8),c._uU(1),c.qZA()),2&n){const e=t.ngIf;c.xp6(1),c.hij("Zalogowano jako ",e.email,"")}}let PN=(()=>{class n{constructor(e,i){this.router=e,this.authService=i,this.user=this.authService.user}ngOnInit(){}logout(){this.authService.logout().then(()=>this.router.navigate(["/login"]))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Kn),c.Y36(sE))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-dashboard"]],decls:13,vars:3,consts:[["color","primary",1,"mb-5"],[1,"container"],[1,"d-flex","bd-highligh"],[1,"me-auto","p-2","bd-highlight"],["src","./assets/images/logo.png","routerLink","/dashboard",1,"logo"],[1,"p-4","bd-highlight"],["class","user-login p-4 bd-highlight",4,"ngIf"],[1,"logout-icon","p-4","bd-highlight",3,"click"],[1,"user-login","p-4","bd-highlight"]],template:function(e,i){1&e&&(c.TgZ(0,"mat-toolbar",0)(1,"div",1)(2,"div",2)(3,"div",3),c._UZ(4,"img",4),c.TgZ(5,"span",5),c._uU(6,"Super Loty"),c.qZA()(),c.YNc(7,ON,2,1,"span",6),c.ALo(8,"async"),c.TgZ(9,"mat-icon",7),c.NdJ("click",function(){return i.logout()}),c._uU(10,"exit_to_app"),c.qZA()()()(),c.TgZ(11,"div",1),c._UZ(12,"router-outlet"),c.qZA()),2&e&&(c.xp6(7),c.Q6J("ngIf",c.lcZ(8,1,i.user)))},directives:[RN,wf,Nn,tg,Ka],pipes:[Oa],styles:[".logout-icon[_ngcontent-%COMP%]{font-size:35px;cursor:pointer}.user-login[_ngcontent-%COMP%]{font-size:15px;padding-right:30px}.logo[_ngcontent-%COMP%]{cursor:pointer;margin:6px;border-radius:25px}.cursor[_ngcontent-%COMP%]{cursor:pointer}"]}),n})();function NN(n,t){}class tS{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const FN={dialogContainer:_u("dialogContainer",[ol("void, exit",_r({opacity:0,transform:"scale(0.7)"})),ol("enter",_r({transform:"none"})),Ca("* => enter",Bm([sl("150ms cubic-bezier(0, 0, 0.2, 1)",_r({transform:"none",opacity:1})),Um("@*",jn(),{optional:!0})])),Ca("* => void, * => exit",Bm([sl("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",_r({opacity:0})),Um("@*",jn(),{optional:!0})]))])};let LN=(()=>{class n extends ic{constructor(e,i,o,l,d,m,v,D){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=o,this._config=d,this._interactivityChecker=m,this._ngZone=v,this._focusMonitor=D,this._animationStateChanged=new c.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=A=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(A)),this._ariaLabelledBy=d.ariaLabelledBy||null,this._document=l}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=gv())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{e.addEventListener("blur",()=>e.removeAttribute("tabindex")),e.addEventListener("mousedown",()=>e.removeAttribute("tabindex"))})),e.focus(i)}_focusByCssSelector(e,i){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=gv(),o=this._elementRef.nativeElement;(!i||i===this._document.body||i===o||o.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=gv();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(Tm),c.Y36(c.sBO),c.Y36(J,8),c.Y36(tS),c.Y36(eb),c.Y36(c.R0b),c.Y36(Wf))},n.\u0275dir=c.lG2({type:n,viewQuery:function(e,i){if(1&e&&c.Gf(Ff,7),2&e){let o;c.iGM(o=c.CRH())&&(i._portalOutlet=o.first)}},features:[c.qOj]}),n})(),BN=(()=>{class n extends LN{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&c.WFA("@dialogContainer.start",function(l){return i._onAnimationStart(l)})("@dialogContainer.done",function(l){return i._onAnimationDone(l)}),2&e&&(c.Ikx("id",i._id),c.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),c.d8E("@dialogContainer",i._state))},features:[c.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&c.YNc(0,NN,0,0,"ng-template",0)},directives:[Ff],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[FN.dialogContainer]}}),n})(),VN=0;class py{constructor(t,e,i="mat-dialog-"+VN++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new st.x,this._afterClosed=new st.x,this._beforeClosed=new st.x,this._state=0,e._id=i,e._animationStateChanged.pipe(yn(o=>"opened"===o.state),(0,_n.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(yn(o=>"closed"===o.state),(0,_n.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(yn(o=>27===o.keyCode&&!this.disableClose&&!tl(o))).subscribe(o=>{o.preventDefault(),nS(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():nS(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(yn(e=>"closing"===e.state),(0,_n.q)(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function nS(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const ix=new c.OlP("MatDialogData"),rx=new c.OlP("mat-dialog-default-options"),sx=new c.OlP("mat-dialog-scroll-strategy"),HN={provide:sx,deps:[il],useFactory:function UN(n){return()=>n.scrollStrategies.block()}};let jN=(()=>{class n{constructor(e,i,o,l,d,m,v,D,A,x){this._overlay=e,this._injector=i,this._defaultOptions=o,this._parentDialog=l,this._overlayContainer=d,this._dialogRefConstructor=v,this._dialogContainerType=D,this._dialogDataToken=A,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new st.x,this._afterOpenedAtThisLevel=new st.x,this._ariaHiddenElements=new Map,this.afterAllClosed=Ei(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(wi(void 0))),this._scrollStrategy=m}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){i=function zN(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new tS),i.id&&this.getDialogById(i.id);const o=this._createOverlay(i),l=this._attachDialogContainer(o,i),d=this._attachDialogContent(e,l,o,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.afterClosed().subscribe(()=>this._removeOpenDialog(d)),this.afterOpened.next(d),l._initializeWithAttachedContent(),d}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new ba({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const l=c.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:tS,useValue:i}]}),d=new nc(this._dialogContainerType,i.viewContainerRef,l,i.componentFactoryResolver);return e.attach(d).instance}_attachDialogContent(e,i,o,l){const d=new this._dialogRefConstructor(o,i,l.id);if(e instanceof c.Rgc)i.attachTemplatePortal(new cu(e,null,{$implicit:l.data,dialogRef:d}));else{const m=this._createInjector(l,d,i),v=i.attachComponentPortal(new nc(e,l.viewContainerRef,m,l.componentFactoryResolver));d.componentInstance=v.instance}return d.updateSize(l.width,l.height).updatePosition(l.position),d}_createInjector(e,i,o){const l=e&&e.viewContainerRef&&e.viewContainerRef.injector,d=[{provide:this._dialogContainerType,useValue:o},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!l||!l.get(Nd,null,c.XFs.Optional))&&d.push({provide:Nd,useValue:{value:e.direction,change:ze()}}),c.zs3.create({parent:l||this._injector,providers:d})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,l)=>{o?l.setAttribute("aria-hidden",o):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let o=i.length-1;o>-1;o--){let l=i[o];l!==e&&"SCRIPT"!==l.nodeName&&"STYLE"!==l.nodeName&&!l.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){c.$Z()},n.\u0275dir=c.lG2({type:n}),n})(),IE=(()=>{class n extends jN{constructor(e,i,o,l,d,m,v,D){super(e,i,l,m,v,d,py,BN,ix,D)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(il),c.LFG(c.zs3),c.LFG(me,8),c.LFG(rx,8),c.LFG(sx),c.LFG(n,12),c.LFG(jf),c.LFG(ll,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),GN=0,$N=(()=>{class n{constructor(e,i,o){this.dialogRef=e,this._elementRef=i,this._dialog=o,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=ox(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){nS(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(py,8),c.Y36(c.SBq),c.Y36(IE))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&c.NdJ("click",function(l){return i._onButtonClick(l)}),2&e&&c.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[c.TTD]}),n})(),WN=(()=>{class n{constructor(e,i,o){this._dialogRef=e,this._elementRef=i,this._dialog=o,this.id="mat-dialog-title-"+GN++}ngOnInit(){this._dialogRef||(this._dialogRef=ox(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(py,8),c.Y36(c.SBq),c.Y36(IE))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&c.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),qN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})();function ox(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}let ax=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[IE,HN],imports:[[Yv,hm,kn],kn]}),n})();function ZN(n,t){if(1&n&&(c.TgZ(0,"li"),c._uU(1),c.qZA()),2&n){const e=t.$implicit;c.xp6(1),c.AsE(" ",e.name," - ",e.job," ")}}let YN=(()=>{class n{constructor(e,i,o){this.router=e,this.dialogRef=i,this.data=o,this.flight=o}goToEditFlight(){this.close(),this.router.navigate(["/dashboard/flights",this.flight.key])}close(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Kn),c.Y36(py),c.Y36(ix))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-details"]],decls:14,vars:4,consts:[[1,"row"],[1,"col"],[1,"float-end","cursor",3,"click"],[1,"label"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",1,"float-end",3,"click"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"h2"),c._uU(3),c.TgZ(4,"mat-icon",2),c.NdJ("click",function(){return i.close()}),c._uU(5,"close"),c.qZA()(),c.TgZ(6,"p",3),c._uU(7),c.qZA(),c.TgZ(8,"p",3),c._uU(9,"Za\u0142oga:"),c.qZA(),c.TgZ(10,"ul"),c.YNc(11,ZN,2,2,"li",4),c.qZA(),c.TgZ(12,"button",5),c.NdJ("click",function(){return i.goToEditFlight()}),c._uU(13,"Edytuj lot"),c.qZA()()()),2&e&&(c.xp6(3),c.AsE(" Szczeg\xf3\u0142y lotu ",i.flight.origin," - ",i.flight.destination," "),c.xp6(4),c.hij("Kod: ",i.flight.code,""),c.xp6(4),c.Q6J("ngForOf",i.flight.crew))},directives:[tg,an,uc],styles:[".cursor[_ngcontent-%COMP%]{cursor:pointer}"]}),n})();O(3059);var XN=O(3942);const lx="@firebase/database";let iS="";function ux(n){iS=n}class JN{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,F.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,F.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class eF{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,F.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const dx=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new JN(t)}}catch(t){}return new eF},Ph=dx("localStorage"),rS=dx("sessionStorage"),ng=new L_.Yd("@firebase/database"),hx=function(){let n=1;return function(){return n++}}(),fx=function(n){const t=(0,F.dS)(n),e=new F.gQ;e.update(t);const i=e.digest();return F.US.encodeByteArray(i)},gy=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=gy.apply(null,i):t+="object"==typeof i?(0,F.Pz)(i):i,t+=" "}return t};let Nh=null,px=!0;const gx=function(n,t){(0,F.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(ng.logLevel=L_.in.VERBOSE,Nh=ng.log.bind(ng),t&&rS.set("logging_enabled",!0)):"function"==typeof n?Nh=n:(Nh=null,rS.remove("logging_enabled"))},zi=function(...n){if(!0===px&&(px=!1,null===Nh&&!0===rS.get("logging_enabled")&&gx(!0)),Nh){const t=gy.apply(null,n);Nh(t)}},my=function(n){return function(...t){zi(n,...t)}},sS=function(...n){const t="FIREBASE INTERNAL ERROR: "+gy(...n);ng.error(t)},dl=function(...n){const t=`FIREBASE FATAL ERROR: ${gy(...n)}`;throw ng.error(t),new Error(t)},Zr=function(...n){const t="FIREBASE WARNING: "+gy(...n);ng.warn(t)},SE=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},gc="[MIN_NAME]",hl="[MAX_NAME]",Fh=function(n,t){if(n===t)return 0;if(n===gc||t===hl)return-1;if(t===gc||n===hl)return 1;{const e=TE(n),i=TE(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},iF=function(n,t){return n===t?0:n<t?-1:1},_y=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,F.Pz)(t))},oS=function(n){if("object"!=typeof n||null===n)return(0,F.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,F.Pz)(t[i]),e+=":",e+=oS(n[t[i]]);return e+="}",e},mx=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let o=0;o<e;o+=t)i.push(n.substring(o,o+t>e?e:o+t));return i};function Gi(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const _x=function(n){(0,F.hu)(!SE(n),"Invalid JSON number");const i=1023;let o,l,d,m,v;0===n?(l=0,d=0,o=1/n==-1/0?1:0):(o=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(m=Math.min(Math.floor(Math.log(n)/Math.LN2),i),l=m+i,d=Math.round(n*Math.pow(2,52-m)-Math.pow(2,52))):(l=0,d=Math.round(n/Math.pow(2,-1074))));const D=[];for(v=52;v;v-=1)D.push(d%2?1:0),d=Math.floor(d/2);for(v=11;v;v-=1)D.push(l%2?1:0),l=Math.floor(l/2);D.push(o?1:0),D.reverse();const A=D.join("");let x="";for(v=0;v<64;v+=8){let V=parseInt(A.substr(v,8),2).toString(16);1===V.length&&(V="0"+V),x+=V}return x.toLowerCase()},aF=new RegExp("^-?(0*)\\d{1,10}$"),yx=-2147483648,aS=2147483647,TE=function(n){if(aF.test(n)){const t=Number(n);if(t>=yx&&t<=aS)return t}return null},ig=function(n){try{n()}catch(t){setTimeout(()=>{throw Zr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},yy=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class cF{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Zr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class uF{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(zi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Zr(t)}}let vy=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const wx=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ix="websocket",Sx="long_polling";class cS{constructor(t,e,i,o,l=!1,d="",m=!1){this.secure=e,this.namespace=i,this.webSocketOnly=o,this.nodeAdmin=l,this.persistenceKey=d,this.includeNamespaceInQueryParams=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ph.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Ph.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Tx(n,t,e){let i;if((0,F.hu)("string"==typeof t,"typeof type must == string"),(0,F.hu)("object"==typeof e,"typeof params must == object"),t===Ix)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==Sx)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function hF(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const o=[];return Gi(e,(l,d)=>{o.push(l+"="+d)}),i+o.join("&")}class fF{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,F.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,F.p$)(this.counters_)}}const uS={},dS={};function hS(n){const t=n.toString();return uS[t]||(uS[t]=new fF),uS[t]}class gF{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<i.length;++o)i[o]&&ig(()=>{this.onMessage_(i[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class rg{constructor(t,e,i,o,l,d,m){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=o,this.authToken=l,this.transportSessionId=d,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=my(t),this.stats_=hS(e),this.urlFn=v=>(this.appCheckToken&&(v.ac=this.appCheckToken),Tx(e,Sx,v))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new gF(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,F.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new fS((...l)=>{const[d,m,v,D,A]=l;if(this.incrementIncomingBytes_(l),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===d)this.id=m,this.password=v;else{if("close"!==d)throw new Error("Unrecognized command received: "+d);m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_()}},(...l)=>{const[d,m]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(d,m)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&wx.test(location.hostname)&&(i.r="f");const o=this.urlFn(i);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){rg.forceAllow_=!0}static forceDisallow(){rg.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!rg.forceAllow_&&(rg.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,F.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,F.h$)(e),o=mx(i,1840);for(let l=0;l<o.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[l]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,F.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class fS{constructor(t,e,i,o){if(this.onDisconnect=i,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=hx(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=fS.createIFrame_();let l="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(l='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(m){zi("frame writing exception"),m.stack&&zi(m.stack),zi(m)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||zi("No IE domain setting required")}catch(e){const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const d=this.pendingSegs.shift();i=i+"&seg"+o+"="+d.seg+"&ts"+o+"="+d.ts+"&d"+o+"="+d.d,o++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},o=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(o),i()})}addTag(t,e){(0,F.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const o=i.readyState;(!o||"loaded"===o||"complete"===o)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{zi("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let by=null;"undefined"!=typeof MozWebSocket?by=MozWebSocket:"undefined"!=typeof WebSocket&&(by=WebSocket);let Cy=(()=>{class n{constructor(e,i,o,l,d,m,v){this.connId=e,this.applicationId=o,this.appCheckToken=l,this.authToken=d,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=my(this.connId),this.stats_=hS(i),this.connURL=n.connectionURL_(i,m,v,l),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,o,l){const d={v:"5"};return!(0,F.Yr)()&&"undefined"!=typeof location&&location.hostname&&wx.test(location.hostname)&&(d.r="f"),i&&(d.s=i),o&&(d.ls=o),l&&(d.ac=l),Tx(e,Ix,d)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ph.set("previous_websocket_failure",!0);try{if((0,F.Yr)()){const l={headers:{"User-Agent":`Firebase/5/${iS}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(l.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(l.headers["X-Firebase-AppCheck"]=this.appCheckToken);const d=process.env,m=0===this.connURL.indexOf("wss://")?d.HTTPS_PROXY||d.https_proxy:d.HTTP_PROXY||d.http_proxy;m&&(l.proxy={origin:m}),this.mySock=new by(this.connURL,[],l)}else this.mySock=new by(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(o){this.log_("Error instantiating WebSocket.");const l=o.message||o.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const o=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);o&&o.length>1&&parseFloat(o[1])<4.4&&(e=!0)}return!e&&null!==by&&!n.forceDisallow_}static previouslyFailed(){return Ph.isInMemoryStorage||!0===Ph.get("previous_websocket_failure")}markConnectionHealthy(){Ph.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const o=(0,F.cI)(i);this.onMessage(o)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const o=this.extractFrameCount_(i);null!==o&&this.appendFrame_(o)}}send(e){this.resetKeepAlive();const i=(0,F.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const o=mx(i,16384);o.length>1&&this.sendString_(String(o.length));for(let l=0;l<o.length;l++)this.sendString_(o[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class pS{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[rg,Cy]}initTransports_(t){const e=Cy&&Cy.isAvailable();let i=e&&!Cy.previouslyFailed();if(t.webSocketOnly&&(e||Zr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Cy];else{const o=this.transports_=[];for(const l of pS.ALL_TRANSPORTS)l&&l.isAvailable()&&o.push(l)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class Ux{constructor(t,e,i,o,l,d,m,v,D,A){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=o,this.authToken_=l,this.onMessage_=d,this.onReady_=m,this.onDisconnect_=v,this.onKill_=D,this.lastSessionId=A,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=my("c:"+this.id+":"),this.transportManager_=new pS(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=yy(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=_y("t",t),i=_y("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=_y("t",t),i=_y("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=_y("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?sS("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):sS("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Zr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),yy(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):yy(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ph.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Hx{put(t,e,i,o){}merge(t,e,i,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class jx{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,F.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let o=0;o<i.length;o++)i[o].callback.apply(i[o].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const o=this.getInitialEvent(t);o&&e.apply(i,o)}off(t,e,i){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let l=0;l<o.length;l++)if(o[l].callback===e&&(!i||i===o[l].context))return void o.splice(l,1)}validateEventType_(t){(0,F.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class ME extends jx{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ME}getInitialEvent(t){return(0,F.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Qt{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[i]=this.pieces_[o],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Zt(){return new Qt("")}function kt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Pu(n){return n.pieces_.length-n.pieceNum_}function pn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Qt(n.pieces_,t)}function mS(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Ey(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function $x(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Qt(t,0)}function xn(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Qt)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let o=0;o<i.length;o++)i[o].length>0&&e.push(i[o])}return new Qt(e,0)}function xt(n){return n.pieceNum_>=n.pieces_.length}function Yr(n,t){const e=kt(n),i=kt(t);if(null===e)return t;if(e===i)return Yr(pn(n),pn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function LF(n,t){const e=Ey(n,0),i=Ey(t,0);for(let o=0;o<e.length&&o<i.length;o++){const l=Fh(e[o],i[o]);if(0!==l)return l}return e.length===i.length?0:e.length<i.length?-1:1}function _S(n,t){if(Pu(n)!==Pu(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function xo(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Pu(n)>Pu(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class BF{constructor(t,e){this.errorPrefix_=e,this.parts_=Ey(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,F.ug)(this.parts_[i]);Wx(this)}}function Wx(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Lh(n))}function Lh(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class yS extends jx{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new yS}getInitialEvent(t){return(0,F.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const wy=1e3;let xE,Bh=(()=>{class n extends Hx{constructor(e,i,o,l,d,m,v,D){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=o,this.onConnectStatus_=l,this.onServerInfoUpdate_=d,this.authTokenProvider_=m,this.appCheckTokenProvider_=v,this.authOverride_=D,this.id=n.nextPersistentConnectionId_++,this.log_=my("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=wy,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,D&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");yS.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&ME.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,o){const l=++this.requestNumber_,d={r:l,a:e,b:i};this.log_((0,F.Pz)(d)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(d),o&&(this.requestCBHash_[l]=o)}get(e){this.initConnection_();const i=new F.BH,o={p:e._path.toString(),q:e._queryObject},l={action:"g",request:o,onComplete:m=>{const v=m.d;"ok"===m.s?(this.onDataUpdate_(o.p,v,!1,null),i.resolve(v)):i.reject(v)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const d=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const m=this.outstandingGets_[d];void 0===m||l!==m||(delete this.outstandingGets_[d],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+d+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(d),i.promise}listen(e,i,o,l){this.initConnection_();const d=e._queryIdentifier,m=e._path.toString();this.log_("Listen called for "+m+" "+d),this.listens.has(m)||this.listens.set(m,new Map),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(m).has(d),"listen() called twice for same path/queryId.");const v={onComplete:l,hashFn:i,query:e,tag:o};this.listens.get(m).set(d,v),this.connected_&&this.sendListen_(v)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,o=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(o)})}sendListen_(e){const i=e.query,o=i._path.toString(),l=i._queryIdentifier;this.log_("Listen on "+o+" for "+l);const d={p:o};e.tag&&(d.q=i._queryObject,d.t=e.tag),d.h=e.hashFn(),this.sendRequest("q",d,v=>{const D=v.d,A=v.s;n.warnOnListenWarnings_(D,i),(this.listens.get(o)&&this.listens.get(o).get(l))===e&&(this.log_("listen response",v),"ok"!==A&&this.removeListen_(o,l),e.onComplete&&e.onComplete(A,D))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,F.r3)(e,"w")){const o=(0,F.DV)(e,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const l='".indexOn": "'+i._queryParams.getIndex().toString()+'"',d=i._path.toString();Zr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${d} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,F.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,F.w9)(e)?"auth":"gauth",o={cred:e};null===this.authOverride_?o.noauth=!0:"object"==typeof this.authOverride_&&(o.authvar=this.authOverride_),this.sendRequest(i,o,l=>{const d=l.s,m=l.d||"error";this.authToken_===e&&("ok"===d?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(d,m))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,o=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,o)})}unlisten(e,i){const o=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+o+" "+l),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,l)&&this.connected_&&this.sendUnlisten_(o,l,e._queryObject,i)}sendUnlisten_(e,i,o,l){this.log_("Unlisten on "+e+" for "+i);const d={p:e};l&&(d.q=o,d.t=l),this.sendRequest("n",d)}onDisconnectPut(e,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:o})}onDisconnectMerge(e,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:o})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,o,l){const d={p:i,d:o};this.log_("onDisconnect "+e,d),this.sendRequest(e,d,m=>{l&&setTimeout(()=>{l(m.s,m.d)},Math.floor(0))})}put(e,i,o,l){this.putInternal("p",e,i,o,l)}merge(e,i,o,l){this.putInternal("m",e,i,o,l)}putInternal(e,i,o,l,d){this.initConnection_();const m={p:i,d:o};void 0!==d&&(m.h=d),this.outstandingPuts_.push({action:e,request:m,onComplete:l}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,o=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,o,d=>{this.log_(i+" response",d),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),l&&l(d.s,d.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,o=>{"ok"!==o.s&&this.log_("reportStats","Error sending stats: "+o.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,F.Pz)(e));const i=e.r,o=this.requestCBHash_[i];o&&(delete this.requestCBHash_[i],o(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):sS("Unrecognized action received from server: "+(0,F.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=wy,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=wy,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=wy),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,hc.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),o=e.onReady_.bind(e),l=e.onRealtimeDisconnect_.bind(e),d=e.id+":"+n.nextConnectionId_++,m=e.lastSessionId;let v=!1,D=null;const A=function(){D?D.close():(v=!0,l())};e.realtime_={close:A,sendRequest:function(W){(0,F.hu)(D,"sendRequest call when we're not connected not allowed."),D.sendRequest(W)}};const V=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[W,te]=yield Promise.all([e.authTokenProvider_.getToken(V),e.appCheckTokenProvider_.getToken(V)]);v?zi("getToken() completed but was canceled"):(zi("getToken() completed. Creating connection."),e.authToken_=W&&W.accessToken,e.appCheckToken_=te&&te.token,D=new Ux(d,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,o,l,Se=>{Zr(Se+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},m))}catch(W){e.log_("Failed to get token: "+W),v||(e.repoInfo_.nodeAdmin&&Zr(W),A())}}})()}interrupt(e){zi("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){zi("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=wy,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let o;o=i?i.map(d=>oS(d)).join("$"):"default";const l=this.removeListen_(e,o);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,i){const o=new Qt(e).toString();let l;if(this.listens.has(o)){const d=this.listens.get(o);l=d.get(i),d.delete(i),0===d.size&&this.listens.delete(o)}else l=void 0;return l}onAuthRevoked_(e,i){zi("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){zi("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,F.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+iS.replace(/\./g,"-")]=1,(0,F.uI)()?e["framework.cordova"]=1:(0,F.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ME.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Rt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Rt(t,e)}}class kE{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Rt(gc,t),o=new Rt(gc,e);return 0!==this.compare(i,o)}minPost(){return Rt.MIN}}class Yx extends kE{static get __EMPTY_NODE(){return xE}static set __EMPTY_NODE(t){xE=t}compare(t,e){return Fh(t.name,e.name)}isDefinedOn(t){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Rt.MIN}maxPost(){return new Rt(hl,xE)}makePost(t,e){return(0,F.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Rt(t,xE)}toString(){return".key"}}const fl=new Yx;class RE{constructor(t,e,i,o,l=null){this.isReverse_=o,this.resultGenerator_=l,this.nodeStack_=[];let d=1;for(;!t.isEmpty();)if(t=t,d=e?i(t.key,e):1,o&&(d*=-1),d<0)t=this.isReverse_?t.left:t.right;else{if(0===d){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let bS,Ia=(()=>{class n{constructor(e,i,o,l,d){this.key=e,this.value=i,this.color=null!=o?o:n.RED,this.left=null!=l?l:Cs.EMPTY_NODE,this.right=null!=d?d:Cs.EMPTY_NODE}copy(e,i,o,l,d){return new n(null!=e?e:this.key,null!=i?i:this.value,null!=o?o:this.color,null!=l?l:this.left,null!=d?d:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,o){let l=this;const d=o(e,l.key);return l=d<0?l.copy(null,null,null,l.left.insert(e,i,o),null):0===d?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,o)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Cs.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let o,l;if(o=this,i(e,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),0===i(e,o.key)){if(o.right.isEmpty())return Cs.EMPTY_NODE;l=o.right.min_(),o=o.copy(l.key,l.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Cs{constructor(t,e=Cs.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Cs(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Ia.BLACK,null,null))}remove(t){return new Cs(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ia.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,o=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return o?o.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(o=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new RE(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new RE(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new RE(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new RE(this.root_,null,this.comparator_,!0,t)}}function qF(n,t){return Fh(n.name,t.name)}function vS(n,t){return Fh(n,t)}Cs.EMPTY_NODE=new class WF{copy(t,e,i,o,l){return this}insert(t,e,i){return new Ia(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Kx=function(n){return"number"==typeof n?"number:"+_x(n):"string:"+n},Qx=function(n){if(n.isLeafNode()){const t=n.val();(0,F.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,F.r3)(t,".sv"),"Priority must be a string or number.")}else(0,F.hu)(n===bS||n.isEmpty(),"priority of unexpected type.");(0,F.hu)(n===bS||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Xx,Jx,eR,sg=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Qx(this.priorityNode_)}static set __childrenNodeConstructor(e){Xx=e}static get __childrenNodeConstructor(){return Xx}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return xt(e)?this:".priority"===kt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const o=kt(e);return null===o?i:i.isEmpty()&&".priority"!==o?this:((0,F.hu)(".priority"!==o||1===Pu(e),".priority must be the last token in a path"),this.updateImmediateChild(o,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(pn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Kx(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?_x(this.value_):this.value_,this.lazyHash_=fx(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,F.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,o=typeof this.value_,l=n.VALUE_TYPE_ORDER.indexOf(i),d=n.VALUE_TYPE_ORDER.indexOf(o);return(0,F.hu)(l>=0,"Unknown leaf type: "+i),(0,F.hu)(d>=0,"Unknown leaf type: "+o),l===d?"object"===o?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:d-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Cn=new class QF extends kE{compare(t,e){const i=t.node.getPriority(),o=e.node.getPriority(),l=i.compareTo(o);return 0===l?Fh(t.name,e.name):l}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Rt.MIN}maxPost(){return new Rt(hl,new sg("[PRIORITY-POST]",eR))}makePost(t,e){const i=Jx(t);return new Rt(e,new sg("[PRIORITY-POST]",i))}toString(){return".priority"}},XF=Math.log(2);class JF{constructor(t){this.count=parseInt(Math.log(t+1)/XF,10),this.current_=this.count-1;const o=(l=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const OE=function(n,t,e,i){n.sort(t);const o=function(v,D){const A=D-v;let x,V;if(0===A)return null;if(1===A)return x=n[v],V=e?e(x):x,new Ia(V,x.node,Ia.BLACK,null,null);{const W=parseInt(A/2,10)+v,te=o(v,W),Se=o(W+1,D);return x=n[W],V=e?e(x):x,new Ia(V,x.node,Ia.BLACK,te,Se)}},m=function(v){let D=null,A=null,x=n.length;const V=function(te,Se){const $e=x-te,Ct=x;x-=te;const ht=o($e+1,Ct),St=n[$e],_t=e?e(St):St;W(new Ia(_t,St.node,Se,null,ht))},W=function(te){D?(D.left=te,D=te):(A=te,D=te)};for(let te=0;te<v.count;++te){const Se=v.nextBitIsOne(),$e=Math.pow(2,v.count-(te+1));Se?V($e,Ia.BLACK):(V($e,Ia.BLACK),V($e,Ia.RED))}return A}(new JF(n.length));return new Cs(i||t,m)};let CS;const og={};class mc{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,F.hu)(og&&Cn,"ChildrenNode.ts has not been loaded"),CS=CS||new mc({".priority":og},{".priority":Cn}),CS}get(t){const e=(0,F.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Cs?e:null}hasIndex(t){return(0,F.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,F.hu)(t!==fl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let o=!1;const l=e.getIterator(Rt.Wrap);let m,d=l.getNext();for(;d;)o=o||t.isDefinedOn(d.node),i.push(d),d=l.getNext();m=o?OE(i,t.getCompare()):og;const v=t.toString(),D=Object.assign({},this.indexSet_);D[v]=t;const A=Object.assign({},this.indexes_);return A[v]=m,new mc(A,D)}addToIndexes(t,e){const i=(0,F.UI)(this.indexes_,(o,l)=>{const d=(0,F.DV)(this.indexSet_,l);if((0,F.hu)(d,"Missing index implementation for "+l),o===og){if(d.isDefinedOn(t.node)){const m=[],v=e.getIterator(Rt.Wrap);let D=v.getNext();for(;D;)D.name!==t.name&&m.push(D),D=v.getNext();return m.push(t),OE(m,d.getCompare())}return og}{const m=e.get(t.name);let v=o;return m&&(v=v.remove(new Rt(t.name,m))),v.insert(t,t.node)}});return new mc(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,F.UI)(this.indexes_,o=>{if(o===og)return o;{const l=e.get(t.name);return l?o.remove(new Rt(t.name,l)):o}});return new mc(i,this.indexSet_)}}let Dy,It=(()=>{class n{constructor(e,i,o){this.children_=e,this.priorityNode_=i,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&Qx(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Dy||(Dy=new n(new Cs(vS),null,mc.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Dy}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?Dy:i}}getChild(e){const i=kt(e);return null===i?this:this.getImmediateChild(i).getChild(pn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,F.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const o=new Rt(e,i);let l,d;i.isEmpty()?(l=this.children_.remove(e),d=this.indexMap_.removeFromIndexes(o,this.children_)):(l=this.children_.insert(e,i),d=this.indexMap_.addToIndexes(o,this.children_));const m=l.isEmpty()?Dy:this.priorityNode_;return new n(l,m,d)}}updateChild(e,i){const o=kt(e);if(null===o)return i;{(0,F.hu)(".priority"!==kt(e)||1===Pu(e),".priority must be the last token in a path");const l=this.getImmediateChild(o).updateChild(pn(e),i);return this.updateImmediateChild(o,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let o=0,l=0,d=!0;if(this.forEachChild(Cn,(m,v)=>{i[m]=v.val(e),o++,d&&n.INTEGER_REGEXP_.test(m)?l=Math.max(l,Number(m)):d=!1}),!e&&d&&l<2*o){const m=[];for(const v in i)m[v]=i[v];return m}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Kx(this.getPriority().val())+":"),this.forEachChild(Cn,(i,o)=>{const l=o.hash();""!==l&&(e+=":"+i+":"+l)}),this.lazyHash_=""===e?"":fx(e)}return this.lazyHash_}getPredecessorChildName(e,i,o){const l=this.resolveIndex_(o);if(l){const d=l.getPredecessorKey(new Rt(e,i));return d?d.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const o=i.minKey();return o&&o.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Rt(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const o=i.maxKey();return o&&o.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Rt(i,this.children_.get(i)):null}forEachChild(e,i){const o=this.resolveIndex_(e);return o?o.inorderTraversal(l=>i(l.name,l.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const o=this.resolveIndex_(i);if(o)return o.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,Rt.Wrap);let d=l.peek();for(;null!=d&&i.compare(d,e)<0;)l.getNext(),d=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const o=this.resolveIndex_(i);if(o)return o.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,Rt.Wrap);let d=l.peek();for(;null!=d&&i.compare(d,e)>0;)l.getNext(),d=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Iy?-1:0}withIndex(e){if(e===fl||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===fl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const o=this.getIterator(Cn),l=i.getIterator(Cn);let d=o.getNext(),m=l.getNext();for(;d&&m;){if(d.name!==m.name||!d.node.equals(m.node))return!1;d=o.getNext(),m=l.getNext()}return null===d&&null===m}return!1}return!1}}resolveIndex_(e){return e===fl?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Iy=new class e1 extends It{constructor(){super(new Cs(vS),It.EMPTY_NODE,mc.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return It.EMPTY_NODE}isEmpty(){return!1}};function zn(n,t=null){if(null===n)return It.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,F.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new sg(n,zn(t));if(n instanceof Array){let e=It.EMPTY_NODE;return Gi(n,(i,o)=>{if((0,F.r3)(n,i)&&"."!==i.substring(0,1)){const l=zn(o);(l.isLeafNode()||!l.isEmpty())&&(e=e.updateImmediateChild(i,l))}}),e.updatePriority(zn(t))}{const e=[];let i=!1;if(Gi(n,(d,m)=>{if("."!==d.substring(0,1)){const v=zn(m);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),e.push(new Rt(d,v)))}}),0===e.length)return It.EMPTY_NODE;const l=OE(e,qF,d=>d.name,vS);if(i){const d=OE(e,Cn.getCompare());return new It(l,zn(t),new mc({".priority":d},{".priority":Cn}))}return new It(l,zn(t),mc.Default)}}Object.defineProperties(Rt,{MIN:{value:new Rt(gc,It.EMPTY_NODE)},MAX:{value:new Rt(hl,Iy)}}),Yx.__EMPTY_NODE=It.EMPTY_NODE,sg.__childrenNodeConstructor=It,function ZF(n){bS=n}(Iy),function KF(n){eR=n}(Iy),function YF(n){Jx=n}(zn);class ES extends kE{constructor(t){super(),this.indexPath_=t,(0,F.hu)(!xt(t)&&".priority"!==kt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),o=this.extractChild(e.node),l=i.compareTo(o);return 0===l?Fh(t.name,e.name):l}makePost(t,e){const i=zn(t),o=It.EMPTY_NODE.updateChild(this.indexPath_,i);return new Rt(e,o)}maxPost(){const t=It.EMPTY_NODE.updateChild(this.indexPath_,Iy);return new Rt(hl,t)}toString(){return Ey(this.indexPath_,0).join("/")}}const wS=new class n1 extends kE{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Fh(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Rt.MIN}maxPost(){return Rt.MAX}makePost(t,e){const i=zn(t);return new Rt(e,i)}toString(){return".value"}},ag="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",r1=function(){let n=0;const t=[];return function(e){const i=e===n;let o;n=e;const l=new Array(8);for(o=7;o>=0;o--)l[o]=ag.charAt(e%64),e=Math.floor(e/64);(0,F.hu)(0===e,"Cannot push at time == 0");let d=l.join("");if(i){for(o=11;o>=0&&63===t[o];o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)d+=ag.charAt(t[o]);return(0,F.hu)(20===d.length,"nextPushId: Length should be 20."),d}}(),iR=function(n){if(n===""+aS)return"-";const t=TE(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let d=0;d<e.length;d++)e[d]=n.charAt(d);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return hl;const l=ag.charAt(ag.indexOf(e[i])+1);return e[i]=l,e.slice(0,i+1).join("")},rR=function(n){if(n===""+yx)return gc;const t=TE(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+aS:(delete e[e.length-1],e.join("")):(e[e.length-1]=ag.charAt(ag.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function sR(n){return{type:"value",snapshotNode:n}}function lg(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Sy(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Ty(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class IS{constructor(t){this.index_=t}updateChild(t,e,i,o,l,d){(0,F.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=t.getImmediateChild(e);return m.getChild(o).equals(i.getChild(o))&&m.isEmpty()===i.isEmpty()||(null!=d&&(i.isEmpty()?t.hasChild(e)?d.trackChildChange(Sy(e,m)):(0,F.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?d.trackChildChange(lg(e,i)):d.trackChildChange(Ty(e,i,m))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(Cn,(o,l)=>{e.hasChild(o)||i.trackChildChange(Sy(o,l))}),e.isLeafNode()||e.forEachChild(Cn,(o,l)=>{if(t.hasChild(o)){const d=t.getImmediateChild(o);d.equals(l)||i.trackChildChange(Ty(o,l,d))}else i.trackChildChange(lg(o,l))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?It.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ay{constructor(t){this.indexedFilter_=new IS(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Ay.getStartPost_(t),this.endPost_=Ay.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,o,l,d){return this.matches(new Rt(e,i))||(i=It.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,o,l,d)}updateFullNode(t,e,i){e.isLeafNode()&&(e=It.EMPTY_NODE);let o=e.withIndex(this.index_);o=o.updatePriority(It.EMPTY_NODE);const l=this;return e.forEachChild(Cn,(d,m)=>{l.matches(new Rt(d,m))||(o=o.updateImmediateChild(d,It.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class o1{constructor(t){this.rangedFilter_=new Ay(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,o,l,d){return this.rangedFilter_.matches(new Rt(e,i))||(i=It.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,o,l,d):this.fullLimitUpdateChild_(t,e,i,l,d)}updateFullNode(t,e,i){let o;if(e.isLeafNode()||e.isEmpty())o=It.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let l;o=It.EMPTY_NODE.withIndex(this.index_),l=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;l.hasNext()&&d<this.limit_;){const m=l.getNext();let v;if(v=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),m)<=0:this.index_.compare(m,this.rangedFilter_.getEndPost())<=0,!v)break;o=o.updateImmediateChild(m.name,m.node),d++}}else{let l,d,m,v;if(o=e.withIndex(this.index_),o=o.updatePriority(It.EMPTY_NODE),this.reverse_){v=o.getReverseIterator(this.index_),l=this.rangedFilter_.getEndPost(),d=this.rangedFilter_.getStartPost();const x=this.index_.getCompare();m=(V,W)=>x(W,V)}else v=o.getIterator(this.index_),l=this.rangedFilter_.getStartPost(),d=this.rangedFilter_.getEndPost(),m=this.index_.getCompare();let D=0,A=!1;for(;v.hasNext();){const x=v.getNext();!A&&m(l,x)<=0&&(A=!0),A&&D<this.limit_&&m(x,d)<=0?D++:o=o.updateImmediateChild(x.name,It.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,o,l){let d;if(this.reverse_){const x=this.index_.getCompare();d=(V,W)=>x(W,V)}else d=this.index_.getCompare();const m=t;(0,F.hu)(m.numChildren()===this.limit_,"");const v=new Rt(e,i),D=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),A=this.rangedFilter_.matches(v);if(m.hasChild(e)){const x=m.getImmediateChild(e);let V=o.getChildAfterChild(this.index_,D,this.reverse_);for(;null!=V&&(V.name===e||m.hasChild(V.name));)V=o.getChildAfterChild(this.index_,V,this.reverse_);const W=null==V?1:d(V,v);if(A&&!i.isEmpty()&&W>=0)return null!=l&&l.trackChildChange(Ty(e,i,x)),m.updateImmediateChild(e,i);{null!=l&&l.trackChildChange(Sy(e,x));const Se=m.updateImmediateChild(e,It.EMPTY_NODE);return null!=V&&this.rangedFilter_.matches(V)?(null!=l&&l.trackChildChange(lg(V.name,V.node)),Se.updateImmediateChild(V.name,V.node)):Se}}return i.isEmpty()?t:A&&d(D,v)>=0?(null!=l&&(l.trackChildChange(Sy(D.name,D.node)),l.trackChildChange(lg(e,i))),m.updateImmediateChild(e,i).updateImmediateChild(D.name,It.EMPTY_NODE)):t}}class PE{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Cn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:gc}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:hl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Cn}copy(){const t=new PE;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function SS(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function TS(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function NE(n,t){const e=n.copy();return e.index_=t,e}function oR(n){const t={};if(n.isDefault())return t;let e;return n.index_===Cn?e="$priority":n.index_===wS?e="$value":n.index_===fl?e="$key":((0,F.hu)(n.index_ instanceof ES,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,F.Pz)(e),n.startSet_&&(t.startAt=(0,F.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,F.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,F.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,F.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function aR(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Cn&&(t.i=n.index_.toString()),t}class FE extends Hx{constructor(t,e,i,o){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=o,this.log_=my("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,F.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,o){const l=t._path.toString();this.log_("Listen called for "+l+" "+t._queryIdentifier);const d=FE.getListenId_(t,i),m={};this.listens_[d]=m;const v=oR(t._queryParams);this.restRequest_(l+".json",v,(D,A)=>{let x=A;if(404===D&&(x=null,D=null),null===D&&this.onDataUpdate_(l,x,!1,i),(0,F.DV)(this.listens_,d)===m){let V;V=D?401===D?"permission_denied":"rest_error:"+D:"ok",o(V,null)}})}unlisten(t,e){const i=FE.getListenId_(t,e);delete this.listens_[i]}get(t){const e=oR(t._queryParams),i=t._path.toString(),o=new F.BH;return this.restRequest_(i+".json",e,(l,d)=>{let m=d;404===l&&(m=null,l=null),null===l?(this.onDataUpdate_(i,m,!1,null),o.resolve(m)):o.reject(new Error(m))}),o.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,l])=>{o&&o.accessToken&&(e.auth=o.accessToken),l&&l.token&&(e.ac=l.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,F.xO)(e);this.log_("Sending REST request for "+d);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(i&&4===m.readyState){this.log_("REST Response for "+d+" received. status:",m.status,"response:",m.responseText);let v=null;if(m.status>=200&&m.status<300){try{v=(0,F.cI)(m.responseText)}catch(D){Zr("Failed to parse JSON response for "+d+": "+m.responseText)}i(null,v)}else 401!==m.status&&404!==m.status&&Zr("Got unsuccessful REST response for "+d+" Status: "+m.status),i(m.status);i=null}},m.open("GET",d,!0),m.send()})}}class h1{constructor(){this.rootNode_=It.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function LE(){return{value:null,children:new Map}}function cg(n,t,e){if(xt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=kt(t);n.children.has(i)||n.children.set(i,LE()),cg(n.children.get(i),t=pn(t),e)}}function AS(n,t){if(xt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Cn,(i,o)=>{cg(n,new Qt(i),o)}),AS(n,t)}}if(n.children.size>0){const e=kt(t);return t=pn(t),n.children.has(e)&&AS(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function MS(n,t,e){null!==n.value?e(t,n.value):function f1(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,o)=>{MS(o,new Qt(t.toString()+"/"+i),e)})}class p1{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Gi(this.last_,(i,o)=>{e[i]=e[i]-o}),this.last_=t,e}}class _1{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new p1(t);const i=1e4+2e4*Math.random();yy(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Gi(t,(o,l)=>{l>0&&(0,F.r3)(this.statsToReport_,o)&&(e[o]=l,i=!0)}),i&&this.server_.reportStats(e),yy(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ro=(()=>{return(n=Ro||(Ro={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Ro;var n})();function RS(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class BE{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Ro.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(xt(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Qt(t));return new BE(Zt(),e,this.revert)}}return(0,F.hu)(kt(this.path)===t,"operationForChild called for unrelated child."),new BE(pn(this.path),this.affectedTree,this.revert)}}class My{constructor(t,e){this.source=t,this.path=e,this.type=Ro.LISTEN_COMPLETE}operationForChild(t){return xt(this.path)?new My(this.source,Zt()):new My(this.source,pn(this.path))}}class Vh{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Ro.OVERWRITE}operationForChild(t){return xt(this.path)?new Vh(this.source,Zt(),this.snap.getImmediateChild(t)):new Vh(this.source,pn(this.path),this.snap)}}class ug{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Ro.MERGE}operationForChild(t){if(xt(this.path)){const e=this.children.subtree(new Qt(t));return e.isEmpty()?null:e.value?new Vh(this.source,Zt(),e.value):new ug(this.source,Zt(),e)}return(0,F.hu)(kt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new ug(this.source,pn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Nu{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(xt(t))return this.isFullyInitialized()&&!this.filtered_;const e=kt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class y1{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function ky(n,t,e,i,o,l){const d=i.filter(m=>m.type===e);d.sort((m,v)=>function C1(n,t,e){if(null==t.childName||null==e.childName)throw(0,F.g5)("Should only compare child_ events.");const i=new Rt(t.childName,t.snapshotNode),o=new Rt(e.childName,e.snapshotNode);return n.index_.compare(i,o)}(n,m,v)),d.forEach(m=>{const v=function b1(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,m,l);o.forEach(D=>{D.respondsTo(m.type)&&t.push(D.createEvent(v,n.query_))})})}function VE(n,t){return{eventCache:n,serverCache:t}}function xy(n,t,e,i){return VE(new Nu(t,e,i),n.serverCache)}function cR(n,t,e,i){return VE(n.eventCache,new Nu(t,e,i))}function UE(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Uh(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let OS;class En{constructor(t,e=(()=>(OS||(OS=new Cs(iF)),OS))()){this.value=t,this.children=e}static fromObject(t){let e=new En(null);return Gi(t,(i,o)=>{e=e.set(new Qt(i),o)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Zt(),value:this.value};if(xt(t))return null;{const i=kt(t),o=this.children.get(i);if(null!==o){const l=o.findRootMostMatchingPathAndValue(pn(t),e);return null!=l?{path:xn(new Qt(i),l.path),value:l.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(xt(t))return this;{const e=kt(t),i=this.children.get(e);return null!==i?i.subtree(pn(t)):new En(null)}}set(t,e){if(xt(t))return new En(e,this.children);{const i=kt(t),l=(this.children.get(i)||new En(null)).set(pn(t),e),d=this.children.insert(i,l);return new En(this.value,d)}}remove(t){if(xt(t))return this.children.isEmpty()?new En(null):new En(null,this.children);{const e=kt(t),i=this.children.get(e);if(i){const o=i.remove(pn(t));let l;return l=o.isEmpty()?this.children.remove(e):this.children.insert(e,o),null===this.value&&l.isEmpty()?new En(null):new En(this.value,l)}return this}}get(t){if(xt(t))return this.value;{const e=kt(t),i=this.children.get(e);return i?i.get(pn(t)):null}}setTree(t,e){if(xt(t))return e;{const i=kt(t),l=(this.children.get(i)||new En(null)).setTree(pn(t),e);let d;return d=l.isEmpty()?this.children.remove(i):this.children.insert(i,l),new En(this.value,d)}}fold(t){return this.fold_(Zt(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((o,l)=>{i[o]=l.fold_(xn(t,o),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Zt(),e)}findOnPath_(t,e,i){const o=!!this.value&&i(e,this.value);if(o)return o;if(xt(t))return null;{const l=kt(t),d=this.children.get(l);return d?d.findOnPath_(pn(t),xn(e,l),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Zt(),e)}foreachOnPath_(t,e,i){if(xt(t))return this;{this.value&&i(e,this.value);const o=kt(t),l=this.children.get(o);return l?l.foreachOnPath_(pn(t),xn(e,o),i):new En(null)}}foreach(t){this.foreach_(Zt(),t)}foreach_(t,e){this.children.inorderTraversal((i,o)=>{o.foreach_(xn(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Sa{constructor(t){this.writeTree_=t}static empty(){return new Sa(new En(null))}}function Ry(n,t,e){if(xt(t))return new Sa(new En(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const o=i.path;let l=i.value;const d=Yr(o,t);return l=l.updateChild(d,e),new Sa(n.writeTree_.set(o,l))}{const o=new En(e),l=n.writeTree_.setTree(t,o);return new Sa(l)}}}function PS(n,t,e){let i=n;return Gi(e,(o,l)=>{i=Ry(i,xn(t,o),l)}),i}function uR(n,t){if(xt(t))return Sa.empty();{const e=n.writeTree_.setTree(t,new En(null));return new Sa(e)}}function NS(n,t){return null!=Hh(n,t)}function Hh(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Yr(e.path,t)):null}function dR(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Cn,(i,o)=>{t.push(new Rt(i,o))}):n.writeTree_.children.inorderTraversal((i,o)=>{null!=o.value&&t.push(new Rt(i,o.value))}),t}function Fu(n,t){if(xt(t))return n;{const e=Hh(n,t);return new Sa(null!=e?new En(e):n.writeTree_.subtree(t))}}function FS(n){return n.writeTree_.isEmpty()}function dg(n,t){return hR(Zt(),n.writeTree_,t)}function hR(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((o,l)=>{".priority"===o?((0,F.hu)(null!==l.value,"Priority writes must always be leaf nodes"),i=l.value):e=hR(xn(n,o),l,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(xn(n,".priority"),i)),e}}function HE(n,t){return _R(t,n)}function T1(n,t){if(n.snap)return xo(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&xo(xn(n.path,e),t))return!0;return!1}function M1(n){return n.visible}function fR(n,t,e){let i=Sa.empty();for(let o=0;o<n.length;++o){const l=n[o];if(t(l)){const d=l.path;let m;if(l.snap)xo(e,d)?(m=Yr(e,d),i=Ry(i,m,l.snap)):xo(d,e)&&(m=Yr(d,e),i=Ry(i,Zt(),l.snap.getChild(m)));else{if(!l.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(xo(e,d))m=Yr(e,d),i=PS(i,m,l.children);else if(xo(d,e))if(m=Yr(d,e),xt(m))i=PS(i,Zt(),l.children);else{const v=(0,F.DV)(l.children,kt(m));if(v){const D=v.getChild(pn(m));i=Ry(i,Zt(),D)}}}}}return i}function pR(n,t,e,i,o){if(i||o){const l=Fu(n.visibleWrites,t);return!o&&FS(l)?e:o||null!=e||NS(l,Zt())?dg(fR(n.allWrites,function(D){return(D.visible||o)&&(!i||!~i.indexOf(D.writeId))&&(xo(D.path,t)||xo(t,D.path))},t),e||It.EMPTY_NODE):null}{const l=Hh(n.visibleWrites,t);if(null!=l)return l;{const d=Fu(n.visibleWrites,t);return FS(d)?e:null!=e||NS(d,Zt())?dg(d,e||It.EMPTY_NODE):null}}}function jE(n,t,e,i){return pR(n.writeTree,n.treePath,t,e,i)}function LS(n,t){return function k1(n,t,e){let i=It.EMPTY_NODE;const o=Hh(n.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(Cn,(l,d)=>{i=i.updateImmediateChild(l,d)}),i;if(e){const l=Fu(n.visibleWrites,t);return e.forEachChild(Cn,(d,m)=>{const v=dg(Fu(l,new Qt(d)),m);i=i.updateImmediateChild(d,v)}),dR(l).forEach(d=>{i=i.updateImmediateChild(d.name,d.node)}),i}return dR(Fu(n.visibleWrites,t)).forEach(d=>{i=i.updateImmediateChild(d.name,d.node)}),i}(n.writeTree,n.treePath,t)}function gR(n,t,e,i){return function x1(n,t,e,i,o){(0,F.hu)(i||o,"Either existingEventSnap or existingServerSnap must exist");const l=xn(t,e);if(NS(n.visibleWrites,l))return null;{const d=Fu(n.visibleWrites,l);return FS(d)?o.getChild(e):dg(d,o.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function zE(n,t){return function O1(n,t){return Hh(n.visibleWrites,t)}(n.writeTree,xn(n.treePath,t))}function BS(n,t,e){return function R1(n,t,e,i){const o=xn(t,e),l=Hh(n.visibleWrites,o);return null!=l?l:i.isCompleteForChild(e)?dg(Fu(n.visibleWrites,o),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function mR(n,t){return _R(xn(n.treePath,t),n.writeTree)}function _R(n,t){return{treePath:n,writeTree:t}}class L1{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,F.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const o=this.changeMap.get(i);if(o){const l=o.type;if("child_added"===e&&"child_removed"===l)this.changeMap.set(i,Ty(i,t.snapshotNode,o.snapshotNode));else if("child_removed"===e&&"child_added"===l)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===l)this.changeMap.set(i,Sy(i,o.oldSnap));else if("child_changed"===e&&"child_added"===l)this.changeMap.set(i,lg(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==l)throw(0,F.g5)("Illegal combination of changes: "+t+" occurred after "+o);this.changeMap.set(i,Ty(i,t.snapshotNode,o.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const yR=new class B1{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class VS{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Nu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return BS(this.writes_,t,i)}}getChildAfterChild(t,e,i){const o=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Uh(this.viewCache_),l=function F1(n,t,e,i,o,l){return function P1(n,t,e,i,o,l,d){let m;const v=Fu(n.visibleWrites,t),D=Hh(v,Zt());if(null!=D)m=D;else{if(null==e)return[];m=dg(v,e)}if(m=m.withIndex(d),m.isEmpty()||m.isLeafNode())return[];{const A=[],x=d.getCompare(),V=l?m.getReverseIteratorFrom(i,d):m.getIteratorFrom(i,d);let W=V.getNext();for(;W&&A.length<o;)0!==x(W,i)&&A.push(W),W=V.getNext();return A}}(n.writeTree,n.treePath,t,e,i,o,l)}(this.writes_,o,e,1,i,t);return 0===l.length?null:l[0]}}function vR(n,t,e,i,o,l){const d=t.eventCache;if(null!=zE(i,e))return t;{let m,v;if(xt(e))if((0,F.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const D=Uh(t),x=LS(i,D instanceof It?D:It.EMPTY_NODE);m=n.filter.updateFullNode(t.eventCache.getNode(),x,l)}else{const D=jE(i,Uh(t));m=n.filter.updateFullNode(t.eventCache.getNode(),D,l)}else{const D=kt(e);if(".priority"===D){(0,F.hu)(1===Pu(e),"Can't have a priority with additional path components");const A=d.getNode();v=t.serverCache.getNode();const x=gR(i,e,A,v);m=null!=x?n.filter.updatePriority(A,x):d.getNode()}else{const A=pn(e);let x;if(d.isCompleteForChild(D)){v=t.serverCache.getNode();const V=gR(i,e,d.getNode(),v);x=null!=V?d.getNode().getImmediateChild(D).updateChild(A,V):d.getNode().getImmediateChild(D)}else x=BS(i,D,t.serverCache);m=null!=x?n.filter.updateChild(d.getNode(),D,x,A,o,l):d.getNode()}}return xy(t,m,d.isFullyInitialized()||xt(e),n.filter.filtersNodes())}}function GE(n,t,e,i,o,l,d,m){const v=t.serverCache;let D;const A=d?n.filter:n.filter.getIndexedFilter();if(xt(e))D=A.updateFullNode(v.getNode(),i,null);else if(A.filtersNodes()&&!v.isFiltered()){const W=v.getNode().updateChild(e,i);D=A.updateFullNode(v.getNode(),W,null)}else{const W=kt(e);if(!v.isCompleteForPath(e)&&Pu(e)>1)return t;const te=pn(e),$e=v.getNode().getImmediateChild(W).updateChild(te,i);D=".priority"===W?A.updatePriority(v.getNode(),$e):A.updateChild(v.getNode(),W,$e,te,yR,null)}const x=cR(t,D,v.isFullyInitialized()||xt(e),A.filtersNodes());return vR(n,x,e,o,new VS(o,x,l),m)}function US(n,t,e,i,o,l,d){const m=t.eventCache;let v,D;const A=new VS(o,t,l);if(xt(e))D=n.filter.updateFullNode(t.eventCache.getNode(),i,d),v=xy(t,D,!0,n.filter.filtersNodes());else{const x=kt(e);if(".priority"===x)D=n.filter.updatePriority(t.eventCache.getNode(),i),v=xy(t,D,m.isFullyInitialized(),m.isFiltered());else{const V=pn(e),W=m.getNode().getImmediateChild(x);let te;if(xt(V))te=i;else{const Se=A.getCompleteChild(x);te=null!=Se?".priority"===mS(V)&&Se.getChild($x(V)).isEmpty()?Se:Se.updateChild(V,i):It.EMPTY_NODE}v=W.equals(te)?t:xy(t,n.filter.updateChild(m.getNode(),x,te,V,A,d),m.isFullyInitialized(),n.filter.filtersNodes())}}return v}function bR(n,t){return n.eventCache.isCompleteForChild(t)}function CR(n,t,e){return e.foreach((i,o)=>{t=t.updateChild(i,o)}),t}function HS(n,t,e,i,o,l,d,m){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let D,v=t;D=xt(e)?i:new En(null).setTree(e,i);const A=t.serverCache.getNode();return D.children.inorderTraversal((x,V)=>{if(A.hasChild(x)){const te=CR(0,t.serverCache.getNode().getImmediateChild(x),V);v=GE(n,v,new Qt(x),te,o,l,d,m)}}),D.children.inorderTraversal((x,V)=>{const W=!t.serverCache.isCompleteForChild(x)&&void 0===V.value;if(!A.hasChild(x)&&!W){const Se=CR(0,t.serverCache.getNode().getImmediateChild(x),V);v=GE(n,v,new Qt(x),Se,o,l,d,m)}}),v}class q1{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,o=new IS(i.getIndex()),l=function a1(n){return n.loadsAllData()?new IS(n.getIndex()):n.hasLimit()?new o1(n):new Ay(n)}(i);this.processor_=function V1(n){return{filter:n}}(l);const d=e.serverCache,m=e.eventCache,v=o.updateFullNode(It.EMPTY_NODE,d.getNode(),null),D=l.updateFullNode(It.EMPTY_NODE,m.getNode(),null),A=new Nu(v,d.isFullyInitialized(),o.filtersNodes()),x=new Nu(D,m.isFullyInitialized(),l.filtersNodes());this.viewCache_=VE(x,A),this.eventGenerator_=new y1(this.query_)}get query(){return this.query_}}function K1(n,t){const e=Uh(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!xt(t)&&!e.getImmediateChild(kt(t)).isEmpty())?e.getChild(t):null}function ER(n){return 0===n.eventRegistrations_.length}function wR(n,t,e){const i=[];if(e){(0,F.hu)(null==t,"A cancel should cancel all event registrations.");const o=n.query._path;n.eventRegistrations_.forEach(l=>{const d=l.createCancelEvent(e,o);d&&i.push(d)})}if(t){let o=[];for(let l=0;l<n.eventRegistrations_.length;++l){const d=n.eventRegistrations_[l];if(d.matches(t)){if(t.hasAnyCallback()){o=o.concat(n.eventRegistrations_.slice(l+1));break}}else o.push(d)}n.eventRegistrations_=o}else n.eventRegistrations_=[];return i}function DR(n,t,e,i){t.type===Ro.MERGE&&null!==t.source.queryId&&((0,F.hu)(Uh(n.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(UE(n.viewCache_),"Missing event cache, even though we have a server cache"));const o=n.viewCache_,l=function H1(n,t,e,i,o){const l=new L1;let d,m;if(e.type===Ro.OVERWRITE){const D=e;D.source.fromUser?d=US(n,t,D.path,D.snap,i,o,l):((0,F.hu)(D.source.fromServer,"Unknown source."),m=D.source.tagged||t.serverCache.isFiltered()&&!xt(D.path),d=GE(n,t,D.path,D.snap,i,o,m,l))}else if(e.type===Ro.MERGE){const D=e;D.source.fromUser?d=function z1(n,t,e,i,o,l,d){let m=t;return i.foreach((v,D)=>{const A=xn(e,v);bR(t,kt(A))&&(m=US(n,m,A,D,o,l,d))}),i.foreach((v,D)=>{const A=xn(e,v);bR(t,kt(A))||(m=US(n,m,A,D,o,l,d))}),m}(n,t,D.path,D.children,i,o,l):((0,F.hu)(D.source.fromServer,"Unknown source."),m=D.source.tagged||t.serverCache.isFiltered(),d=HS(n,t,D.path,D.children,i,o,m,l))}else if(e.type===Ro.ACK_USER_WRITE){const D=e;d=D.revert?function W1(n,t,e,i,o,l){let d;if(null!=zE(i,e))return t;{const m=new VS(i,t,o),v=t.eventCache.getNode();let D;if(xt(e)||".priority"===kt(e)){let A;if(t.serverCache.isFullyInitialized())A=jE(i,Uh(t));else{const x=t.serverCache.getNode();(0,F.hu)(x instanceof It,"serverChildren would be complete if leaf node"),A=LS(i,x)}A=A,D=n.filter.updateFullNode(v,A,l)}else{const A=kt(e);let x=BS(i,A,t.serverCache);null==x&&t.serverCache.isCompleteForChild(A)&&(x=v.getImmediateChild(A)),D=null!=x?n.filter.updateChild(v,A,x,pn(e),m,l):t.eventCache.getNode().hasChild(A)?n.filter.updateChild(v,A,It.EMPTY_NODE,pn(e),m,l):v,D.isEmpty()&&t.serverCache.isFullyInitialized()&&(d=jE(i,Uh(t)),d.isLeafNode()&&(D=n.filter.updateFullNode(D,d,l)))}return d=t.serverCache.isFullyInitialized()||null!=zE(i,Zt()),xy(t,D,d,n.filter.filtersNodes())}}(n,t,D.path,i,o,l):function G1(n,t,e,i,o,l,d){if(null!=zE(o,e))return t;const m=t.serverCache.isFiltered(),v=t.serverCache;if(null!=i.value){if(xt(e)&&v.isFullyInitialized()||v.isCompleteForPath(e))return GE(n,t,e,v.getNode().getChild(e),o,l,m,d);if(xt(e)){let D=new En(null);return v.getNode().forEachChild(fl,(A,x)=>{D=D.set(new Qt(A),x)}),HS(n,t,e,D,o,l,m,d)}return t}{let D=new En(null);return i.foreach((A,x)=>{const V=xn(e,A);v.isCompleteForPath(V)&&(D=D.set(A,v.getNode().getChild(V)))}),HS(n,t,e,D,o,l,m,d)}}(n,t,D.path,D.affectedTree,i,o,l)}else{if(e.type!==Ro.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+e.type);d=function $1(n,t,e,i,o){const l=t.serverCache;return vR(n,cR(t,l.getNode(),l.isFullyInitialized()||xt(e),l.isFiltered()),e,i,yR,o)}(n,t,e.path,i,l)}const v=l.getChanges();return function j1(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const o=i.getNode().isLeafNode()||i.getNode().isEmpty(),l=UE(n);(e.length>0||!n.eventCache.isFullyInitialized()||o&&!i.getNode().equals(l)||!i.getNode().getPriority().equals(l.getPriority()))&&e.push(sR(UE(t)))}}(t,d,v),{viewCache:d,changes:v}}(n.processor_,o,t,e,i);return function U1(n,t){(0,F.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,l.viewCache),(0,F.hu)(l.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=l.viewCache,IR(n,l.changes,l.viewCache.eventCache.getNode(),null)}function IR(n,t,e,i){return function v1(n,t,e,i){const o=[],l=[];return t.forEach(d=>{"child_changed"===d.type&&n.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&l.push(function s1(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(d.childName,d.snapshotNode))}),ky(n,o,"child_removed",t,i,e),ky(n,o,"child_added",t,i,e),ky(n,o,"child_moved",l,i,e),ky(n,o,"child_changed",t,i,e),ky(n,o,"value",t,i,e),o}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let $E,qE;class SR{constructor(){this.views=new Map}}function jS(n,t,e,i){const o=t.source.queryId;if(null!==o){const l=n.views.get(o);return(0,F.hu)(null!=l,"SyncTree gave us an op for an invalid query."),DR(l,t,e,i)}{let l=[];for(const d of n.views.values())l=l.concat(DR(d,t,e,i));return l}}function TR(n,t,e,i,o){const d=n.views.get(t._queryIdentifier);if(!d){let m=jE(e,o?i:null),v=!1;m?v=!0:i instanceof It?(m=LS(e,i),v=!1):(m=It.EMPTY_NODE,v=!1);const D=VE(new Nu(m,v,!1),new Nu(i,o,!1));return new q1(t,D)}return d}function AR(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Lu(n,t){let e=null;for(const i of n.views.values())e=e||K1(i,t);return e}function MR(n,t){return t._queryParams.loadsAllData()?WE(n):n.views.get(t._queryIdentifier)}function kR(n,t){return null!=MR(n,t)}function Bu(n){return null!=WE(n)}function WE(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let oL=1;class xR{constructor(t){this.listenProvider_=t,this.syncPointTree_=new En(null),this.pendingWriteTree_=function N1(){return{visibleWrites:Sa.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function zS(n,t,e,i,o){return function w1(n,t,e,i,o){(0,F.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:o}),o&&(n.visibleWrites=Ry(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,o),o?hg(n,new Vh({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Vu(n,t,e=!1){const i=function I1(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function S1(n,t){const e=n.allWrites.findIndex(m=>m.writeId===t);(0,F.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let o=i.visible,l=!1,d=n.allWrites.length-1;for(;o&&d>=0;){const m=n.allWrites[d];m.visible&&(d>=e&&T1(m,i.path)?o=!1:xo(i.path,m.path)&&(l=!0)),d--}return!!o&&(l?(function A1(n){n.visibleWrites=fR(n.allWrites,M1,Zt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=uR(n.visibleWrites,i.path):Gi(i.children,v=>{n.visibleWrites=uR(n.visibleWrites,xn(i.path,v))}),!0))}(n.pendingWriteTree_,t)){let l=new En(null);return null!=i.snap?l=l.set(Zt(),!0):Gi(i.children,d=>{l=l.set(new Qt(d),!0)}),hg(n,new BE(i.path,l,e))}return[]}function Oy(n,t,e){return hg(n,new Vh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function GS(n,t,e,i){const o=t._path,l=n.syncPointTree_.get(o);let d=[];if(l&&("default"===t._queryIdentifier||kR(l,t))){const m=function iL(n,t,e,i){const o=t._queryIdentifier,l=[];let d=[];const m=Bu(n);if("default"===o)for(const[v,D]of n.views.entries())d=d.concat(wR(D,e,i)),ER(D)&&(n.views.delete(v),D.query._queryParams.loadsAllData()||l.push(D.query));else{const v=n.views.get(o);v&&(d=d.concat(wR(v,e,i)),ER(v)&&(n.views.delete(o),v.query._queryParams.loadsAllData()||l.push(v.query)))}return m&&!Bu(n)&&l.push(new(function eL(){return(0,F.hu)($E,"Reference.ts has not been loaded"),$E}())(t._repo,t._path)),{removed:l,events:d}}(l,t,e,i);(function tL(n){return 0===n.views.size})(l)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const v=m.removed;d=m.events;const D=-1!==v.findIndex(x=>x._queryParams.loadsAllData()),A=n.syncPointTree_.findOnPath(o,(x,V)=>Bu(V));if(D&&!A){const x=n.syncPointTree_.subtree(o);if(!x.isEmpty()){const V=function pL(n){return n.fold((t,e,i)=>{if(e&&Bu(e))return[WE(e)];{let o=[];return e&&(o=AR(e)),Gi(i,(l,d)=>{o=o.concat(d)}),o}})}(x);for(let W=0;W<V.length;++W){const te=V[W],Se=te.query,$e=NR(n,te);n.listenProvider_.startListening(Py(Se),YE(n,Se),$e.hashFn,$e.onComplete)}}}!A&&v.length>0&&!i&&(D?n.listenProvider_.stopListening(Py(t),null):v.forEach(x=>{const V=n.queryToTagMap.get(KE(x));n.listenProvider_.stopListening(Py(x),V)})),function gL(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const o=KE(i),l=n.queryToTagMap.get(o);n.queryToTagMap.delete(o),n.tagToQueryMap.delete(l)}}}(n,v)}return d}function RR(n,t,e){const i=t._path;let o=null,l=!1;n.syncPointTree_.foreachOnPath(i,(x,V)=>{const W=Yr(x,i);o=o||Lu(V,W),l=l||Bu(V)});let m,d=n.syncPointTree_.get(i);d?(l=l||Bu(d),o=o||Lu(d,Zt())):(d=new SR,n.syncPointTree_=n.syncPointTree_.set(i,d)),null!=o?m=!0:(m=!1,o=It.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((V,W)=>{const te=Lu(W,Zt());te&&(o=o.updateImmediateChild(V,te))}));const v=kR(d,t);if(!v&&!t._queryParams.loadsAllData()){const x=KE(t);(0,F.hu)(!n.queryToTagMap.has(x),"View does not exist, but we have a tag");const V=function mL(){return oL++}();n.queryToTagMap.set(x,V),n.tagToQueryMap.set(V,x)}let A=function nL(n,t,e,i,o,l){const d=TR(n,t,i,o,l);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,d),function Q1(n,t){n.eventRegistrations_.push(t)}(d,e),function X1(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Cn,(l,d)=>{i.push(lg(l,d))}),e.isFullyInitialized()&&i.push(sR(e.getNode())),IR(n,i,e.getNode(),t)}(d,e)}(d,t,e,HE(n.pendingWriteTree_,i),o,m);if(!v&&!l){const x=MR(d,t);A=A.concat(function _L(n,t,e){const i=t._path,o=YE(n,t),l=NR(n,e),d=n.listenProvider_.startListening(Py(t),o,l.hashFn,l.onComplete),m=n.syncPointTree_.subtree(i);if(o)(0,F.hu)(!Bu(m.value),"If we're adding a query, it shouldn't be shadowed");else{const v=m.fold((D,A,x)=>{if(!xt(D)&&A&&Bu(A))return[WE(A).query];{let V=[];return A&&(V=V.concat(AR(A).map(W=>W.query))),Gi(x,(W,te)=>{V=V.concat(te)}),V}});for(let D=0;D<v.length;++D){const A=v[D];n.listenProvider_.stopListening(Py(A),YE(n,A))}}return d}(n,t,x))}return A}function ZE(n,t,e){const o=n.pendingWriteTree_,l=n.syncPointTree_.findOnPath(t,(d,m)=>{const D=Lu(m,Yr(d,t));if(D)return D});return pR(o,t,l,e,!0)}function hg(n,t){return OR(t,n.syncPointTree_,null,HE(n.pendingWriteTree_,Zt()))}function OR(n,t,e,i){if(xt(n.path))return PR(n,t,e,i);{const o=t.get(Zt());null==e&&null!=o&&(e=Lu(o,Zt()));let l=[];const d=kt(n.path),m=n.operationForChild(d),v=t.children.get(d);if(v&&m){const D=e?e.getImmediateChild(d):null,A=mR(i,d);l=l.concat(OR(m,v,D,A))}return o&&(l=l.concat(jS(o,n,i,e))),l}}function PR(n,t,e,i){const o=t.get(Zt());null==e&&null!=o&&(e=Lu(o,Zt()));let l=[];return t.children.inorderTraversal((d,m)=>{const v=e?e.getImmediateChild(d):null,D=mR(i,d),A=n.operationForChild(d);A&&(l=l.concat(PR(A,m,v,D)))}),o&&(l=l.concat(jS(o,n,i,e))),l}function NR(n,t){const e=t.query,i=YE(n,e);return{hashFn:()=>(function Z1(n){return n.viewCache_.serverCache.getNode()}(t)||It.EMPTY_NODE).hash(),onComplete:o=>{if("ok"===o)return i?function uL(n,t,e){const i=$S(n,e);if(i){const o=WS(i),l=o.path,d=o.queryId,m=Yr(l,t);return qS(n,l,new My(RS(d),m))}return[]}(n,e._path,i):function cL(n,t){return hg(n,new My({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const l=function oF(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(o,e);return GS(n,e,null,l)}}}}function YE(n,t){const e=KE(t);return n.queryToTagMap.get(e)}function KE(n){return n._path.toString()+"$"+n._queryIdentifier}function $S(n,t){return n.tagToQueryMap.get(t)}function WS(n){const t=n.indexOf("$");return(0,F.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Qt(n.substr(0,t))}}function qS(n,t,e){const i=n.syncPointTree_.get(t);return(0,F.hu)(i,"Missing sync point for query tag that we're tracking"),jS(i,e,HE(n.pendingWriteTree_,t),null)}function Py(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function sL(){return(0,F.hu)(qE,"Reference.ts has not been loaded"),qE}())(n._repo,n._path):n}class ZS{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new ZS(e)}node(){return this.node_}}class YS{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=xn(this.path_,t);return new YS(this.syncTree_,e)}node(){return ZE(this.syncTree_,this.path_)}}const FR=function(n,t,e){return n&&"object"==typeof n?((0,F.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?vL(n[".sv"],t,e):"object"==typeof n[".sv"]?bL(n[".sv"],t):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},vL=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,F.hu)(!1,"Unexpected server value: "+n)},bL=function(n,t,e){n.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,F.hu)(!1,"Unexpected increment value: "+i);const o=t.node();if((0,F.hu)(null!=o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return i;const d=o.getValue();return"number"!=typeof d?i:d+i},LR=function(n,t,e,i){return QS(t,new YS(e,n),i)},KS=function(n,t,e){return QS(n,new ZS(t),e)};function QS(n,t,e){const i=n.getPriority().val(),o=FR(i,t.getImmediateChild(".priority"),e);let l;if(n.isLeafNode()){const d=n,m=FR(d.getValue(),t,e);return m!==d.getValue()||o!==d.getPriority().val()?new sg(m,zn(o)):n}{const d=n;return l=d,o!==d.getPriority().val()&&(l=l.updatePriority(new sg(o))),d.forEachChild(Cn,(m,v)=>{const D=QS(v,t.getImmediateChild(m),e);D!==v&&(l=l.updateImmediateChild(m,D))}),l}}class XS{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function QE(n,t){let e=t instanceof Qt?t:new Qt(t),i=n,o=kt(e);for(;null!==o;){const l=(0,F.DV)(i.node.children,o)||{children:{},childCount:0};i=new XS(o,i,l),e=pn(e),o=kt(e)}return i}function jh(n){return n.node.value}function JS(n,t){n.node.value=t,eT(n)}function BR(n){return n.node.childCount>0}function XE(n,t){Gi(n.node.children,(e,i)=>{t(new XS(e,n,i))})}function VR(n,t,e,i){e&&!i&&t(n),XE(n,o=>{VR(o,t,!0,i)}),e&&i&&t(n)}function Ny(n){return new Qt(null===n.parent?n.name:Ny(n.parent)+"/"+n.name)}function eT(n){null!==n.parent&&function wL(n,t,e){const i=function CL(n){return void 0===jh(n)&&!BR(n)}(e),o=(0,F.r3)(n.node.children,t);i&&o?(delete n.node.children[t],n.node.childCount--,eT(n)):!i&&!o&&(n.node.children[t]=e.node,n.node.childCount++,eT(n))}(n.parent,n.name,n)}const DL=/[\[\].#$\/\u0000-\u001F\u007F]/,IL=/[\[\].#$\u0000-\u001F\u007F]/,tT=10485760,JE=function(n){return"string"==typeof n&&0!==n.length&&!DL.test(n)},UR=function(n){return"string"==typeof n&&0!==n.length&&!IL.test(n)},Fy=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!SE(n)||n&&"object"==typeof n&&(0,F.r3)(n,".sv")},pl=function(n,t,e,i){i&&void 0===t||Ly((0,F.gK)(n,"value"),t,e)},Ly=function(n,t,e){const i=e instanceof Qt?new BF(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Lh(i));if("function"==typeof t)throw new Error(n+"contains a function "+Lh(i)+" with contents = "+t.toString());if(SE(t))throw new Error(n+"contains "+t.toString()+" "+Lh(i));if("string"==typeof t&&t.length>tT/3&&(0,F.ug)(t)>tT)throw new Error(n+"contains a string greater than "+tT+" utf8 bytes "+Lh(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let o=!1,l=!1;if(Gi(t,(d,m)=>{if(".value"===d)o=!0;else if(".priority"!==d&&".sv"!==d&&(l=!0,!JE(d)))throw new Error(n+" contains an invalid key ("+d+") "+Lh(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function VF(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,F.ug)(t),Wx(n)})(i,d),Ly(n,m,i),function UF(n){const t=n.parts_.pop();n.byteLength_-=(0,F.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),o&&l)throw new Error(n+' contains ".value" child '+Lh(i)+" in addition to actual children.")}},HR=function(n,t,e,i){if(i&&void 0===t)return;const o=(0,F.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");const l=[];Gi(t,(d,m)=>{const v=new Qt(d);if(Ly(o,m,xn(e,v)),".priority"===mS(v)&&!Fy(m))throw new Error(o+"contains an invalid value for '"+v.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(v)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const l=Ey(i);for(let d=0;d<l.length;d++)if((".priority"!==l[d]||d!==l.length-1)&&!JE(l[d]))throw new Error(n+"contains an invalid key ("+l[d]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(LF);let o=null;for(e=0;e<t.length;e++){if(i=t[e],null!==o&&xo(o,i))throw new Error(n+"contains a path "+o.toString()+" that is ancestor of another path "+i.toString());o=i}}(o,l)},nT=function(n,t,e){if(!e||void 0!==t){if(SE(t))throw new Error((0,F.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Fy(t))throw new Error((0,F.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},By=function(n,t,e,i){if(!(i&&void 0===e||JE(e)))throw new Error((0,F.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Vy=function(n,t,e,i){if(!(i&&void 0===e||UR(e)))throw new Error((0,F.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Oo=function(n,t){if(".info"===kt(t))throw new Error(n+" failed = Can't modify data under /.info/")},jR=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!JE(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),UR(n)}(e))throw new Error((0,F.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class ML{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function e0(n,t){let e=null;for(let i=0;i<t.length;i++){const o=t[i],l=o.getPath();null!==e&&!_S(l,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:l}),e.events.push(o)}e&&n.eventLists_.push(e)}function iT(n,t,e){e0(n,e),zR(n,i=>_S(i,t))}function Po(n,t,e){e0(n,e),zR(n,i=>xo(i,t)||xo(t,i))}function zR(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const o=n.eventLists_[i];o&&(t(o.path)?(kL(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function kL(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Nh&&zi("event: "+e.toString()),ig(i)}}}const GR="repo_interrupt";class RL{constructor(t,e,i,o){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ML,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=LE(),this.transactionQueueTree_=new XS,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $R(n){const e=n.infoData_.getNode(new Qt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Uy(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:$R(n)})}function WR(n,t,e,i,o){n.dataUpdateCount++;const l=new Qt(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let d=[];if(o)if(i){const v=(0,F.UI)(e,D=>zn(D));d=function hL(n,t,e,i){const o=$S(n,i);if(o){const l=WS(o),d=l.path,m=l.queryId,v=Yr(d,t),D=En.fromObject(e);return qS(n,d,new ug(RS(m),v,D))}return[]}(n.serverSyncTree_,l,v,o)}else{const v=zn(e);d=function dL(n,t,e,i){const o=$S(n,i);if(null!=o){const l=WS(o),d=l.path,m=l.queryId,v=Yr(d,t);return qS(n,d,new Vh(RS(m),v,e))}return[]}(n.serverSyncTree_,l,v,o)}else if(i){const v=(0,F.UI)(e,D=>zn(D));d=function lL(n,t,e){const i=En.fromObject(e);return hg(n,new ug({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,l,v)}else{const v=zn(e);d=Oy(n.serverSyncTree_,l,v)}let m=l;d.length>0&&(m=pg(n,l)),Po(n.eventQueue_,m,d)}function qR(n,t){rT(n,"connected",t),!1===t&&function LL(n){fg(n,"onDisconnectEvents");const t=Uy(n),e=LE();MS(n.onDisconnect_,Zt(),(o,l)=>{const d=LR(o,l,n.serverSyncTree_,t);cg(e,o,d)});let i=[];MS(e,Zt(),(o,l)=>{i=i.concat(Oy(n.serverSyncTree_,o,l));const d=lT(n,o);pg(n,d)}),n.onDisconnect_=LE(),Po(n.eventQueue_,Zt(),i)}(n)}function rT(n,t,e){const i=new Qt("/.info/"+t),o=zn(e);n.infoData_.updateSnapshot(i,o);const l=Oy(n.infoSyncTree_,i,o);Po(n.eventQueue_,i,l)}function t0(n){return n.nextWriteId_++}function sT(n,t,e,i,o){fg(n,"set",{path:t.toString(),value:e,priority:i});const l=Uy(n),d=zn(e,i),m=ZE(n.serverSyncTree_,t),v=KS(d,m,l),D=t0(n),A=zS(n.serverSyncTree_,t,v,D,!0);e0(n.eventQueue_,A),n.server_.put(t.toString(),d.val(!0),(V,W)=>{const te="ok"===V;te||Zr("set at "+t+" failed: "+V);const Se=Vu(n.serverSyncTree_,D,!te);Po(n.eventQueue_,t,Se),Uu(0,o,V,W)});const x=lT(n,t);pg(n,x),Po(n.eventQueue_,x,[])}function BL(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,o)=>{"ok"===i&&AS(n.onDisconnect_,t),Uu(0,e,i,o)})}function ZR(n,t,e,i){const o=zn(e);n.server_.onDisconnectPut(t.toString(),o.val(!0),(l,d)=>{"ok"===l&&cg(n.onDisconnect_,t,o),Uu(0,i,l,d)})}function oT(n,t,e){let i;i=".info"===kt(t._path)?GS(n.infoSyncTree_,t,e):GS(n.serverSyncTree_,t,e),iT(n.eventQueue_,t._path,i)}function YR(n){n.persistentConnection_&&n.persistentConnection_.interrupt(GR)}function fg(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),zi(e,...t)}function Uu(n,t,e,i){t&&ig(()=>{if("ok"===e)t(null);else{const o=(e||"error").toUpperCase();let l=o;i&&(l+=": "+i);const d=new Error(l);d.code=o,t(d)}})}function aT(n,t,e){return ZE(n.serverSyncTree_,t,e)||It.EMPTY_NODE}function n0(n,t=n.transactionQueueTree_){if(t||r0(n,t),jh(t)){const e=QR(n,t);(0,F.hu)(e.length>0,"Sending zero length transaction queue"),e.every(o=>0===o.status)&&function GL(n,t,e){const i=e.map(D=>D.currentWriteId),o=aT(n,t,i);let l=o;const d=o.hash();for(let D=0;D<e.length;D++){const A=e[D];(0,F.hu)(0===A.status,"tryToSendTransactionQueue_: items in queue should all be run."),A.status=1,A.retryCount++;const x=Yr(t,A.path);l=l.updateChild(x,A.currentOutputSnapshotRaw)}const m=l.val(!0),v=t;n.server_.put(v.toString(),m,D=>{fg(n,"transaction put response",{path:v.toString(),status:D});let A=[];if("ok"===D){const x=[];for(let V=0;V<e.length;V++)e[V].status=2,A=A.concat(Vu(n.serverSyncTree_,e[V].currentWriteId)),e[V].onComplete&&x.push(()=>e[V].onComplete(null,!0,e[V].currentOutputSnapshotResolved)),e[V].unwatcher();r0(n,QE(n.transactionQueueTree_,t)),n0(n,n.transactionQueueTree_),Po(n.eventQueue_,t,A);for(let V=0;V<x.length;V++)ig(x[V])}else{if("datastale"===D)for(let x=0;x<e.length;x++)e[x].status=3===e[x].status?4:0;else{Zr("transaction at "+v.toString()+" failed: "+D);for(let x=0;x<e.length;x++)e[x].status=4,e[x].abortReason=D}pg(n,t)}},d)}(n,Ny(t),e)}else BR(t)&&XE(t,e=>{n0(n,e)})}function pg(n,t){const e=KR(n,t),i=Ny(e);return function $L(n,t,e){if(0===t.length)return;const i=[];let o=[];const d=t.filter(m=>0===m.status).map(m=>m.currentWriteId);for(let m=0;m<t.length;m++){const v=t[m],D=Yr(e,v.path);let x,A=!1;if((0,F.hu)(null!==D,"rerunTransactionsUnderNode_: relativePath should not be null."),4===v.status)A=!0,x=v.abortReason,o=o.concat(Vu(n.serverSyncTree_,v.currentWriteId,!0));else if(0===v.status)if(v.retryCount>=25)A=!0,x="maxretry",o=o.concat(Vu(n.serverSyncTree_,v.currentWriteId,!0));else{const V=aT(n,v.path,d);v.currentInputSnapshot=V;const W=t[m].update(V.val());if(void 0!==W){Ly("transaction failed: Data returned ",W,v.path);let te=zn(W);"object"==typeof W&&null!=W&&(0,F.r3)(W,".priority")||(te=te.updatePriority(V.getPriority()));const $e=v.currentWriteId,Ct=Uy(n),ht=KS(te,V,Ct);v.currentOutputSnapshotRaw=te,v.currentOutputSnapshotResolved=ht,v.currentWriteId=t0(n),d.splice(d.indexOf($e),1),o=o.concat(zS(n.serverSyncTree_,v.path,ht,v.currentWriteId,v.applyLocally)),o=o.concat(Vu(n.serverSyncTree_,$e,!0))}else A=!0,x="nodata",o=o.concat(Vu(n.serverSyncTree_,v.currentWriteId,!0))}Po(n.eventQueue_,e,o),o=[],A&&(t[m].status=2,setTimeout(t[m].unwatcher,Math.floor(0)),t[m].onComplete&&i.push("nodata"===x?()=>t[m].onComplete(null,!1,t[m].currentInputSnapshot):()=>t[m].onComplete(new Error(x),!1,null)))}r0(n,n.transactionQueueTree_);for(let m=0;m<i.length;m++)ig(i[m]);n0(n,n.transactionQueueTree_)}(n,QR(n,e),i),i}function KR(n,t){let e,i=n.transactionQueueTree_;for(e=kt(t);null!==e&&void 0===jh(i);)i=QE(i,e),e=kt(t=pn(t));return i}function QR(n,t){const e=[];return XR(n,t,e),e.sort((i,o)=>i.order-o.order),e}function XR(n,t,e){const i=jh(t);if(i)for(let o=0;o<i.length;o++)e.push(i[o]);XE(t,o=>{XR(n,o,e)})}function r0(n,t){const e=jh(t);if(e){let i=0;for(let o=0;o<e.length;o++)2!==e[o].status&&(e[i]=e[o],i++);e.length=i,JS(t,e.length>0?e:void 0)}XE(t,i=>{r0(n,i)})}function lT(n,t){const e=Ny(KR(n,t)),i=QE(n.transactionQueueTree_,t);return function EL(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,o=>{cT(n,o)}),cT(n,i),VR(i,o=>{cT(n,o)}),e}function cT(n,t){const e=jh(t);if(e){const i=[];let o=[],l=-1;for(let d=0;d<e.length;d++)3===e[d].status||(1===e[d].status?((0,F.hu)(l===d-1,"All SENT items should be at beginning of queue."),l=d,e[d].status=3,e[d].abortReason="set"):((0,F.hu)(0===e[d].status,"Unexpected transaction status in abort"),e[d].unwatcher(),o=o.concat(Vu(n.serverSyncTree_,e[d].currentWriteId,!0)),e[d].onComplete&&i.push(e[d].onComplete.bind(null,new Error("set"),!1,null))));-1===l?JS(t,void 0):e.length=l+1,Po(n.eventQueue_,Ny(t),o);for(let d=0;d<i.length;d++)ig(i[d])}}const uT=function(n,t){const e=ZL(n),i=e.namespace;return"firebase.com"===e.domain&&dl(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&dl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Zr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new cS(e.host,e.secure,i,t,"ws"===e.scheme||"wss"===e.scheme,"",i!==e.subdomain),path:new Qt(e.pathString)}},ZL=function(n){let t="",e="",i="",o="",l="",d=!0,m="https",v=443;if("string"==typeof n){let D=n.indexOf("//");D>=0&&(m=n.substring(0,D-1),n=n.substring(D+2));let A=n.indexOf("/");-1===A&&(A=n.length);let x=n.indexOf("?");-1===x&&(x=n.length),t=n.substring(0,Math.min(A,x)),A<x&&(o=function WL(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let o=e[i];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch(l){}t+="/"+o}return t}(n.substring(A,x)));const V=function qL(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Zr(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,x)));D=t.indexOf(":"),D>=0?(d="https"===m||"wss"===m,v=parseInt(t.substring(D+1),10)):D=t.length;const W=t.slice(0,D);if("localhost"===W.toLowerCase())e="localhost";else if(W.split(".").length<=2)e=W;else{const te=t.indexOf(".");i=t.substring(0,te).toLowerCase(),e=t.substring(te+1),l=i}"ns"in V&&(l=V.ns)}return{host:t,port:v,domain:e,subdomain:i,secure:d,scheme:m,pathString:o,namespace:l}};class JR{constructor(t,e,i,o){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=o}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Pz)(this.snapshot.exportVal())}}class eO{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class tO{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class nO{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new F.BH;return BL(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Oo("OnDisconnect.remove",this._path);const t=new F.BH;return ZR(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Oo("OnDisconnect.set",this._path),pl("OnDisconnect.set",t,this._path,!1);const e=new F.BH;return ZR(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Oo("OnDisconnect.setWithPriority",this._path),pl("OnDisconnect.setWithPriority",t,this._path,!1),nT("OnDisconnect.setWithPriority",e,!1);const i=new F.BH;return function VL(n,t,e,i,o){const l=zn(e,i);n.server_.onDisconnectPut(t.toString(),l.val(!0),(d,m)=>{"ok"===d&&cg(n.onDisconnect_,t,l),Uu(0,o,d,m)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Oo("OnDisconnect.update",this._path),HR("OnDisconnect.update",t,this._path,!1);const e=new F.BH;return function UL(n,t,e,i){if((0,F.xb)(e))return zi("onDisconnect().update() called with empty data.  Don't do anything."),void Uu(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(o,l)=>{"ok"===o&&Gi(e,(d,m)=>{const v=zn(m);cg(n.onDisconnect_,xn(t,d),v)}),Uu(0,i,o,l)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Es{constructor(t,e,i,o){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=o}get key(){return xt(this._path)?null:mS(this._path)}get ref(){return new No(this._repo,this._path)}get _queryIdentifier(){const t=aR(this._queryParams),e=oS(t);return"{}"===e?"default":e}get _queryObject(){return aR(this._queryParams)}isEqual(t){if(!((t=(0,F.m9)(t))instanceof Es))return!1;const e=this._repo===t._repo,i=_S(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function FF(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function s0(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Hu(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===fl){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==gc)throw new Error(i);if("string"!=typeof t)throw new Error(o)}if(n.hasEnd()){if(n.getIndexEndName()!==hl)throw new Error(i);if("string"!=typeof e)throw new Error(o)}}else if(n.getIndex()===Cn){if(null!=t&&!Fy(t)||null!=e&&!Fy(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,F.hu)(n.getIndex()instanceof ES||n.getIndex()===wS,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function o0(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class No extends Es{constructor(t,e){super(t,e,new PE,!1)}get parent(){const t=$x(this._path);return null===t?null:new No(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class zh{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Qt(t),i=Gh(this.ref,t);return new zh(this._node.getChild(e),i,Cn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,o)=>t(new zh(o,Gh(this.ref,i),Cn)))}hasChild(t){const e=new Qt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function iO(n,t){return(n=(0,F.m9)(n))._checkNotDeleted("ref"),void 0!==t?Gh(n._root,t):n._root}function rO(n,t){(n=(0,F.m9)(n))._checkNotDeleted("refFromURL");const e=uT(t,n._repo.repoInfo_.nodeAdmin);jR("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&dl("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),iO(n,e.path.toString())}function Gh(n,t){return null===kt((n=(0,F.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Vy("child","path",e,!1)):Vy("child","path",t,!1),new No(n._repo,xn(n._path,t));var e}function dT(n,t){n=(0,F.m9)(n),Oo("set",n._path),pl("set",t,n._path,!1);const e=new F.BH;return sT(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function JL(n,t){HR("update",t,n._path,!1);const e=new F.BH;return function FL(n,t,e,i){fg(n,"update",{path:t.toString(),value:e});let o=!0;const l=Uy(n),d={};if(Gi(e,(m,v)=>{o=!1,d[m]=LR(xn(t,m),zn(v),n.serverSyncTree_,l)}),o)zi("update() called with empty data.  Don't do anything."),Uu(0,i,"ok",void 0);else{const m=t0(n),v=function aL(n,t,e,i){!function D1(n,t,e,i){(0,F.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=PS(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const o=En.fromObject(e);return hg(n,new ug({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,o))}(n.serverSyncTree_,t,d,m);e0(n.eventQueue_,v),n.server_.merge(t.toString(),e,(D,A)=>{const x="ok"===D;x||Zr("update at "+t+" failed: "+D);const V=Vu(n.serverSyncTree_,m,!x),W=V.length>0?pg(n,t):t;Po(n.eventQueue_,W,V),Uu(0,i,D,A)}),Gi(e,D=>{const A=lT(n,xn(t,D));pg(n,A)}),Po(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function eB(n){return function NL(n,t){const e=function fL(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(D,A)=>{const x=Yr(D,e);i=i||Lu(A,x)});let o=n.syncPointTree_.get(e);o?i=i||Lu(o,Zt()):(o=new SR,n.syncPointTree_=n.syncPointTree_.set(e,o));const l=null!=i,d=l?new Nu(i,!0,!1):null;return function Y1(n){return UE(n.viewCache_)}(TR(o,t,HE(n.pendingWriteTree_,t._path),l?d.getNode():It.EMPTY_NODE,l))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(i=>{const o=zn(i).withIndex(t._queryParams.getIndex()),l=Oy(n.serverSyncTree_,t._path,o);return iT(n.eventQueue_,t._path,l),Promise.resolve(o)},i=>(fg(n,"get for query "+(0,F.Pz)(t)+" failed: "+i),Promise.reject(new Error(i))))}((n=(0,F.m9)(n))._repo,n).then(t=>new zh(t,new No(n._repo,n._path),n._queryParams.getIndex()))}class a0{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new JR("value",this,new zh(t.snapshotNode,new No(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new eO(this,t,e):null}matches(t){return t instanceof a0&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class l0{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new eO(this,t,e):null}createEvent(t,e){(0,F.hu)(null!=t.childName,"Child events should have a childName.");const i=Gh(new No(e._repo,e._path),t.childName),o=e._queryParams.getIndex();return new JR(t.type,this,new zh(t.snapshotNode,i,o),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof l0&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Hy(n,t,e,i,o){let l;if("object"==typeof i&&(l=void 0,o=i),"function"==typeof i&&(l=i),o&&o.onlyOnce){const v=e,D=(A,x)=>{oT(n._repo,n,m),v(A,x)};D.userCallback=e.userCallback,D.context=e.context,e=D}const d=new tO(e,l||void 0),m="value"===t?new a0(d):new l0(t,d);return function HL(n,t,e){let i;i=".info"===kt(t._path)?RR(n.infoSyncTree_,t,e):RR(n.serverSyncTree_,t,e),iT(n.eventQueue_,t._path,i)}(n._repo,n,m),()=>oT(n._repo,n,m)}function hT(n,t,e,i){return Hy(n,"value",t,e,i)}function sO(n,t,e,i){return Hy(n,"child_added",t,e,i)}function oO(n,t,e,i){return Hy(n,"child_changed",t,e,i)}function aO(n,t,e,i){return Hy(n,"child_moved",t,e,i)}function lO(n,t,e,i){return Hy(n,"child_removed",t,e,i)}function cO(n,t,e){let i=null;const o=e?new tO(e):null;"value"===t?i=new a0(o):t&&(i=new l0(t,o)),oT(n._repo,n,i)}class Ta{}class uO extends Ta{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){pl("endAt",this._value,t._path,!0);const e=TS(t._queryParams,this._value,this._key);if(o0(e),Hu(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Es(t._repo,t._path,e,t._orderByCalled)}}class nB extends Ta{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){pl("endBefore",this._value,t._path,!1);const e=function d1(n,t,e){let i,o;return n.index_===fl?("string"==typeof t&&(t=rR(t)),o=TS(n,t,e)):(i=null==e?gc:rR(e),o=TS(n,t,i)),o.endBeforeSet_=!0,o}(t._queryParams,this._value,this._key);if(o0(e),Hu(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Es(t._repo,t._path,e,t._orderByCalled)}}class dO extends Ta{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){pl("startAt",this._value,t._path,!0);const e=SS(t._queryParams,this._value,this._key);if(o0(e),Hu(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Es(t._repo,t._path,e,t._orderByCalled)}}class sB extends Ta{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){pl("startAfter",this._value,t._path,!1);const e=function u1(n,t,e){let i;if(n.index_===fl)"string"==typeof t&&(t=iR(t)),i=SS(n,t,e);else{let o;o=null==e?hl:iR(e),i=SS(n,t,o)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(o0(e),Hu(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Es(t._repo,t._path,e,t._orderByCalled)}}class aB extends Ta{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Es(t._repo,t._path,function l1(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class cB extends Ta{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Es(t._repo,t._path,function c1(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class dB extends Ta{constructor(t){super(),this._path=t}_apply(t){s0(t,"orderByChild");const e=new Qt(this._path);if(xt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new ES(e),o=NE(t._queryParams,i);return Hu(o),new Es(t._repo,t._path,o,!0)}}class fB extends Ta{_apply(t){s0(t,"orderByKey");const e=NE(t._queryParams,fl);return Hu(e),new Es(t._repo,t._path,e,!0)}}class gB extends Ta{_apply(t){s0(t,"orderByPriority");const e=NE(t._queryParams,Cn);return Hu(e),new Es(t._repo,t._path,e,!0)}}class _B extends Ta{_apply(t){s0(t,"orderByValue");const e=NE(t._queryParams,wS);return Hu(e),new Es(t._repo,t._path,e,!0)}}class vB extends Ta{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(pl("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new uO(this._value,this._key)._apply(new dO(this._value,this._key)._apply(t))}}function Aa(n,...t){let e=(0,F.m9)(n);for(const i of t)e=i._apply(e);return e}(function J1(n){(0,F.hu)(!$E,"__referenceConstructor has already been defined"),$E=n})(No),function rL(n){(0,F.hu)(!qE,"__referenceConstructor has already been defined"),qE=n}(No);const fT={};function fO(n,t,e,i,o){let l=i||n.options.databaseURL;void 0===l&&(n.options.projectId||dl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),zi("Using default host for project ",n.options.projectId),l=`${n.options.projectId}-default-rtdb.firebaseio.com`);let v,D,d=uT(l,o),m=d.repoInfo;"undefined"!=typeof process&&(D=process.env.FIREBASE_DATABASE_EMULATOR_HOST),D?(v=!0,l=`http://${D}?ns=${m.namespace}`,d=uT(l,o),m=d.repoInfo):v=!d.repoInfo.secure;const A=o&&v?new vy(vy.OWNER):new uF(n.name,n.options,t);jR("Invalid Firebase Database URL",d),xt(d.path)||dl("Database URL must point to the root of a Firebase Database (not including a child path).");const x=function DB(n,t,e,i){let o=fT[t.name];o||(o={},fT[t.name]=o);let l=o[n.toURLString()];return l&&dl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new RL(n,false,e,i),o[n.toURLString()]=l,l}(m,n,A,new cF(n.name,e));return new SB(x,n)}class SB{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function OL(n,t,e){if(n.stats_=hS(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new FE(n.repoInfo_,(i,o,l,d)=>{WR(n,i,o,l,d)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>qR(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Bh(n.repoInfo_,t,(i,o,l,d)=>{WR(n,i,o,l,d)},i=>{qR(n,i)},i=>{!function PL(n,t){Gi(t,(e,i)=>{rT(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function pF(n,t){const e=n.toString();return dS[e]||(dS[e]=t()),dS[e]}(n.repoInfo_,()=>new _1(n.stats_,n.server_)),n.infoData_=new h1,n.infoSyncTree_=new xR({startListening:(i,o,l,d)=>{let m=[];const v=n.infoData_.getNode(i._path);return v.isEmpty()||(m=Oy(n.infoSyncTree_,i._path,v),setTimeout(()=>{d("ok")},0)),m},stopListening:()=>{}}),rT(n,"connected",!1),n.serverSyncTree_=new xR({startListening:(i,o,l,d)=>(n.server_.listen(i,l,o,(m,v)=>{const D=d(m,v);Po(n.eventQueue_,i._path,D)}),[]),stopListening:(i,o)=>{n.server_.unlisten(i,o)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new No(this._repo,Zt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function wB(n,t){const e=fT[t];(!e||e[n.key]!==n)&&dl(`Database ${t}(${n.repoInfo_}) has already been deleted.`),YR(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&dl("Cannot call "+t+" on a deleted database.")}}function kB(n,t){gx(n,t)}const RB={".sv":"timestamp"};class NB{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Bh.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Bh.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function xB(n){ux(fc.SDK_VERSION),(0,fc._registerComponent)(new Tu.wA("database",(t,{instanceIdentifier:e})=>fO(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,fc.registerVersion)(lx,"0.12.5",n),(0,fc.registerVersion)(lx,"0.12.5","esm2017")}();const VB=new L_.Yd("@firebase/database-compat"),pO=function(n){VB.warn("FIREBASE WARNING: "+n)};class jB{constructor(t){this._delegate=t}cancel(t){(0,F.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,F.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,F.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,F.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,F.Dv)("OnDisconnect.set",1,2,arguments.length),(0,F.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),o=>e(o)),i}setWithPriority(t,e,i){(0,F.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,F.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const o=this._delegate.setWithPriority(t,e);return i&&o.then(()=>i(null),l=>i(l)),o}update(t,e){if((0,F.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const o={};for(let l=0;l<t.length;++l)o[""+l]=t[l];t=o,pO("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,F.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),o=>e(o)),i}}class zB{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,F.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class ju{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,F.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,F.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,F.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,F.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,F.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Vy("DataSnapshot.child","path",t,!1),new ju(this._database,this._delegate.child(t))}hasChild(t){return(0,F.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Vy("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,F.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,F.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,F.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new ju(this._database,e)))}hasChildren(){return(0,F.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,F.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,F.Dv)("DataSnapshot.ref",0,0,arguments.length),new io(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class sr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,o){var l;(0,F.Dv)("Query.on",2,4,arguments.length),(0,F.Wj)("Query.on","callback",e,!1);const d=sr.getCancelAndContextArgs_("Query.on",i,o),m=(D,A)=>{e.call(d.context,new ju(this.database,D),A)};m.userCallback=e,m.context=d.context;const v=null===(l=d.cancel)||void 0===l?void 0:l.bind(d.context);switch(t){case"value":return hT(this._delegate,m,v),e;case"child_added":return sO(this._delegate,m,v),e;case"child_removed":return lO(this._delegate,m,v),e;case"child_changed":return oO(this._delegate,m,v),e;case"child_moved":return aO(this._delegate,m,v),e;default:throw new Error((0,F.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,F.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,F.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,F.Wj)("Query.off","callback",e,!0),(0,F.lb)("Query.off","context",i,!0),e){const o=()=>{};o.userCallback=e,o.context=i,cO(this._delegate,t,o)}else cO(this._delegate,t)}get(){return eB(this._delegate).then(t=>new ju(this.database,t))}once(t,e,i,o){(0,F.Dv)("Query.once",1,4,arguments.length),(0,F.Wj)("Query.once","callback",e,!0);const l=sr.getCancelAndContextArgs_("Query.once",i,o),d=new F.BH,m=(D,A)=>{const x=new ju(this.database,D);e&&e.call(l.context,x,A),d.resolve(x)};m.userCallback=e,m.context=l.context;const v=D=>{l.cancel&&l.cancel.call(l.context,D),d.reject(D)};switch(t){case"value":hT(this._delegate,m,v,{onlyOnce:!0});break;case"child_added":sO(this._delegate,m,v,{onlyOnce:!0});break;case"child_removed":lO(this._delegate,m,v,{onlyOnce:!0});break;case"child_changed":oO(this._delegate,m,v,{onlyOnce:!0});break;case"child_moved":aO(this._delegate,m,v,{onlyOnce:!0});break;default:throw new Error((0,F.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return d.promise}limitToFirst(t){return(0,F.Dv)("Query.limitToFirst",1,1,arguments.length),new sr(this.database,Aa(this._delegate,function lB(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new aB(n)}(t)))}limitToLast(t){return(0,F.Dv)("Query.limitToLast",1,1,arguments.length),new sr(this.database,Aa(this._delegate,function uB(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new cB(n)}(t)))}orderByChild(t){return(0,F.Dv)("Query.orderByChild",1,1,arguments.length),new sr(this.database,Aa(this._delegate,function hB(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Vy("orderByChild","path",n,!1),new dB(n)}(t)))}orderByKey(){return(0,F.Dv)("Query.orderByKey",0,0,arguments.length),new sr(this.database,Aa(this._delegate,function pB(){return new fB}()))}orderByPriority(){return(0,F.Dv)("Query.orderByPriority",0,0,arguments.length),new sr(this.database,Aa(this._delegate,function mB(){return new gB}()))}orderByValue(){return(0,F.Dv)("Query.orderByValue",0,0,arguments.length),new sr(this.database,Aa(this._delegate,function yB(){return new _B}()))}startAt(t=null,e){return(0,F.Dv)("Query.startAt",0,2,arguments.length),new sr(this.database,Aa(this._delegate,function rB(n=null,t){return By("startAt","key",t,!0),new dO(n,t)}(t,e)))}startAfter(t=null,e){return(0,F.Dv)("Query.startAfter",0,2,arguments.length),new sr(this.database,Aa(this._delegate,function oB(n,t){return By("startAfter","key",t,!0),new sB(n,t)}(t,e)))}endAt(t=null,e){return(0,F.Dv)("Query.endAt",0,2,arguments.length),new sr(this.database,Aa(this._delegate,function tB(n,t){return By("endAt","key",t,!0),new uO(n,t)}(t,e)))}endBefore(t=null,e){return(0,F.Dv)("Query.endBefore",0,2,arguments.length),new sr(this.database,Aa(this._delegate,function iB(n,t){return By("endBefore","key",t,!0),new nB(n,t)}(t,e)))}equalTo(t,e){return(0,F.Dv)("Query.equalTo",1,2,arguments.length),new sr(this.database,Aa(this._delegate,function bB(n,t){return By("equalTo","key",t,!0),new vB(n,t)}(t,e)))}toString(){return(0,F.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,F.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,F.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof sr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const o={cancel:void 0,context:void 0};if(e&&i)o.cancel=e,(0,F.Wj)(t,"cancel",o.cancel,!0),o.context=i,(0,F.lb)(t,"context",o.context,!0);else if(e)if("object"==typeof e&&null!==e)o.context=e;else{if("function"!=typeof e)throw new Error((0,F.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");o.cancel=e}return o}get ref(){return new io(this.database,new No(this._delegate._repo,this._delegate._path))}}class io extends sr{constructor(t,e){super(t,new Es(e._repo,e._path,new PE,!1)),this.database=t,this._delegate=e}getKey(){return(0,F.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,F.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new io(this.database,Gh(this._delegate,t))}getParent(){(0,F.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new io(this.database,t):null}getRoot(){return(0,F.Dv)("Reference.root",0,0,arguments.length),new io(this.database,this._delegate.root)}set(t,e){(0,F.Dv)("Reference.set",1,2,arguments.length),(0,F.Wj)("Reference.set","onComplete",e,!0);const i=dT(this._delegate,t);return e&&i.then(()=>e(null),o=>e(o)),i}update(t,e){if((0,F.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const o={};for(let l=0;l<t.length;++l)o[""+l]=t[l];t=o,pO("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Oo("Reference.update",this._delegate._path),(0,F.Wj)("Reference.update","onComplete",e,!0);const i=JL(this._delegate,t);return e&&i.then(()=>e(null),o=>e(o)),i}setWithPriority(t,e,i){(0,F.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,F.Wj)("Reference.setWithPriority","onComplete",i,!0);const o=function XL(n,t,e){if(Oo("setWithPriority",n._path),pl("setWithPriority",t,n._path,!1),nT("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new F.BH;return sT(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&o.then(()=>i(null),l=>i(l)),o}remove(t){(0,F.Dv)("Reference.remove",0,1,arguments.length),(0,F.Wj)("Reference.remove","onComplete",t,!0);const e=function KL(n){return Oo("remove",n._path),dT(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,F.Dv)("Reference.transaction",1,3,arguments.length),(0,F.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,F.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,F.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const o=function FB(n,t,e){var i;if(n=(0,F.m9)(n),Oo("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const o=null===(i=null==e?void 0:e.applyLocally)||void 0===i||i,l=new F.BH,m=hT(n,()=>{});return function zL(n,t,e,i,o,l){fg(n,"transaction on "+t);const d={path:t,update:e,onComplete:i,status:null,order:hx(),applyLocally:l,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},m=aT(n,t,void 0);d.currentInputSnapshot=m;const v=d.update(m.val());if(void 0===v)d.unwatcher(),d.currentOutputSnapshotRaw=null,d.currentOutputSnapshotResolved=null,d.onComplete&&d.onComplete(null,!1,d.currentInputSnapshot);else{Ly("transaction failed: Data returned ",v,d.path),d.status=0;const D=QE(n.transactionQueueTree_,t),A=jh(D)||[];let x;A.push(d),JS(D,A),"object"==typeof v&&null!==v&&(0,F.r3)(v,".priority")?(x=(0,F.DV)(v,".priority"),(0,F.hu)(Fy(x),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):x=(ZE(n.serverSyncTree_,t)||It.EMPTY_NODE).getPriority().val();const V=Uy(n),W=zn(v,x),te=KS(W,m,V);d.currentOutputSnapshotRaw=W,d.currentOutputSnapshotResolved=te,d.currentWriteId=t0(n);const Se=zS(n.serverSyncTree_,t,te,d.currentWriteId,d.applyLocally);Po(n.eventQueue_,t,Se),n0(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(v,D,A)=>{let x=null;v?l.reject(v):(x=new zh(A,new No(n._repo,n._path),Cn),l.resolve(new NB(D,x)))},m,o),l.promise}(this._delegate,t,{applyLocally:i}).then(l=>new zB(l.committed,new ju(this.database,l.snapshot)));return e&&o.then(l=>e(null,l.committed,l.snapshot),l=>e(l,!1,null)),o}setPriority(t,e){(0,F.Dv)("Reference.setPriority",1,2,arguments.length),(0,F.Wj)("Reference.setPriority","onComplete",e,!0);const i=function QL(n,t){n=(0,F.m9)(n),Oo("setPriority",n._path),nT("setPriority",t,!1);const e=new F.BH;return sT(n._repo,xn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),o=>e(o)),i}push(t,e){(0,F.Dv)("Reference.push",0,2,arguments.length),(0,F.Wj)("Reference.push","onComplete",e,!0);const i=function YL(n,t){n=(0,F.m9)(n),Oo("push",n._path),pl("push",t,n._path,!0);const e=$R(n._repo),i=r1(e),o=Gh(n,i),l=Gh(n,i);let d;return d=null!=t?dT(l,t).then(()=>l):Promise.resolve(l),o.then=d.then.bind(d),o.catch=d.then.bind(d,void 0),o}(this._delegate,t),o=i.then(d=>new io(this.database,d));e&&o.then(()=>e(null),d=>e(d));const l=new io(this.database,i);return l.then=o.then.bind(o),l.catch=o.catch.bind(o,void 0),l}onDisconnect(){return Oo("Reference.onDisconnect",this._delegate._path),new jB(new nO(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class jy{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(t,e,i={}){!function TB(n,t,e,i={}){(n=(0,F.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&dl("Cannot call useEmulator() after instance has already been initialized.");const o=n._repoInternal;let l;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&dl('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new vy(vy.OWNER);else if(i.mockUserToken){const d="string"==typeof i.mockUserToken?i.mockUserToken:(0,F.Sg)(i.mockUserToken,n.app.options.projectId);l=new vy(d)}!function EB(n,t,e,i){n.repoInfo_=new cS(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(o,t,e,l)}(this._delegate,t,e,i)}ref(t){if((0,F.Dv)("database.ref",0,1,arguments.length),t instanceof io){const e=rO(this._delegate,t.toString());return new io(this,e)}{const e=iO(this._delegate,t);return new io(this,e)}}refFromURL(t){(0,F.Dv)("database.refFromURL",1,1,arguments.length);const i=rO(this._delegate,t);return new io(this,i)}goOffline(){return(0,F.Dv)("database.goOffline",0,0,arguments.length),function AB(n){(n=(0,F.m9)(n))._checkNotDeleted("goOffline"),YR(n._repo)}(this._delegate)}goOnline(){return(0,F.Dv)("database.goOnline",0,0,arguments.length),function MB(n){(n=(0,F.m9)(n))._checkNotDeleted("goOnline"),function jL(n){n.persistentConnection_&&n.persistentConnection_.resume(GR)}(n._repo)}(this._delegate)}}jy.ServerValue={TIMESTAMP:function OB(){return RB}(),increment:n=>function PB(n){return{".sv":{increment:n}}}(n)};var $B=Object.freeze({__proto__:null,initStandalone:function GB({app:n,url:t,version:e,customAuthImpl:i,namespace:o,nodeAdmin:l=!1}){ux(e);const d=new Tu.zt("auth-internal",new Tu.H0("database-standalone"));return d.setComponent(new Tu.wA("auth-internal",()=>i,"PRIVATE")),{instance:new jy(fO(n,d,void 0,t,l),n),namespace:o}}});const WB=jy.ServerValue;function gO(n){return null==n}function mO(n){return"function"==typeof n.set}function _O(n,t){return mO(t)?t:n.ref(t)}function yO(n,t){if(function ZB(n){return"string"==typeof n}(n))return t.stringCase();if(mO(n))return t.firebaseCase();if(function YB(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function zy(n,t,e="on",i=au.z){return new Un.y(o=>{let l=null;return l=n[e](t,(d,m)=>{i.schedule(()=>{o.next({snapshot:d,prevKey:m})}),"once"===e&&i.schedule(()=>o.complete())},d=>{i.schedule(()=>o.error(d))}),"on"===e?{unsubscribe(){null!=l&&n.off(t,l)}}:{unsubscribe(){}}}).pipe((0,it.U)(o=>{const{snapshot:l,prevKey:d}=o;let m=null;return l.exists()&&(m=l.key),{type:t,payload:l,prevKey:d,key:m}}),(0,xp.B)())}function vO(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function XB(n,t){const{payload:e,prevKey:i,key:o}=t,l=vO(n,o),d=function QB(n,t){if(gO(t))return 0;{const e=vO(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let m=null;t.payload.forEach(v=>{const D={payload:v,type:"value",prevKey:m,key:v.key};return m=v.key,n=[...n,D],!1})}return n;case"child_added":if(l>-1){const m=n[l-1];(m&&m.key||null)!==i&&(n=n.filter(v=>v.payload.key!==e.key)).splice(d,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(d,0,t)}return n;case"child_removed":return n.filter(m=>m.payload.key!==e.key);case"child_changed":return n.map(m=>m.payload.key===o?t:m);case"child_moved":if(l>-1){const m=n.splice(l,1)[0];return(n=n.slice()).splice(d,0,m),n}return n;default:return n}}function bO(n){return(gO(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function CO(n,t,e){return function KB(n,t,e){return zy(n,"value","once",e).pipe(dn(i=>{const o=[ze(i)];return t.forEach(l=>o.push(zy(n,l,"on",e))),(0,Xn.T)(...o).pipe(Fi(XB,[]))}),Qv())}(n,t=bO(t),e)}function EO(n,t,e){const i=(t=bO(t)).map(o=>zy(n,o,"on",e));return(0,Xn.T)(...i)}function wO(n,t){return function(i,o){return yO(i,{stringCase:()=>n.child(i)[t](o),firebaseCase:()=>i[t](o),snapshotCase:()=>i.ref[t](o)})}}function nV(n){return function(e){return e?yO(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function DO(n,t){return function(){return zy(n,"value","on",t)}}!function qB(n){n.INTERNAL.registerComponent(new Tu.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),o=t.getProvider("database").getImmediate({identifier:e});return new jy(o,i)},"PUBLIC").setServiceProps({Reference:io,Query:sr,Database:jy,DataSnapshot:ju,enableLogging:kB,INTERNAL:$B,ServerValue:WB}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.1.5")}(XN.Z);const sV=new c.OlP("angularfire2.realtimeDatabaseURL"),oV=new c.OlP("angularfire2.database.use-emulator");let IO=(()=>{class n{constructor(e,i,o,l,d,m,v,D,A,x,V,W,te,Se,$e){this.schedulers=m;const Ct=v,ht=(0,to.on)(e,d,i);D&&rE(ht,d,A,V,W,te,x,Se),this.database=(0,to.cc)(`${ht.name}.database.${o}`,"AngularFireDatabase",ht.name,()=>{const St=d.runOutsideAngular(()=>ht.database(o||void 0));return Ct&&St.useEmulator(...Ct),St},[Ct])}list(e,i){const o=this.schedulers.ngZone.runOutsideAngular(()=>_O(this.database,e));let l=o;return i&&(l=i(o)),function iV(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:wO(i,"update"),set:wO(i,"set"),push:o=>i.push(o),remove:nV(i),snapshotChanges:o=>CO(n,o,e).pipe(vr.iC),stateChanges:o=>EO(n,o,e).pipe(vr.iC),auditTrail:o=>function JB(n,t,e){return function tV(n,t,e){return function eV(n,t){return zy(n,"value","on",t).pipe((0,it.U)(e=>{let i;return e.payload.forEach(o=>(i=o.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function KN(...n){const t=(0,Or.jO)(n);return(0,un.e)((e,i)=>{const o=n.length,l=new Array(o);let d=n.map(()=>!1),m=!1;for(let v=0;v<o;v++)(0,Lr.Xf)(n[v]).subscribe((0,Ht.x)(i,D=>{l[v]=D,!m&&!d[v]&&(d[v]=!0,(m=d.every(Oi.y))&&(d=null))},Dv.Z));e.subscribe((0,Ht.x)(i,v=>{if(m){const D=[v,...l];i.next(t?t(...D):D)}}))})}(t),(0,it.U)(([o,l])=>{const d=o.lastKeyToLoad,m=l.map(v=>v.key);return{actions:l,lastKeyToLoad:d,loadedKeys:m}}),function QN(n){return(0,un.e)((t,e)=>{let i=!1,o=0;t.subscribe((0,Ht.x)(e,l=>(i||(i=!n(l,o++)))&&e.next(l)))})}(o=>-1===o.loadedKeys.indexOf(o.lastKeyToLoad)),(0,it.U)(o=>o.actions))}(n,EO(n,t).pipe(Fi((o,l)=>[...o,l],[])),e)}(n,o,e).pipe(vr.iC),valueChanges:(o,l)=>CO(n,o,e).pipe((0,it.U)(m=>m.map(v=>l&&l.idField?Object.assign(Object.assign({},v.payload.val()),{[l.idField]:v.key}):v.payload.val())),vr.iC)}}(l,this)}object(e){return function rV(n,t){return{query:n,snapshotChanges:()=>DO(n,t.schedulers.outsideAngular)().pipe(vr.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>DO(n,t.schedulers.outsideAngular)().pipe(vr.iC,(0,it.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>_O(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(to.Dh),c.LFG(to.xv,8),c.LFG(sV,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(vr.HU),c.LFG(oV,8),c.LFG(Yp,8),c.LFG(Zp,8),c.LFG(nE,8),c.LFG(iE,8),c.LFG(II,8),c.LFG(SI,8),c.LFG(TI,8),c.LFG(KC,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),aV=(()=>{class n{constructor(){DI.Z.registerVersion("angularfire",vr.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[IO]}),n})(),pT=(()=>{class n{constructor(e){this.db=e,this.API_URL="/flights"}getFlights(){return this.db.list(this.API_URL).snapshotChanges().pipe((0,it.U)(e=>e.map(i=>this.assignKey(i))))}getFlight(e){return this.db.object(`${this.API_URL}/${e}`).snapshotChanges().pipe((0,it.U)(i=>this.assignKey(i)))}editFlight(e,i){return this.db.object(`${this.API_URL}/${e}`).update(i)}removeFlight(e){return this.db.object(`${this.API_URL}/${e}`).remove()}addFlight(e){return this.db.list(this.API_URL).push(e)}assignKey(e){return Object.assign(Object.assign({},e.payload.val()),{key:e.key})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(IO))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var lV=O(655);class cV{constructor(t=!1,e,i=!0){this._multiple=t,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new st.x,e&&e.length&&(t?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}const uV=["trigger"],dV=["panel"];function hV(n,t){if(1&n&&(c.TgZ(0,"span",8),c._uU(1),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.Oqu(e.placeholder)}}function fV(n,t){if(1&n&&(c.TgZ(0,"span",12),c._uU(1),c.qZA()),2&n){const e=c.oxw(2);c.xp6(1),c.Oqu(e.triggerValue)}}function pV(n,t){1&n&&c.Hsn(0,0,["*ngSwitchCase","true"])}function gV(n,t){if(1&n&&(c.TgZ(0,"span",9),c.YNc(1,fV,2,1,"span",10),c.YNc(2,pV,1,0,"ng-content",11),c.qZA()),2&n){const e=c.oxw();c.Q6J("ngSwitch",!!e.customTrigger),c.xp6(2),c.Q6J("ngSwitchCase",!0)}}function mV(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",13)(1,"div",14,15),c.NdJ("@transformPanel.done",function(o){return c.CHM(e),c.oxw()._panelDoneAnimatingStream.next(o.toState)})("keydown",function(o){return c.CHM(e),c.oxw()._handleKeydown(o)}),c.Hsn(3,1),c.qZA()()}if(2&n){const e=c.oxw();c.Q6J("@transformPanelWrap",void 0),c.xp6(1),c.Gre("mat-select-panel ",e._getPanelTheme(),""),c.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),c.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),c.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const _V=[[["mat-select-trigger"]],"*"],yV=["mat-select-trigger","*"],SO={transformPanelWrap:_u("transformPanelWrap",[Ca("* => void",Um("@transformPanel",[jn()],{optional:!0}))]),transformPanel:_u("transformPanel",[ol("void",_r({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),ol("showing",_r({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),ol("showing-multiple",_r({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Ca("void => *",sl("120ms cubic-bezier(0, 0, 0.2, 1)")),Ca("* => void",sl("100ms 25ms linear",_r({opacity:0})))])};let TO=0;const MO=new c.OlP("mat-select-scroll-strategy"),EV=new c.OlP("MAT_SELECT_CONFIG"),wV={provide:MO,deps:[il],useFactory:function CV(n){return()=>n.scrollStrategies.reposition()}};class DV{constructor(t,e){this.source=t,this.value=e}}const IV=vp(pC(_h(gC(class{constructor(n,t,e,i,o){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=o}})))),SV=new c.OlP("MatSelectTrigger");let TV=(()=>{class n extends IV{constructor(e,i,o,l,d,m,v,D,A,x,V,W,te,Se){var $e,Ct,ht;super(d,l,v,D,x),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=o,this._dir=m,this._parentFormField=A,this._liveAnnouncer=te,this._defaultOptions=Se,this._panelOpen=!1,this._compareWith=(St,_t)=>St===_t,this._uid="mat-select-"+TO++,this._triggerAriaLabelledBy=null,this._destroy=new st.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+TO++,this._panelDoneAnimatingStream=new st.x,this._overlayPanelClass=(null===($e=this._defaultOptions)||void 0===$e?void 0:$e.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(ht=null===(Ct=this._defaultOptions)||void 0===Ct?void 0:Ct.disableOptionCentering)&&void 0!==ht&&ht,this.ariaLabel="",this.optionSelectionChanges=Ei(()=>{const St=this.options;return St?St.changes.pipe(wi(St),dn(()=>(0,Xn.T)(...St.map(_t=>_t.onSelectionChange)))):this._ngZone.onStable.pipe((0,_n.q)(1),dn(()=>this.optionSelectionChanges))}),this.openedChange=new c.vpe,this._openedStream=this.openedChange.pipe(yn(St=>St),(0,it.U)(()=>{})),this._closedStream=this.openedChange.pipe(yn(St=>!St),(0,it.U)(()=>{})),this.selectionChange=new c.vpe,this.valueChange=new c.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==Se?void 0:Se.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=Se.typeaheadDebounceInterval),this._scrollStrategyFactory=W,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(V)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){var e,i,o,l;return null!==(l=null!==(e=this._required)&&void 0!==e?e:null===(o=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===o?void 0:o.hasValidator(pc.required))&&void 0!==l&&l}set required(e){this._required=Qn(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Qn(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Qn(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=Tf(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new cV(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Qv(),er(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(er(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(wi(null),er(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const o=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?o.setAttribute("aria-labelledby",e):o.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this.value=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var e,i;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,o=40===i||38===i||37===i||39===i,l=13===i||32===i,d=this._keyManager;if(!d.isTyping()&&l&&!tl(e)||(this.multiple||e.altKey)&&o)e.preventDefault(),this.open();else if(!this.multiple){const m=this.selected;d.onKeydown(e);const v=this.selected;v&&m!==v&&this._liveAnnouncer.announce(v.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,o=e.keyCode,l=40===o||38===o,d=i.isTyping();if(l&&e.altKey)e.preventDefault(),this.close();else if(d||13!==o&&32!==o||!i.activeItem||tl(e))if(!d&&this._multiple&&65===o&&e.ctrlKey){e.preventDefault();const m=this.options.some(v=>!v.disabled&&!v.selected);this.options.forEach(v=>{v.disabled||(m?v.select():v.deselect())})}else{const m=i.activeItemIndex;i.onKeydown(e),this._multiple&&l&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==m&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,_n.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectValue(i)),this._sortValues();else{const i=this._selectValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(e){const i=this.options.find(o=>{if(this._selectionModel.isSelected(o))return!1;try{return null!=o.value&&this._compareWith(o.value,e)}catch(l){return!1}});return i&&this._selectionModel.select(i),i}_initKeyManager(){this._keyManager=new Jv(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(er(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(er(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Xn.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(er(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Xn.T)(...this.options.map(i=>i._stateChanges)).pipe(er(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const o=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(o!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),o!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,o)=>this.sortComparator?this.sortComparator(i,o,e):e.indexOf(i)-e.indexOf(o)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(o=>o.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let o=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(o+=" "+this.ariaLabelledby),o}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(dm),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(Cp),c.Y36(c.SBq),c.Y36(Nd,8),c.Y36(dy,8),c.Y36(eg,8),c.Y36(kI,8),c.Y36(ul,10),c.$8M("tabindex"),c.Y36(MO),c.Y36(Om),c.Y36(EV,8))},n.\u0275dir=c.lG2({type:n,viewQuery:function(e,i){if(1&e&&(c.Gf(uV,5),c.Gf(dV,5),c.Gf(Dm,5)),2&e){let o;c.iGM(o=c.CRH())&&(i.trigger=o.first),c.iGM(o=c.CRH())&&(i.panel=o.first),c.iGM(o=c.CRH())&&(i._overlayDir=o.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[c.qOj,c.TTD]}),n})(),AV=(()=>{class n extends TV{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,o){const l=this._getItemHeight();return Math.min(Math.max(0,l*e-i+l/2),o)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(er(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,_n.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=Ap(e,this.options,this.optionGroups),o=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function yC(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}((e+i)*o,o,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new DV(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),o=this._isRtl(),l=this.multiple?56:32;let d;if(this.multiple)d=40;else if(this.disableOptionCentering)d=16;else{let D=this._selectionModel.selected[0]||this.options.first;d=D&&D.group?32:16}o||(d*=-1);const m=0-(e.left+d-(o?l:0)),v=e.right+d-i.width+(o?0:l);m>0?d+=m+8:v>0&&(d-=v+8),this._overlayDir.offsetX=Math.round(d),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,o){const l=this._getItemHeight(),d=(l-this._triggerRect.height)/2,m=Math.floor(256/l);let v;return this.disableOptionCentering?0:(v=0===this._scrollTop?e*l:this._scrollTop===o?(e-(this._getItemCount()-m))*l+(l-(this._getItemCount()*l-256)%l):i-l/2,Math.round(-1*v-d))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),o=this._viewportRuler.getViewportSize(),l=this._triggerRect.top-8,d=o.height-this._triggerRect.bottom-8,m=Math.abs(this._offsetY),D=Math.min(this._getItemCount()*i,256)-m-this._triggerRect.height;D>d?this._adjustPanelUp(D,d):m>l?this._adjustPanelDown(m,l,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const o=Math.round(e-i);this._scrollTop-=o,this._offsetY-=o,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,o){const l=Math.round(e-i);if(this._scrollTop+=l,this._offsetY+=l,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=o)return this._scrollTop=o,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),o=Math.min(i*e,256),d=i*e-o;let m;m=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),m+=Ap(m,this.options,this.optionGroups);const v=o/2;this._scrollTop=this._calculateOverlayScroll(m,v,d),this._offsetY=this._calculateOverlayOffsetY(m,v,d),this._checkOverlayWithinViewport(d)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,o){if(1&e&&(c.Suo(o,SV,5),c.Suo(o,Tp,5),c.Suo(o,Sp,5)),2&e){let l;c.iGM(l=c.CRH())&&(i.customTrigger=l.first),c.iGM(l=c.CRH())&&(i.options=l),c.iGM(l=c.CRH())&&(i.optionGroups=l)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,i){1&e&&c.NdJ("keydown",function(l){return i._handleKeydown(l)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(c.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),c.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[c._Bn([{provide:Be,useExisting:n},{provide:_C,useExisting:n}]),c.qOj],ngContentSelectors:yV,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(c.F$t(_V),c.TgZ(0,"div",0,1),c.NdJ("click",function(){return i.toggle()}),c.TgZ(3,"div",2),c.YNc(4,hV,2,1,"span",3),c.YNc(5,gV,3,2,"span",4),c.qZA(),c.TgZ(6,"div",5),c._UZ(7,"div",6),c.qZA()(),c.YNc(8,mV,4,14,"ng-template",7),c.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const o=c.MAs(1);c.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),c.xp6(3),c.Q6J("ngSwitch",i.empty),c.uIk("id",i._valueId),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngSwitchCase",!1),c.xp6(3),c.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",o)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},directives:[Zv,vi,ci,ml,Dm,Is],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[SO.transformPanelWrap,SO.transformPanel]},changeDetection:0}),n})(),kO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[wV],imports:[[bi,Yv,Mp,kn],ec,sy,Mp,kn]}),n})();function MV(n,t){if(1&n&&(c.TgZ(0,"mat-option",26),c._uU(1),c.qZA()),2&n){const e=t.$implicit;c.Q6J("value",e.value),c.xp6(1),c.Oqu(e.label)}}function kV(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",16)(1,"div",17)(2,"div",18)(3,"span",19),c._uU(4),c.qZA(),c.TgZ(5,"mat-icon",20),c.NdJ("click",function(){const l=c.CHM(e).index;return c.oxw().removeCrewMember(l)}),c._uU(6,"delete_forever"),c.qZA()()(),c.TgZ(7,"div",21)(8,"div",22)(9,"mat-form-field"),c._UZ(10,"input",23),c.qZA()(),c.TgZ(11,"div",6)(12,"mat-form-field")(13,"mat-select",24),c.YNc(14,MV,2,2,"mat-option",25),c.qZA()()()()()}if(2&n){const e=t.index,i=c.oxw();c.xp6(4),c.hij("Cz\u0142onek za\u0142ogi - ",e+1,""),c.xp6(3),c.Q6J("formGroupName",e),c.xp6(7),c.Q6J("ngForOf",i.jobs)}}let xO=(()=>{class n{constructor(e){this.formBuilder=e,this.editMode=!1,this.jobs=[{label:"Pilot",value:"pilot"},{label:"Drugi pilot",value:"drugi pilot"},{label:"Stewardesa",value:"stewardesa"},{label:"Personel pok\u0142adowy",value:"personel pok\u0142adowy"}]}ngOnInit(){this.buildForm()}setFlight(e){const o=(0,lV._T)(e,["key"]);this.form.patchValue(o),o.crew.forEach(l=>this.addCrewMember(l))}get crew(){return this.form.get("crew")}removeCrewMember(e){this.crew.removeAt(e)}addCrewMember(e){this.crew.push(this.buildCrewMember(e))}buildCrewMember(e={}){return this.formBuilder.group({name:e.name||"",job:e.job||""})}buildForm(){this.form=this.formBuilder.group({origin:["",{validators:[pc.required]}],destination:["",{validators:[pc.required]}],departureTime:["",{validators:[pc.required]}],returnTime:["",{validators:[pc.required]}],code:["",{validators:[pc.required,pc.minLength(4),pc.maxLength(7)]}],additionalInformation:"",withSKPlanesDiscount:!1,crew:this.formBuilder.array(this.editMode?[]:[this.buildCrewMember()])})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(tN))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-flight-form"]],inputs:{editMode:"editMode"},decls:33,vars:3,consts:[[3,"formGroup"],[1,"row"],[1,"col-sm-8"],["matInput","","formControlName","code","placeholder","Kod"],["codeInput",""],["align","end"],[1,"col-sm-4"],["matInput","","formControlName","origin","placeholder","Wylot z"],["matInput","","formControlName","destination","placeholder","Cel"],["matInput","","formControlName","departureTime","placeholder","Data/czas wylotu"],["matInput","","formControlName","returnTime","placeholder","Data/czas przylotu"],["matInput","","formControlName","additionalInformation","placeholder","Dodatkowe informacje"],["formArrayName","crew","class","crew-container shadow",4,"ngFor","ngForOf"],[1,"row","mt-2"],[1,"col"],["mat-raised-button","","color","primary",3,"click"],["formArrayName","crew",1,"crew-container","shadow"],[1,"row","crew-header"],[1,"col","d-flex","bd-highligh","mb-3"],[1,"me-auto","p-2","bd-highlight"],[1,"p-2","bd-highlight","delete-icon",3,"click"],[1,"row",3,"formGroupName"],[1,"col-sm-5"],["matInput","","formControlName","name","placeholder","Imi\u0119 i nazwisko"],["formControlName","job","placeholder","Pe\u0142niona funkcja"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,i){if(1&e&&(c.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"mat-form-field"),c._UZ(4,"input",3,4),c.TgZ(6,"mat-error"),c._uU(7,"Kod jest wymagany"),c.qZA(),c.TgZ(8,"mat-hint",5),c._uU(9),c.qZA()()()(),c.TgZ(10,"div",1)(11,"div",6)(12,"mat-form-field"),c._UZ(13,"input",7),c.qZA()(),c.TgZ(14,"div",6)(15,"mat-form-field"),c._UZ(16,"input",8),c.qZA()()(),c.TgZ(17,"div",1)(18,"div",6)(19,"mat-form-field"),c._UZ(20,"input",9),c.qZA()(),c.TgZ(21,"div",6)(22,"mat-form-field"),c._UZ(23,"input",10),c.qZA()()(),c.TgZ(24,"div",1)(25,"div",2)(26,"mat-form-field"),c._UZ(27,"textarea",11),c.qZA()()(),c.YNc(28,kV,15,3,"div",12),c.TgZ(29,"div",13)(30,"div",14)(31,"button",15),c.NdJ("click",function(){return i.addCrewMember()}),c._uU(32,"Dodaj nowego cz\u0142onka za\u0142ogi"),c.qZA()()()()),2&e){const o=c.MAs(5);c.Q6J("formGroup",i.form),c.xp6(9),c.hij("",o.value.length," / 7"),c.xp6(19),c.Q6J("ngForOf",i.crew.controls)}},directives:[vk,rk,eg,xM,Hk,oy,PI,YI,ve,Wr,an,bE,tg,vE,AV,Tp,uc],styles:[".crew-container[_ngcontent-%COMP%]{margin-top:15px;padding:15px;background:white}.crew-header[_ngcontent-%COMP%]{margin-bottom:20px;font-weight:700}.delete-icon[_ngcontent-%COMP%]{cursor:pointer}"]}),n})();const xV=["flightForm"];let RV=(()=>{class n{constructor(e,i,o){this.flightService=e,this.toast=i,this.dialogReg=o}createFlight(){console.log(this.flightForm),this.flightService.addFlight(this.flightForm.form.value).then(this.onCreatingSuccess.bind(this),this.onCreatingFailure.bind(this))}onCreatingSuccess(){this.dialogReg.close(),this.toast.open("Lot zosta\u0142 pomy\u015blnie utworzony!","",{panelClass:"toast-success"})}onCreatingFailure(e){this.toast.open(e.message,"",{panelClass:"toast-error"})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(pT),c.Y36(Dh),c.Y36(py))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-new-flight"]],viewQuery:function(e,i){if(1&e&&c.Gf(xV,5),2&e){let o;c.iGM(o=c.CRH())&&(i.flightForm=o.first)}},decls:11,vars:1,consts:[["mat-dialog-title",""],["flightForm",""],[1,"row"],[1,"col","d-grid","gap-2","d-md-flex","justify-content-md-end"],["mat-dialog-close","","type","button",1,"btn","btn-secondary","me-md-2"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(e,i){if(1&e&&(c.TgZ(0,"h2",0),c._uU(1,"Kreator nowego lotu"),c.qZA(),c.TgZ(2,"mat-dialog-content"),c._UZ(3,"app-flight-form",null,1),c.qZA(),c.TgZ(5,"div",2)(6,"div",3)(7,"button",4),c._uU(8,"Anuluj"),c.qZA(),c.TgZ(9,"button",5),c.NdJ("click",function(){return i.createFlight()}),c._uU(10,"Utw\xf3rz"),c.qZA()()()),2&e){const o=c.MAs(4);c.xp6(9),c.Q6J("disabled",o.form.invalid)}},directives:[WN,qN,xO,$N],styles:[""]}),n})(),OV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-flight-card"]],inputs:{flight:"flight"},decls:15,vars:4,consts:[[1,"card-container"],[1,"shadow","card-content"],[1,"row"],[1,"col"],["color","primary",1,"origin"],[1,"destination"],[1,"time"],[1,"icon-container","shadow"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),c._uU(5),c.qZA(),c.TgZ(6,"p",5),c._uU(7),c.qZA()()(),c.TgZ(8,"div",2)(9,"div",3)(10,"p",6),c._uU(11),c.qZA()()()(),c.TgZ(12,"div",7)(13,"mat-icon"),c._uU(14,"airplanemode_active"),c.qZA()()()),2&e&&(c.xp6(5),c.Oqu(i.flight.origin),c.xp6(2),c.Oqu(i.flight.destination),c.xp6(4),c.AsE("",i.flight.departureTime," - ",i.flight.returnTime,""))},directives:[tg],styles:["[_nghost-%COMP%]{cursor:pointer}.card-container[_ngcontent-%COMP%]{padding:15px;position:relative;margin-bottom:20px}.card-content[_ngcontent-%COMP%]{padding:30px 20px;background:white}.icon-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:absolute;left:50%;top:-10px;height:50px;width:50px;background:white;border-radius:50%;z-index:10;border:1px solid gray;transform:translate(-50%)}.icon-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#28a0cf}.time[_ngcontent-%COMP%]{text-align:center;font-size:15px;color:gray;padding-top:12px}.destination[_ngcontent-%COMP%], .origin[_ngcontent-%COMP%]{font-size:26px;font-weight:700;color:#5c6bc0}"]}),n})();function PV(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",3),c.NdJ("click",function(){const l=c.CHM(e).$implicit;return c.oxw().showDetails(l)}),c._UZ(1,"app-flight-card",4),c.qZA()}if(2&n){const e=t.$implicit;c.xp6(1),c.Q6J("flight",e)}}let NV=(()=>{class n{constructor(e,i){this.dialog=e,this.flightsService=i,this.flights$=this.flightsService.getFlights()}openNewFlightModel(){this.dialog.open(RV)}showDetails(e){this.dialog.open(YN,{data:e})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(IE),c.Y36(pT))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-flights"]],decls:5,vars:3,consts:[[1,"row","flights-container"],["class","col-sm-4",3,"click",4,"ngFor","ngForOf"],["mat-fab","","color","primary","id","new-flight-btn",3,"click"],[1,"col-sm-4",3,"click"],[3,"flight"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.YNc(1,PV,2,1,"div",1),c.ALo(2,"async"),c.qZA(),c.TgZ(3,"button",2),c.NdJ("click",function(){return i.openNewFlightModel()}),c._uU(4,"+"),c.qZA()),2&e&&(c.xp6(1),c.Q6J("ngForOf",c.lcZ(2,1,i.flights$)))},directives:[an,OV,uc],pipes:[Oa],styles:[".flights-container[_ngcontent-%COMP%]{padding-top:30px}#new-flight-btn[_ngcontent-%COMP%]{position:fixed;bottom:50px;right:50px;font-size:30px}"]}),n})();const FV=["flightForm"],LV=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:TN},{path:"dashboard",component:PN,canActivate:[(()=>{class n{constructor(e,i,o){this.authService=e,this.router=i,this.toast=o}canActivate(e,i){return this.authService.authState$.pipe((0,it.U)(o=>null!==o||(this.router.navigate(["/login"]),this.toast.open("Nie masz uprawnie\u0144 do ogl\u0105dania tej strony. Prosz\u0119 si\u0119 zalogowa\u0107"),!1)))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(sE),c.LFG(Kn),c.LFG(Dh))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()],children:[{path:"",redirectTo:"flights",pathMatch:"full"},{path:"flights",component:NV},{path:"flights/:key",component:(()=>{class n{constructor(e,i,o,l){this.route=e,this.toast=i,this.router=o,this.flightsService=l}ngAfterViewInit(){this.loadFlight()}removeFlight(){this.flightsService.removeFlight(this.flight.key).then(this.onRemoveSuccess.bind(this),this.onFailure.bind(this))}editFlight(){this.flightsService.editFlight(this.flight.key,this.flightForm.form.value).then(this.onEditSuccess.bind(this),this.onFailure.bind(this))}goToDashboard(){this.router.navigate(["/dashboard"])}onEditSuccess(){this.router.navigate(["/dashboard"]),this.toast.open("Lot zosta\u0142 pomy\u015blnie zapisany","",{panelClass:"toast-success"})}onRemoveSuccess(){this.router.navigate(["/dashboard"]),this.toast.open("Lot zosta\u0142 pomy\u015blnie usuni\u0119ty","",{panelClass:"toast-success"})}onFailure(e){this.toast.open(e.message,"",{panelClass:"toast-error"})}loadFlight(){this.flightsService.getFlight(this.route.snapshot.params.key).pipe((0,An.b)(i=>this.flightForm.setFlight(i))).subscribe(i=>this.flight=i)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Gs),c.Y36(Dh),c.Y36(Kn),c.Y36(pT))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-edit-flight"]],viewQuery:function(e,i){if(1&e&&c.Gf(FV,5),2&e){let o;c.iGM(o=c.CRH())&&(i.flightForm=o.first)}},decls:18,vars:2,consts:[[1,"container","edit"],[1,"row","justify-content-center","login-container"],[1,"col-9"],[1,"col-3"],["id","remove-btn",1,"float-end","m-2",3,"click"],[3,"editMode"],["flightForm",""],[1,"row"],[1,"col","d-grid","gap-2","d-md-flex","justify-content-md-end"],["type","button",1,"btn","btn-secondary","me-md-2",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),c._uU(4,"Edycja lotu "),c.TgZ(5,"strong"),c._uU(6),c.qZA()()(),c.TgZ(7,"div",3)(8,"mat-icon",4),c.NdJ("click",function(){return i.removeFlight()}),c._uU(9,"delete_forever"),c.qZA()()(),c._UZ(10,"app-flight-form",5,6),c.qZA(),c.TgZ(12,"div",7)(13,"div",8)(14,"button",9),c.NdJ("click",function(){return i.goToDashboard()}),c._uU(15,"Anuluj"),c.qZA(),c.TgZ(16,"button",10),c.NdJ("click",function(){return i.editFlight()}),c._uU(17,"Zapisz"),c.qZA()()()),2&e&&(c.xp6(6),c.Oqu(null==i.flight?null:i.flight.code),c.xp6(4),c.Q6J("editMode",!0))},directives:[tg,xO],styles:[".edit[_ngcontent-%COMP%]{background-color:#fff;margin-bottom:15px;padding:10px}#remove-btn[_ngcontent-%COMP%]{color:red;cursor:pointer;font-size:42px;padding-top:15px}"]}),n})()}]}];let BV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[su.forRoot(LV)],su]}),n})(),VV=(()=>{class n{constructor(){this.title="plane"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&c._UZ(0,"router-outlet")},directives:[Ka],styles:[""]}),n})();const RO_firebase={apiKey:"AIzaSyC2TZjWrUd2kPShLrOgY5Oj0Et_rYc0qo0",authDomain:"fire-plane.firebaseapp.com",databaseURL:"https://fire-plane-default-rtdb.firebaseio.com",projectId:"fire-plane",storageBucket:"fire-plane.appspot.com",messagingSenderId:"355887275573",appId:"1:355887275573:web:f443e5016b2d04dc935b7c"};let OO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[kn],kn]}),n})(),FO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),LO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[I_,kn,oE,FO],kn,FO]}),n})();const QV={duration:2500,verticalPosition:"bottom",horizontalPosition:"center"},XV={width:"700px",disableClose:!0,hasBackdrop:!0};let gT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:rx,useValue:XV},{provide:O_,useValue:QV}],imports:[tx,OO,sy,jk,ax,kp,R_,LO,kO,nx]}),n})(),JV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[bi,Lk,su,gT]]}),n})(),e2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[bi,gT,Lk,Bk]]}),n})(),t2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[VV]}),n.\u0275inj=c.cJS({providers:[],imports:[[to.hO.initializeApp(RO_firebase),Va,vD,BV,gT,IM,JV,aV,e2]]}),n})();(0,c.G48)(),Nc().bootstrapModule(t2).catch(n=>console.error(n))},5867:(Ke,we,O)=>{"use strict";O.d(we,{Mq:()=>c.getApp,C6:()=>c.getApps});var c=O(9681);(0,c.registerVersion)("firebase","9.6.8","app")},127:(Ke,we,O)=>{"use strict";O.d(we,{Z:()=>c.Z});var c=O(3942);c.Z.registerVersion("firebase","9.6.8","app-compat")},3059:(Ke,we,O)=>{"use strict";O.r(we);var c=O(5861),Q=O(3942),P=O(2090),ue=O(9681),ee=O(655),ge=O(1877),J=O(4859);const Me=function Ve(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Fe=function Ie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},q=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ae=new ge.Yd("@firebase/auth");function ke(_,...f){Ae.logLevel<=ge.in.ERROR&&Ae.error(`Auth (${ue.SDK_VERSION}): ${_}`,...f)}function ce(_,...f){throw He(_,...f)}function me(_,...f){return He(_,...f)}function be(_,f,g){const b=Object.assign(Object.assign({},Fe()),{[f]:g});return new P.LL("auth","Firebase",b).create(f,{appName:_.name})}function Ue(_,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&ce(_,"argument-error"),be(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function He(_,...f){if("string"!=typeof _){const g=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=_.name),_._errorFactory.create(g,...b)}return q.create(_,...f)}function re(_,f,...g){if(!_)throw He(f,...g)}function Y(_){const f="INTERNAL ASSERTION FAILED: "+_;throw ke(f),new Error(f)}function se(_,f){_||Y(f)}const _e=new Map;function oe(_){se(_ instanceof Function,"Expected a class definition");let f=_e.get(_);return f?(se(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,_e.set(_,f),f)}function dt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Ot(){return"http:"===Rn()||"https:"===Rn()}function Rn(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class rn{constructor(f,g){this.shortDelay=f,this.longDelay=g,se(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function Ye(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ot()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pt(_,f){se(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class On{static initialize(f,g,b){this.fetchImpl=f,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Y("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Y("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Y("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Si=new rn(3e4,6e4);function Nt(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function Tt(_,f,g,b){return or.apply(this,arguments)}function or(){return(or=(0,c.Z)(function*(_,f,g,b,S={}){return Ti(_,S,(0,c.Z)(function*(){let R={},$={};b&&("GET"===f?$=b:R={body:JSON.stringify(b)});const he=(0,P.xO)(Object.assign({key:_.config.apiKey},$)).slice(1),Le=yield _._getAdditionalHeaders();return Le["Content-Type"]="application/json",_.languageCode&&(Le["X-Firebase-Locale"]=_.languageCode),On.fetch()(Xr(_,_.config.apiHost,g,he),Object.assign({method:f,headers:Le,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function Ti(_,f,g){return $n.apply(this,arguments)}function $n(){return($n=(0,c.Z)(function*(_,f,g){_._canInitEmulator=!1;const b=Object.assign(Object.assign({},zt),f);try{const S=new gi(_),R=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const $=yield R.json();if("needConfirmation"in $)throw lr(_,"account-exists-with-different-credential",$);if(R.ok&&!("errorMessage"in $))return $;{const he=R.ok?$.errorMessage:$.error.message,[Le,qe]=he.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw lr(_,"credential-already-in-use",$);if("EMAIL_EXISTS"===Le)throw lr(_,"email-already-in-use",$);const ut=b[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-");if(qe)throw be(_,ut,qe);ce(_,ut)}}catch(S){if(S instanceof P.ZR)throw S;ce(_,"network-request-failed")}})).apply(this,arguments)}function si(_,f,g,b){return ar.apply(this,arguments)}function ar(){return(ar=(0,c.Z)(function*(_,f,g,b,S={}){const R=yield Tt(_,f,g,b,S);return"mfaPendingCredential"in R&&ce(_,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Xr(_,f,g,b){const S=`${f}${g}?${b}`;return _.config.emulator?Pt(_.config,S):`${_.config.apiScheme}://${S}`}class gi{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(me(this.auth,"network-request-failed")),Si.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function lr(_,f,g){const b={appName:_.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const S=me(_,f,b);return S.customData._tokenResponse=g,S}function Ai(){return(Ai=(0,c.Z)(function*(_,f){return Tt(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function sn(_,f){return gn.apply(this,arguments)}function gn(){return(gn=(0,c.Z)(function*(_,f){return Tt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Jr(_,f){return mi.apply(this,arguments)}function mi(){return(mi=(0,c.Z)(function*(_,f){return Tt(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Pn(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function es(){return(es=(0,c.Z)(function*(_,f=!1){const g=(0,P.m9)(_),b=yield g.getIdToken(f),S=Qe(b);re(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const R="object"==typeof S.firebase?S.firebase:void 0,$=null==R?void 0:R.sign_in_provider;return{claims:S,token:b,authTime:Pn(At(S.auth_time)),issuedAtTime:Pn(At(S.iat)),expirationTime:Pn(At(S.exp)),signInProvider:$||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function At(_){return 1e3*Number(_)}function Qe(_){const[f,g,b]=_.split(".");if(void 0===f||void 0===g||void 0===b)return ke("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,P.tV)(g);return S?JSON.parse(S):(ke("Failed to decode base64 JWT payload"),null)}catch(S){return ke("Caught error parsing JWT payload as JSON",S),null}}function Jn(_,f){return qi.apply(this,arguments)}function qi(){return(qi=(0,c.Z)(function*(_,f,g=!1){if(g)return f;try{return yield f}catch(b){throw b instanceof P.ZR&&Et(b)&&_.auth.currentUser===_&&(yield _.auth.signOut()),b}})).apply(this,arguments)}function Et({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class br{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield g.iteration()}),b)}iteration(){var f=this;return(0,c.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&f.schedule(!0))}f.schedule()})()}}class ei{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pn(this.lastLoginAt),this.creationTime=Pn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function oi(_){return B.apply(this,arguments)}function B(){return(B=(0,c.Z)(function*(_){var f;const g=_.auth,b=yield _.getIdToken(),S=yield Jn(_,Jr(g,{idToken:b}));re(null==S?void 0:S.users.length,g,"internal-error");const R=S.users[0];_._notifyReloadListener(R);const $=(null===(f=R.providerUserInfo)||void 0===f?void 0:f.length)?ne(R.providerUserInfo):[],he=Ce(_.providerData,$),ut=!!_.isAnonymous&&!(_.email&&R.passwordHash||(null==he?void 0:he.length)),Xe={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:he,metadata:new ei(R.createdAt,R.lastLoginAt),isAnonymous:ut};Object.assign(_,Xe)})).apply(this,arguments)}function G(){return(G=(0,c.Z)(function*(_){const f=(0,P.m9)(_);yield oi(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Ce(_,f){return[..._.filter(b=>!f.some(S=>S.providerId===b.providerId)),...f]}function ne(_){return _.map(f=>{var{providerId:g}=f,b=(0,ee._T)(f,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function Ee(){return(Ee=(0,c.Z)(function*(_,f){const g=yield Ti(_,{},(0,c.Z)(function*(){const b=(0,P.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:S,apiKey:R}=_.config,$=Xr(_,S,"/v1/token",`key=${R}`),he=yield _._getAdditionalHeaders();return he["Content-Type"]="application/x-www-form-urlencoded",On.fetch()($,{method:"POST",headers:he,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class ye{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){re(f.idToken,"internal-error"),re(void 0!==f.idToken,"internal-error"),re(void 0!==f.refreshToken,"internal-error");const g="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function at(_){const f=Qe(_);return re(f,"internal-error"),re(void 0!==f.exp,"internal-error"),re(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var b=this;return(0,c.Z)(function*(){return re(!b.accessToken||b.refreshToken,f,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var b=this;return(0,c.Z)(function*(){const{accessToken:S,refreshToken:R,expiresIn:$}=yield function je(_,f){return Ee.apply(this,arguments)}(f,g);b.updateTokensAndExpiration(S,R,Number($))})()}updateTokensAndExpiration(f,g,b){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,g){const{refreshToken:b,accessToken:S,expirationTime:R}=g,$=new ye;return b&&(re("string"==typeof b,"internal-error",{appName:f}),$.refreshToken=b),S&&(re("string"==typeof S,"internal-error",{appName:f}),$.accessToken=S),R&&(re("number"==typeof R,"internal-error",{appName:f}),$.expirationTime=R),$}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new ye,this.toJSON())}_performRefresh(){return Y("not implemented")}}function Ne(_,f){re("string"==typeof _||void 0===_,"internal-error",{appName:f})}class We{constructor(f){var{uid:g,auth:b,stsTokenManager:S}=f,R=(0,ee._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new br(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new ei(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,c.Z)(function*(){const b=yield Jn(g,g.stsTokenManager.getToken(g.auth,f));return re(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(f){return function Mi(_){return es.apply(this,arguments)}(this,f)}reload(){return function z(_){return G.apply(this,arguments)}(this)}_assign(f){this!==f&&(re(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new We(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var b=this;return(0,c.Z)(function*(){let S=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),S=!0),g&&(yield oi(b)),yield b.auth._persistUserIfCurrent(b),S&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,c.Z)(function*(){const g=yield f.getIdToken();return yield Jn(f,function rt(_,f){return Ai.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var b,S,R,$,he,Le,qe,ut;const Xe=null!==(b=g.displayName)&&void 0!==b?b:void 0,fn=null!==(S=g.email)&&void 0!==S?S:void 0,gr=null!==(R=g.phoneNumber)&&void 0!==R?R:void 0,Kl=null!==($=g.photoURL)&&void 0!==$?$:void 0,Xa=null!==(he=g.tenantId)&&void 0!==he?he:void 0,Ja=null!==(Le=g._redirectEventId)&&void 0!==Le?Le:void 0,Id=null!==(qe=g.createdAt)&&void 0!==qe?qe:void 0,qg=null!==(ut=g.lastLoginAt)&&void 0!==ut?ut:void 0,{uid:wo,emailVerified:tu,isAnonymous:nu,providerData:Sd,stsTokenManager:iu}=g;re(wo&&iu,f,"internal-error");const Kn=ye.fromJSON(this.name,iu);re("string"==typeof wo,f,"internal-error"),Ne(Xe,f.name),Ne(fn,f.name),re("boolean"==typeof tu,f,"internal-error"),re("boolean"==typeof nu,f,"internal-error"),Ne(gr,f.name),Ne(Kl,f.name),Ne(Xa,f.name),Ne(Ja,f.name),Ne(Id,f.name),Ne(qg,f.name);const Td=new We({uid:wo,auth:f,email:fn,emailVerified:tu,displayName:Xe,isAnonymous:nu,photoURL:Kl,phoneNumber:gr,tenantId:Xa,stsTokenManager:Kn,createdAt:Id,lastLoginAt:qg});return Sd&&Array.isArray(Sd)&&(Td.providerData=Sd.map(Ef=>Object.assign({},Ef))),Ja&&(Td._redirectEventId=Ja),Td}static _fromIdTokenResponse(f,g,b=!1){return(0,c.Z)(function*(){const S=new ye;S.updateFromServerResponse(g);const R=new We({uid:g.localId,auth:f,stsTokenManager:S,isAnonymous:b});return yield oi(R),R})()}}const et=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(g,b){var S=this;return(0,c.Z)(function*(){S.storage[g]=b})()}_get(g){var b=this;return(0,c.Z)(function*(){const S=b.storage[g];return void 0===S?null:S})()}_remove(g){var b=this;return(0,c.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return _.type="NONE",_})();function Lt(_,f,g){return`firebase:${_}:${f}:${g}`}class Xt{constructor(f,g,b){this.persistence=f,this.auth=g,this.userKey=b;const{config:S,name:R}=this.auth;this.fullUserKey=Lt(this.userKey,S.apiKey,R),this.fullPersistenceKey=Lt("persistence",S.apiKey,R),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?We._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,c.Z)(function*(){if(g.persistence===f)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,b="authUser"){return(0,c.Z)(function*(){if(!g.length)return new Xt(oe(et),f,b);const S=(yield Promise.all(g.map(function(){var qe=(0,c.Z)(function*(ut){if(yield ut._isAvailable())return ut});return function(ut){return qe.apply(this,arguments)}}()))).filter(qe=>qe);let R=S[0]||oe(et);const $=Lt(b,f.config.apiKey,f.name);let he=null;for(const qe of g)try{const ut=yield qe._get($);if(ut){const Xe=We._fromJSON(f,ut);qe!==R&&(he=Xe),R=qe;break}}catch(ut){}const Le=S.filter(qe=>qe._shouldAllowMigration);return R._shouldAllowMigration&&Le.length?(R=Le[0],he&&(yield R._set($,he.toJSON())),yield Promise.all(g.map(function(){var qe=(0,c.Z)(function*(ut){if(ut!==R)try{yield ut._remove($)}catch(Xe){}});return function(ut){return qe.apply(this,arguments)}}())),new Xt(R,f,b)):new Xt(R,f,b)})()}}function Ma(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(In(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Fo(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Cr(f))return"Blackberry";if(Sn(f))return"Webos";if(ka(f))return"Safari";if((f.includes("chrome/")||Lo(f))&&!f.includes("edge/"))return"Chrome";if(ai(f))return"Android";{const b=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function Fo(_=(0,P.z$)()){return/firefox\//i.test(_)}function ka(_=(0,P.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Lo(_=(0,P.z$)()){return/crios\//i.test(_)}function In(_=(0,P.z$)()){return/iemobile/i.test(_)}function ai(_=(0,P.z$)()){return/android/i.test(_)}function Cr(_=(0,P.z$)()){return/blackberry/i.test(_)}function Sn(_=(0,P.z$)()){return/webos/i.test(_)}function _i(_=(0,P.z$)()){return/iphone|ipad|ipod/i.test(_)}function ts(_=(0,P.z$)()){return _i(_)||ai(_)||Sn(_)||Cr(_)||/windows phone/i.test(_)||In(_)}function so(_,f=[]){let g;switch(_){case"Browser":g=Ma((0,P.z$)());break;case"Worker":g=`${Ma((0,P.z$)())}-${_}`;break;default:g=_}const b=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${ue.SDK_VERSION}/${b}`}class yi{constructor(f,g){this.app=f,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vt(this),this.idTokenSubscription=new vt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(f,g){var b=this;return g&&(this._popupRedirectResolver=oe(g)),this._initializationPromise=this.queue((0,c.Z)(function*(){var S,R;if(!b._deleted&&(b.persistenceManager=yield Xt.create(b,f),!b._deleted)){if(null===(S=b._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch($){}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(R=b.currentUser)||void 0===R?void 0:R.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g)}})()}initializeCurrentUser(f){var g=this;return(0,c.Z)(function*(){var b;let S=yield g.assertedPersistence.getCurrentUser();if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const R=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,$=null==S?void 0:S._redirectEventId,he=yield g.tryRedirectSignIn(f);(!R||R===$)&&(null==he?void 0:he.user)&&(S=he.user)}return S?S._redirectEventId?(re(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===S._redirectEventId?g.directlySetCurrentUser(S):g.reloadAndSetCurrentUserOrClear(S)):g.reloadAndSetCurrentUserOrClear(S):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var g=this;return(0,c.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch(S){yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,c.Z)(function*(){try{yield oi(f)}catch(b){if("auth/network-request-failed"!==b.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function ct(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,c.Z)(function*(){const b=f?(0,P.m9)(f):null;return b&&re(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(f){var g=this;return(0,c.Z)(function*(){if(!g._deleted)return f&&re(g.tenantId===f.tenantId,g,"tenant-id-mismatch"),g.queue((0,c.Z)(function*(){yield g.directlySetCurrentUser(f),g.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var g=this;return this.queue((0,c.Z)(function*(){yield g.assertedPersistence.setPersistence(oe(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new P.LL("auth","Firebase",f())}onAuthStateChanged(f,g,b){return this.registerStateListener(this.authStateSubscription,f,g,b)}onIdTokenChanged(f,g,b){return this.registerStateListener(this.idTokenSubscription,f,g,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var b=this;return(0,c.Z)(function*(){const S=yield b.getOrInitRedirectPersistenceManager(g);return null===f?S.removeCurrentUser():S.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,c.Z)(function*(){if(!g.redirectPersistenceManager){const b=f&&oe(f)||g._popupRedirectResolver;re(b,g,"argument-error"),g.redirectPersistenceManager=yield Xt.create(g,[oe(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,c.Z)(function*(){var b,S;return g._isInitialized&&(yield g.queue((0,c.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===f?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,c.Z)(function*(){if(f===g.currentUser)return g.queue((0,c.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,b,S){if(this._deleted)return()=>{};const R="function"==typeof g?g:g.next.bind(g),$=this._isInitialized?Promise.resolve():this._initializationPromise;return re($,this,"internal-error"),$.then(()=>R(this.currentUser)),"function"==typeof g?f.addObserver(g,b,S):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,c.Z)(function*(){g.currentUser&&g.currentUser!==f&&(g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh()),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=so(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){const g={"X-Client-Version":f.clientVersion};return f.app.options.appId&&(g["X-Firebase-gmpid"]=f.app.options.appId),g})()}}function Re(_){return(0,P.m9)(_)}class vt{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,P.ne)(g=>this.observer=g)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function li(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function mn(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class Bt{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return Y("not implemented")}_getIdTokenResponse(f){return Y("not implemented")}_linkToIdToken(f,g){return Y("not implemented")}_getReauthenticationResolver(f){return Y("not implemented")}}function Ds(_,f){return on.apply(this,arguments)}function on(){return(on=(0,c.Z)(function*(_,f){return Tt(_,"POST","/v1/accounts:resetPassword",Nt(_,f))})).apply(this,arguments)}function gt(_,f){return oo.apply(this,arguments)}function oo(){return(oo=(0,c.Z)(function*(_,f){return Tt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Is(_,f){return ao.apply(this,arguments)}function ao(){return(ao=(0,c.Z)(function*(_,f){return Tt(_,"POST","/v1/accounts:update",Nt(_,f))})).apply(this,arguments)}function an(){return(an=(0,c.Z)(function*(_,f){return si(_,"POST","/v1/accounts:signInWithPassword",Nt(_,f))})).apply(this,arguments)}function ns(_,f){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,c.Z)(function*(_,f){return Tt(_,"POST","/v1/accounts:sendOobCode",Nt(_,f))})).apply(this,arguments)}function Nn(_,f){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,c.Z)(function*(_,f){return ns(_,f)})).apply(this,arguments)}function Cc(_,f){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,c.Z)(function*(_,f){return ns(_,f)})).apply(this,arguments)}function vi(_,f){return ci.apply(this,arguments)}function ci(){return(ci=(0,c.Z)(function*(_,f){return ns(_,f)})).apply(this,arguments)}function ml(_,f){return xa.apply(this,arguments)}function xa(){return(xa=(0,c.Z)(function*(_,f){return ns(_,f)})).apply(this,arguments)}function ki(){return(ki=(0,c.Z)(function*(_,f){return si(_,"POST","/v1/accounts:signInWithEmailLink",Nt(_,f))})).apply(this,arguments)}function Ec(){return(Ec=(0,c.Z)(function*(_,f){return si(_,"POST","/v1/accounts:signInWithEmailLink",Nt(_,f))})).apply(this,arguments)}class Ra extends Bt{constructor(f,g,b,S=null){super("password",b),this._email=f,this._password=g,this._tenantId=S}static _fromEmailAndPassword(f,g){return new Ra(f,g,"password")}static _fromEmailAndCode(f,g,b=null){return new Ra(f,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,c.Z)(function*(){switch(g.signInMethod){case"password":return function lo(_,f){return an.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function is(_,f){return ki.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:ce(f,"internal-error")}})()}_linkToIdToken(f,g){var b=this;return(0,c.Z)(function*(){switch(b.signInMethod){case"password":return gt(f,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function $u(_,f){return Ec.apply(this,arguments)}(f,{idToken:g,email:b._email,oobCode:b._password});default:ce(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function wn(_,f){return wc.apply(this,arguments)}function wc(){return(wc=(0,c.Z)(function*(_,f){return si(_,"POST","/v1/accounts:signInWithIdp",Nt(_,f))})).apply(this,arguments)}class Dr extends Bt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new Dr(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):ce("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:S}=g,R=(0,ee._T)(g,["providerId","signInMethod"]);if(!b||!S)return null;const $=new Dr(b,S);return $.idToken=R.idToken||void 0,$.accessToken=R.accessToken||void 0,$.secret=R.secret,$.nonce=R.nonce,$.pendingToken=R.pendingToken||null,$}_getIdTokenResponse(f){return wn(f,this.buildRequest())}_linkToIdToken(f,g){const b=this.buildRequest();return b.idToken=g,wn(f,b)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,wn(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,P.xO)(g)}return f}}function Yh(_,f){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,c.Z)(function*(_,f){return Tt(_,"POST","/v1/accounts:sendVerificationCode",Nt(_,f))})).apply(this,arguments)}function Vo(){return(Vo=(0,c.Z)(function*(_,f){return si(_,"POST","/v1/accounts:signInWithPhoneNumber",Nt(_,f))})).apply(this,arguments)}function Dc(){return(Dc=(0,c.Z)(function*(_,f){const g=yield si(_,"POST","/v1/accounts:signInWithPhoneNumber",Nt(_,f));if(g.temporaryProof)throw lr(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Qh={USER_NOT_FOUND:"user-not-found"};function Ic(){return(Ic=(0,c.Z)(function*(_,f){return si(_,"POST","/v1/accounts:signInWithPhoneNumber",Nt(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Qh)})).apply(this,arguments)}class uo extends Bt{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new uo({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new uo({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function Kh(_,f){return Vo.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function co(_,f){return Dc.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Xh(_,f){return Ic.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:b,verificationCode:S}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:b,code:S}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:b,phoneNumber:S,temporaryProof:R}=f;return b||g||S||R?new uo({verificationId:g,verificationCode:b,phoneNumber:S,temporaryProof:R}):null}}class Ir{constructor(f){var g,b,S,R,$,he;const Le=(0,P.zd)((0,P.pd)(f)),qe=null!==(g=Le.apiKey)&&void 0!==g?g:null,ut=null!==(b=Le.oobCode)&&void 0!==b?b:null,Xe=function Jh(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Le.mode)&&void 0!==S?S:null);re(qe&&ut&&Xe,"argument-error"),this.apiKey=qe,this.operation=Xe,this.code=ut,this.continueUrl=null!==(R=Le.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==($=Le.languageCode)&&void 0!==$?$:null,this.tenantId=null!==(he=Le.tenantId)&&void 0!==he?he:null}static parseLink(f){const g=function Wu(_){const f=(0,P.zd)((0,P.pd)(_)).link,g=f?(0,P.zd)((0,P.pd)(f)).deep_link_id:null,b=(0,P.zd)((0,P.pd)(_)).deep_link_id;return(b?(0,P.zd)((0,P.pd)(b)).link:null)||b||g||f||_}(f);try{return new Ir(g)}catch(b){return null}}}let Uo=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,b){return Ra._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const S=Ir.parseLink(b);return re(S,"argument-error"),Ra._fromEmailAndCode(g,S.code,S.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class rs{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class xi extends rs{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class As extends xi{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return re("providerId"in g&&"signInMethod"in g,"argument-error"),Dr._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return re(f.idToken||f.accessToken,"argument-error"),Dr._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return As.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return As.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:S,pendingToken:R,nonce:$,providerId:he}=f;if(!b&&!S&&!g&&!R||!he)return null;try{return new As(he)._credential({idToken:g,accessToken:b,nonce:$,pendingToken:R})}catch(Le){return null}}}let ho=(()=>{class _ extends xi{constructor(){super("facebook.com")}static credential(g){return Dr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(b){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),fo=(()=>{class _ extends xi{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return Dr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:S}=g;if(!b&&!S)return null;try{return _.credential(b,S)}catch(R){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Sc=(()=>{class _ extends xi{constructor(){super("github.com")}static credential(g){return Dr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(b){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class bi extends Bt{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return wn(f,this.buildRequest())}_linkToIdToken(f,g){const b=this.buildRequest();return b.idToken=g,wn(f,b)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,wn(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:S,pendingToken:R}=g;return b&&S&&R&&b===S?new bi(b,R):null}static _create(f,g){return new bi(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Sr extends rs{constructor(f){re(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Sr.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Sr.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=bi.fromJSON(f);return re(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:b}=f;if(!g||!b)return null;try{return bi._create(b,g)}catch(S){return null}}}let Ri=(()=>{class _ extends xi{constructor(){super("twitter.com")}static credential(g,b){return Dr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:S}=g;if(!b||!S)return null;try{return _.credential(b,S)}catch(R){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Ac(_,f){return qn.apply(this,arguments)}function qn(){return(qn=(0,c.Z)(function*(_,f){return si(_,"POST","/v1/accounts:signUp",Nt(_,f))})).apply(this,arguments)}class ui{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,b,S=!1){return(0,c.Z)(function*(){const R=yield We._fromIdTokenResponse(f,b,S),$=Mc(b);return new ui({user:R,providerId:$,_tokenResponse:b,operationType:g})})()}static _forOperation(f,g,b){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const S=Mc(b);return new ui({user:f,providerId:S,_tokenResponse:b,operationType:g})})()}}function Mc(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Pa(){return(Pa=(0,c.Z)(function*(_){var f;const g=Re(_);if(yield g._initializationPromise,null===(f=g.currentUser)||void 0===f?void 0:f.isAnonymous)return new ui({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield Ac(g,{returnSecureToken:!0}),S=yield ui._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class Na extends P.ZR{constructor(f,g,b,S){var R;super(g.code,g.message),this.operationType=b,this.user=S,Object.setPrototypeOf(this,Na.prototype),this.customData={appName:f.name,tenantId:null!==(R=f.tenantId)&&void 0!==R?R:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,g,b,S){return new Na(f,g,b,S)}}function Fa(_,f,g,b){return("reauthenticate"===f?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?Na._fromErrorAndOperation(_,R,f,b):R})}function _l(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function yl(){return(yl=(0,c.Z)(function*(_,f){const g=(0,P.m9)(_);yield ss(!0,g,f);const{providerUserInfo:b}=yield sn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),S=_l(b||[]);return g.providerData=g.providerData.filter(R=>S.has(R.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function qt(_,f){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,c.Z)(function*(_,f,g=!1){const b=yield Jn(_,f._linkToIdToken(_.auth,yield _.getIdToken()),g);return ui._forOperation(_,"link",b)})).apply(this,arguments)}function ss(_,f,g){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,c.Z)(function*(_,f,g){yield oi(f);const S=!1===_?"provider-already-linked":"no-such-provider";re(_l(f.providerData).has(g)===_,f.auth,S)})).apply(this,arguments)}function La(_,f){return jo.apply(this,arguments)}function jo(){return(jo=(0,c.Z)(function*(_,f,g=!1){const{auth:b}=_,S="reauthenticate";try{const R=yield Jn(_,Fa(b,S,f,_),g);re(R.idToken,b,"internal-error");const $=Qe(R.idToken);re($,b,"internal-error");const{sub:he}=$;return re(_.uid===he,b,"user-mismatch"),ui._forOperation(_,S,R)}catch(R){throw"auth/user-not-found"===(null==R?void 0:R.code)&&ce(b,"user-mismatch"),R}})).apply(this,arguments)}function Ms(_,f){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,c.Z)(function*(_,f,g=!1){const b="signIn",S=yield Fa(_,b,f),R=yield ui._fromIdTokenResponse(_,b,S);return g||(yield _._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Ba(_,f){return ln.apply(this,arguments)}function ln(){return(ln=(0,c.Z)(function*(_,f){return Ms(Re(_),f)})).apply(this,arguments)}function Ar(_,f){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,c.Z)(function*(_,f){const g=(0,P.m9)(_);return yield ss(!1,g,f.providerId),qt(g,f)})).apply(this,arguments)}function po(_,f){return cr.apply(this,arguments)}function cr(){return(cr=(0,c.Z)(function*(_,f){return La((0,P.m9)(_),f)})).apply(this,arguments)}function vl(_,f){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,c.Z)(function*(_,f){return si(_,"POST","/v1/accounts:signInWithCustomToken",Nt(_,f))})).apply(this,arguments)}function as(){return(as=(0,c.Z)(function*(_,f){const g=Re(_),b=yield vl(g,{token:f,returnSecureToken:!0}),S=yield ui._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class nt{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?zo._fromServerResponse(f,g):ce(f,"internal-error")}}class zo extends nt{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new zo(g)}}function Go(_,f,g){var b;re((null===(b=g.url)||void 0===b?void 0:b.length)>0,_,"invalid-continue-uri"),re(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(re(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(re(g.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function $o(){return($o=(0,c.Z)(function*(_,f,g){const b=(0,P.m9)(_),S={requestType:"PASSWORD_RESET",email:f};g&&Go(b,S,g),yield Cc(b,S)})).apply(this,arguments)}function Wo(){return(Wo=(0,c.Z)(function*(_,f,g){yield Ds((0,P.m9)(_),{oobCode:f,newPassword:g})})).apply(this,arguments)}function De(){return(De=(0,c.Z)(function*(_,f){yield Is((0,P.m9)(_),{oobCode:f})})).apply(this,arguments)}function wt(_,f){return qo.apply(this,arguments)}function qo(){return(qo=(0,c.Z)(function*(_,f){const g=(0,P.m9)(_),b=yield Ds(g,{oobCode:f}),S=b.requestType;switch(re(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":re(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":re(b.mfaInfo,g,"internal-error");default:re(b.email,g,"internal-error")}let R=null;return b.mfaInfo&&(R=nt._fromServerResponse(Re(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:R},operation:S}})).apply(this,arguments)}function ls(){return(ls=(0,c.Z)(function*(_,f){const{data:g}=yield wt((0,P.m9)(_),f);return g.email})).apply(this,arguments)}function di(){return(di=(0,c.Z)(function*(_,f,g){const b=Re(_),S=yield Ac(b,{returnSecureToken:!0,email:f,password:g}),R=yield ui._fromIdTokenResponse(b,"signIn",S);return yield b._updateCurrentUser(R.user),R})).apply(this,arguments)}function Rc(){return(Rc=(0,c.Z)(function*(_,f,g){const b=(0,P.m9)(_),S={requestType:"EMAIL_SIGNIN",email:f};re(g.handleCodeInApp,b,"argument-error"),g&&Go(b,S,g),yield vi(b,S)})).apply(this,arguments)}function go(){return(go=(0,c.Z)(function*(_,f,g){const b=(0,P.m9)(_),S=Uo.credentialWithLink(f,g||dt());return re(S._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Ba(b,S)})).apply(this,arguments)}function Tn(_,f){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,c.Z)(function*(_,f){return Tt(_,"POST","/v1/accounts:createAuthUri",Nt(_,f))})).apply(this,arguments)}function ur(){return(ur=(0,c.Z)(function*(_,f){const b={identifier:f,continueUri:Ot()?dt():"http://localhost"},{signinMethods:S}=yield Tn((0,P.m9)(_),b);return S||[]})).apply(this,arguments)}function Ko(){return(Ko=(0,c.Z)(function*(_,f){const g=(0,P.m9)(_),S={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&Go(g.auth,S,f);const{email:R}=yield Nn(g.auth,S);R!==_.email&&(yield _.reload())})).apply(this,arguments)}function Qo(){return(Qo=(0,c.Z)(function*(_,f,g){const b=(0,P.m9)(_),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};g&&Go(b.auth,R,g);const{email:$}=yield ml(b.auth,R);$!==_.email&&(yield _.reload())})).apply(this,arguments)}function Nc(_,f){return ks.apply(this,arguments)}function ks(){return(ks=(0,c.Z)(function*(_,f){return Tt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Xo(){return(Xo=(0,c.Z)(function*(_,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const b=(0,P.m9)(_),R={idToken:yield b.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},$=yield Jn(b,Nc(b.auth,R));b.displayName=$.displayName||null,b.photoURL=$.photoUrl||null;const he=b.providerData.find(({providerId:Le})=>"password"===Le);he&&(he.displayName=b.displayName,he.photoURL=b.photoURL),yield b._updateTokensIfNecessary($)})).apply(this,arguments)}function Ua(_,f,g){return xs.apply(this,arguments)}function xs(){return(xs=(0,c.Z)(function*(_,f,g){const{auth:b}=_,R={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(R.email=f),g&&(R.password=g);const $=yield Jn(_,gt(b,R));yield _._updateTokensIfNecessary($,!0)})).apply(this,arguments)}class Rs{constructor(f,g,b={}){this.isNewUser=f,this.providerId=g,this.profile=b}}class Fc extends Rs{constructor(f,g,b,S){super(f,g,b),this.username=S}}class Zu extends Rs{constructor(f,g){super(f,"facebook.com",g)}}class mo extends Fc{constructor(f,g){super(f,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class dr extends Rs{constructor(f,g){super(f,"google.com",g)}}class Yu extends Fc{constructor(f,g,b){super(f,"twitter.com",g,b)}}function Bn(_){const{user:f,_tokenResponse:g}=_;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Il(_){var f,g;if(!_)return null;const{providerId:b}=_,S=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},R=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!b&&(null==_?void 0:_.idToken)){const $=null===(g=null===(f=Qe(_.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if($)return new Rs(R,"anonymous"!==$&&"custom"!==$?$:null)}if(!b)return null;switch(b){case"facebook.com":return new Zu(R,S);case"github.com":return new mo(R,S);case"google.com":return new dr(R,S);case"twitter.com":return new Yu(R,S,_.screenName||null);case"custom":case"anonymous":return new Rs(R,null);default:return new Rs(R,b,S)}}(g)}class xr{constructor(f,g){this.type=f,this.credential=g}static _fromIdtoken(f){return new xr("enroll",f)}static _fromMfaPendingCredential(f){return new xr("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,b;if(null==f?void 0:f.multiFactorSession){if(null===(g=f.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return xr._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(b=f.multiFactorSession)||void 0===b?void 0:b.idToken)return xr._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Jo{constructor(f,g,b){this.session=f,this.hints=g,this.signInResolver=b}static _fromError(f,g){const b=Re(f),S=g.customData._serverResponse,R=(S.mfaInfo||[]).map(he=>nt._fromServerResponse(b,he));re(S.mfaPendingCredential,b,"internal-error");const $=xr._fromMfaPendingCredential(S.mfaPendingCredential);return new Jo($,R,function(){var he=(0,c.Z)(function*(Le){const qe=yield Le._process(b,$);delete S.mfaInfo,delete S.mfaPendingCredential;const ut=Object.assign(Object.assign({},S),{idToken:qe.idToken,refreshToken:qe.refreshToken});switch(g.operationType){case"signIn":const Xe=yield ui._fromIdTokenResponse(b,g.operationType,ut);return yield b._updateCurrentUser(Xe.user),Xe;case"reauthenticate":return re(g.user,b,"internal-error"),ui._forOperation(g.user,g.operationType,ut);default:ce(b,"internal-error")}});return function(Le){return he.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,c.Z)(function*(){return g.signInResolver(f)})()}}function Ha(_,f){return Tt(_,"POST","/v2/accounts/mfaEnrollment:start",Nt(_,f))}class Rr{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>nt._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new Rr(f)}getSession(){var f=this;return(0,c.Z)(function*(){return xr._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,g){var b=this;return(0,c.Z)(function*(){const S=f,R=yield b.getSession(),$=yield Jn(b.user,S._process(b.user.auth,R,g));return yield b.user._updateTokensIfNecessary($),b.user.reload()})()}unenroll(f){var g=this;return(0,c.Z)(function*(){const b="string"==typeof f?f:f.uid,S=yield g.user.getIdToken(),R=yield Jn(g.user,function Qu(_,f){return Tt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Nt(_,f))}(g.user.auth,{idToken:S,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:$})=>$!==b),yield g.user._updateTokensIfNecessary(R);try{yield g.user.reload()}catch($){if("auth/user-token-expired"!==$.code)throw $}})()}}const _o=new WeakMap,ea="__sak";class cs{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(ea,"1"),this.storage.removeItem(ea),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Or=(()=>{class _ extends cs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ta(){const _=(0,P.z$)();return ka(_)||_i(_)}()&&function Wn(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=ts(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const S=this.storage.getItem(b),R=this.localCache[b];S!==R&&g(b,R,S)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((he,Le,qe)=>{this.notifyListeners(he,qe)});const S=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const he=this.storage.getItem(S);if(g.newValue!==he)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!b)return}const R=()=>{const he=this.storage.getItem(S);!b&&this.localCache[S]===he||this.notifyListeners(S,he)},$=this.storage.getItem(S);!function Bo(){return(0,P.w1)()&&10===document.documentMode}()||$===g.newValue||g.newValue===g.oldValue?R():setTimeout(R,10)}notifyListeners(g,b){this.localCache[g]=b;const S=this.listeners[g];if(S)for(const R of Array.from(S))R(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var S=()=>super._set,R=this;return(0,c.Z)(function*(){yield S().call(R,g,b),R.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,S=this;return(0,c.Z)(function*(){const R=yield b().call(S,g);return S.localCache[g]=JSON.stringify(R),R})()}_remove(g){var b=()=>super._remove,S=this;return(0,c.Z)(function*(){yield b().call(S,g),delete S.localCache[g]})()}}return _.type="LOCAL",_})(),st=(()=>{class _ extends cs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return _.type="SESSION",_})();let Un=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(R=>R.isListeningto(g));if(b)return b;const S=new _(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,c.Z)(function*(){const S=g,{eventId:R,eventType:$,data:he}=S.data,Le=b.handlersMap[$];if(!(null==Le?void 0:Le.size))return;S.ports[0].postMessage({status:"ack",eventId:R,eventType:$});const qe=Array.from(Le).map(function(){var Xe=(0,c.Z)(function*(fn){return fn(S.origin,he)});return function(fn){return Xe.apply(this,arguments)}}()),ut=yield function hi(_){return Promise.all(_.map(function(){var f=(0,c.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return f.apply(this,arguments)}}()))}(qe);S.ports[0].postMessage({status:"done",eventId:R,eventType:$,response:ut})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Os(_="",f=10){let g="";for(let b=0;b<f;b++)g+=Math.floor(10*Math.random());return _+g}class Vc{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,b=50){var S=this;return(0,c.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let $,he;return new Promise((Le,qe)=>{const ut=Os("",20);R.port1.start();const Xe=setTimeout(()=>{qe(new Error("unsupported_event"))},b);he={messageChannel:R,onMessage(fn){const gr=fn;if(gr.data.eventId===ut)switch(gr.data.status){case"ack":clearTimeout(Xe),$=setTimeout(()=>{qe(new Error("timeout"))},3e3);break;case"done":clearTimeout($),Le(gr.data.response);break;default:clearTimeout(Xe),clearTimeout($),qe(new Error("invalid_response"))}}},S.handlers.add(he),R.port1.addEventListener("message",he.onMessage),S.target.postMessage({eventType:f,eventId:ut,data:g},[R.port2])}).finally(()=>{he&&S.removeMessageHandler(he)})})()}}function Kt(){return window}function Pr(){return void 0!==Kt().WorkerGlobalScope&&"function"==typeof Kt().importScripts}function Oi(){return(Oi=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const Ml="firebaseLocalStorageDb",ia="firebaseLocalStorage",Ht="fbase_key";class Ps{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Nr(_,f){return _.transaction([ia],f?"readwrite":"readonly").objectStore(ia)}function ti(){const _=indexedDB.open(Ml,1);return new Promise((f,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const b=_.result;try{b.createObjectStore(ia,{keyPath:Ht})}catch(S){g(S)}}),_.addEventListener("success",(0,c.Z)(function*(){const b=_.result;b.objectStoreNames.contains(ia)?f(b):(b.close(),yield function ja(){const _=indexedDB.deleteDatabase(Ml);return new Ps(_).toPromise()}(),f(yield ti()))}))})}function Pi(_,f,g){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,c.Z)(function*(_,f,g){const b=Nr(_,!0).put({[Ht]:f,value:g});return new Ps(b).toPromise()})).apply(this,arguments)}function us(){return(us=(0,c.Z)(function*(_,f){const g=Nr(_,!1).get(f),b=yield new Ps(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Ns(_,f){const g=Nr(_,!0).delete(f);return new Ps(g).toPromise()}const Ei=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.Z)(function*(){return g.db||(g.db=yield ti()),g.db})()}_withRetries(g){var b=this;return(0,c.Z)(function*(){let S=0;for(;;)try{const R=yield b._openDb();return yield g(R)}catch(R){if(S++>3)throw R;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.Z)(function*(){return Pr()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.Z)(function*(){g.receiver=Un._getInstance(function Uc(){return Pr()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,c.Z)(function*(S,R){return{keyProcessed:(yield g._poll()).includes(R.key)}});return function(S,R){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,c.Z)(function*(S,R){return["keyChanged"]});return function(S,R){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.Z)(function*(){var b,S;if(g.activeServiceWorker=yield function na(){return Oi.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Vc(g.activeServiceWorker);const R=yield g.sender._send("ping",{},800);!R||(null===(b=R[0])||void 0===b?void 0:b.fulfilled)&&(null===(S=R[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,c.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function it(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const g=yield ti();return yield Pi(g,ea,"1"),yield Ns(g,ea),!0}catch(g){}return!1})()}_withPendingWrite(g){var b=this;return(0,c.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var S=this;return(0,c.Z)(function*(){return S._withPendingWrite((0,c.Z)(function*(){return yield S._withRetries(R=>Pi(R,g,b)),S.localCache[g]=b,S.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,c.Z)(function*(){const S=yield b._withRetries(R=>function ra(_,f){return us.apply(this,arguments)}(R,g));return b.localCache[g]=S,S})()}_remove(g){var b=this;return(0,c.Z)(function*(){return b._withPendingWrite((0,c.Z)(function*(){return yield b._withRetries(S=>Ns(S,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.Z)(function*(){const b=yield g._withRetries($=>{const he=Nr($,!1).getAll();return new Ps(he).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const S=[],R=new Set;for(const{fbase_key:$,value:he}of b)R.add($),JSON.stringify(g.localCache[$])!==JSON.stringify(he)&&(g.notifyListeners($,he),S.push($));for(const $ of Object.keys(g.localCache))g.localCache[$]&&!R.has($)&&(g.notifyListeners($,null),S.push($));return S})()}notifyListeners(g,b){this.localCache[g]=b;const S=this.listeners[g];if(S)for(const R of Array.from(S))R(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Fs(_,f){return Tt(_,"POST","/v2/accounts/mfaSignIn:start",Nt(_,f))}function Br(){return(Br=(0,c.Z)(function*(_){return(yield Tt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function dn(_){return new Promise((f,g)=>{const b=document.createElement("script");b.setAttribute("src",_),b.onload=f,b.onerror=S=>{const R=me("internal-error");R.customData=S,g(R)},b.type="text/javascript",b.charset="UTF-8",function za(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(b)})}function _n(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Fi=1e12;class yn{constructor(f){this.auth=f,this.counter=Fi,this._widgets=new Map}render(f,g){const b=this.counter;return this._widgets.set(b,new hr(f,this.auth.name,g||{})),this.counter++,b}reset(f){var g;const b=f||Fi;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(f){var g;return(null===(g=this._widgets.get(f||Fi))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,c.Z)(function*(){var b;return null===(b=g._widgets.get(f||Fi))||void 0===b||b.execute(),""})()}}class hr{constructor(f,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof f?document.getElementById(f):f;re(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function tn(_){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<_;b++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ls=_n("rcb"),oa=new rn(3e4,6e4);class sf{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Kt().grecaptcha}load(f,g=""){return re(function af(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Kt().grecaptcha):new Promise((b,S)=>{const R=Kt().setTimeout(()=>{S(me(f,"network-request-failed"))},oa.get());Kt()[Ls]=()=>{Kt().clearTimeout(R),delete Kt()[Ls];const he=Kt().grecaptcha;if(!he)return void S(me(f,"internal-error"));const Le=he.render;he.render=(qe,ut)=>{const Xe=Le(qe,ut);return this.counter++,Xe},this.hostLanguage=g,b(he)},dn(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:Ls,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(R),S(me(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!Kt().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class bg{load(f){return(0,c.Z)(function*(){return new yn(f)})()}clearedOneInstance(){}}const Bs="recaptcha",An={theme:"light",type:"image"};class Hc{constructor(f,g=Object.assign({},An),b){this.parameters=g,this.type=Bs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Re(b),this.isInvisible="invisible"===this.parameters.size,re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof f?document.getElementById(f):f;re(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new bg:new sf,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(g)||new Promise(R=>{const $=he=>{!he||(f.tokenChangeListeners.delete($),R(he))};f.tokenChangeListeners.add($),f.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){re(!this.parameters.sitekey,this.auth,"argument-error"),re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof f)f(g);else if("string"==typeof f){const b=Kt()[f];"function"==typeof b&&b(g)}}}assertNotDestroyed(){re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){re(Ot()&&!Pr(),f.auth,"internal-error"),yield function hs(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function un(_){return Br.apply(this,arguments)}(f.auth);re(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Vr{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=uo._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function nn(){return(nn=(0,c.Z)(function*(_,f,g){const b=Re(_),S=yield ni(b,f,(0,P.m9)(g));return new Vr(S,R=>Ba(b,R))})).apply(this,arguments)}function Vs(){return(Vs=(0,c.Z)(function*(_,f,g){const b=(0,P.m9)(_);yield ss(!1,b,"phone");const S=yield ni(b.auth,f,(0,P.m9)(g));return new Vr(S,R=>Ar(b,R))})).apply(this,arguments)}function Rl(){return(Rl=(0,c.Z)(function*(_,f,g){const b=(0,P.m9)(_),S=yield ni(b.auth,f,(0,P.m9)(g));return new Vr(S,R=>po(b,R))})).apply(this,arguments)}function ni(_,f,g){return Li.apply(this,arguments)}function Li(){return(Li=(0,c.Z)(function*(_,f,g){var b;const S=yield g.verify();try{let R;if(re("string"==typeof S,_,"argument-error"),re(g.type===Bs,_,"argument-error"),R="string"==typeof f?{phoneNumber:f}:f,"session"in R){const $=R.session;if("phoneNumber"in R)return re("enroll"===$.type,_,"internal-error"),(yield Ha(_,{idToken:$.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{re("signin"===$.type,_,"internal-error");const he=(null===(b=R.multiFactorHint)||void 0===b?void 0:b.uid)||R.multiFactorUid;return re(he,_,"missing-multi-factor-info"),(yield Fs(_,{mfaPendingCredential:$.credential,mfaEnrollmentId:he,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$}=yield Yh(_,{phoneNumber:R.phoneNumber,recaptchaToken:S});return $}}finally{g._reset()}})).apply(this,arguments)}function Us(){return(Us=(0,c.Z)(function*(_,f){yield qt((0,P.m9)(_),f)})).apply(this,arguments)}let Yi=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=Re(g)}verifyPhoneNumber(g,b){return ni(this.auth,g,(0,P.m9)(b))}static credential(g,b){return uo._fromVerification(g,b)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:S}=g;return b&&S?uo._fromTokenResponse(b,S):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function fr(_,f){return f?oe(f):(re(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class aa extends Bt{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return wn(f,this._buildIdpRequest())}_linkToIdToken(f,g){return wn(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return wn(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function Pl(_){return Ms(_.auth,new aa(_),_.bypassAuthState)}function Nl(_){const{auth:f,user:g}=_;return re(g,f,"internal-error"),La(g,new aa(_),_.bypassAuthState)}function bt(_){return vo.apply(this,arguments)}function vo(){return(vo=(0,c.Z)(function*(_){const{auth:f,user:g}=_;return re(g,f,"internal-error"),qt(g,new aa(_),_.bypassAuthState)})).apply(this,arguments)}class Mn{constructor(f,g,b,S,R=!1){this.auth=f,this.resolver=b,this.user=S,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,c.Z)(function*(b,S){f.pendingPromise={resolve:b,reject:S};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(R){f.reject(R)}});return function(b,S){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,c.Z)(function*(){const{urlResponse:b,sessionId:S,postBody:R,tenantId:$,error:he,type:Le}=f;if(he)return void g.reject(he);const qe={auth:g.auth,requestUri:b,sessionId:S,tenantId:$||void 0,postBody:R||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Le)(qe))}catch(ut){g.reject(ut)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Pl;case"linkViaPopup":case"linkViaRedirect":return bt;case"reauthViaPopup":case"reauthViaRedirect":return Nl;default:ce(this.auth,"internal-error")}}resolve(f){se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Fl=new rn(2e3,1e4);function jc(){return(jc=(0,c.Z)(function*(_,f,g){const b=Re(_);Ue(_,f,rs);const S=fr(b,g);return new Wa(b,"signInViaPopup",f,S).executeNotNull()})).apply(this,arguments)}function fs(){return(fs=(0,c.Z)(function*(_,f,g){const b=(0,P.m9)(_);Ue(b.auth,f,rs);const S=fr(b.auth,g);return new Wa(b.auth,"reauthViaPopup",f,S,b).executeNotNull()})).apply(this,arguments)}function $a(){return($a=(0,c.Z)(function*(_,f,g){const b=(0,P.m9)(_);Ue(b.auth,f,rs);const S=fr(b.auth,g);return new Wa(b.auth,"linkViaPopup",f,S,b).executeNotNull()})).apply(this,arguments)}let Wa=(()=>{class _ extends Mn{constructor(g,b,S,R,$){super(g,b,R,$),this.provider=S,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.Z)(function*(){const b=yield g.execute();return re(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,c.Z)(function*(){se(1===g.filter.length,"Popup operations only handle one event");const b=Os();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(me(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,S;this.pollId=(null===(S=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(me(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Fl.get())};g()}}return _.currentPopupAction=null,_})();const qa=new Map;class Yt extends Mn{constructor(f,g,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,c.Z)(function*(){let b=qa.get(g.auth._key());if(!b){try{const R=(yield function Bi(_,f){return Xu.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;b=()=>Promise.resolve(R)}catch(S){b=()=>Promise.reject(S)}qa.set(g.auth._key(),b)}return g.bypassAuthState||qa.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,b=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(b,f);if("unknown"!==f.type){if(f.eventId){const S=yield b.auth._redirectUserForId(f.eventId);if(S)return b.user=S,g().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Xu(){return(Xu=(0,c.Z)(function*(_,f){const g=w(f),b=Ju(_);if(!(yield b._isAvailable()))return!1;const S="true"===(yield b._get(g));return yield b._remove(g),S})).apply(this,arguments)}function gs(_,f){return bo.apply(this,arguments)}function bo(){return(bo=(0,c.Z)(function*(_,f){return Ju(_)._set(w(f),"true")})).apply(this,arguments)}function Ju(_){return oe(_._redirectPersistence)}function w(_){return Lt("pendingRedirect",_.config.apiKey,_.name)}function L(){return(L=(0,c.Z)(function*(_,f,g){const b=Re(_);Ue(_,f,rs);const S=fr(b,g);return yield gs(S,b),S._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function pe(){return(pe=(0,c.Z)(function*(_,f,g){const b=(0,P.m9)(_);Ue(b.auth,f,rs);const S=fr(b.auth,g);yield gs(S,b.auth);const R=yield ms(b);return S._openRedirect(b.auth,f,"reauthViaRedirect",R)})).apply(this,arguments)}function mt(){return(mt=(0,c.Z)(function*(_,f,g){const b=(0,P.m9)(_);Ue(b.auth,f,rs);const S=fr(b.auth,g);yield ss(!1,b,f.providerId),yield gs(S,b.auth);const R=yield ms(b);return S._openRedirect(b.auth,f,"linkViaRedirect",R)})).apply(this,arguments)}function vn(){return(vn=(0,c.Z)(function*(_,f){return yield Re(_)._initializationPromise,Yn(_,f,!1)})).apply(this,arguments)}function Yn(_,f){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,c.Z)(function*(_,f,g=!1){const b=Re(_),S=fr(b,f),$=yield new Yt(b,S,g).execute();return $&&!g&&(delete $.user._redirectEventId,yield b._persistUserIfCurrent($.user),yield b._setRedirectUser(null,f)),$})).apply(this,arguments)}function ms(_){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,c.Z)(function*(_){const f=Os(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Ui{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(g=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Ll(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ca(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var b;if(f.error&&!ca(f)){const S=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(me(this.auth,S))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const b=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qi(f))}saveEventToCache(f){this.cachedEventUids.add(Qi(f)),this.lastProcessedEventTime=Date.now()}}function Qi(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function ca({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Bl(_){return ua.apply(this,arguments)}function ua(){return(ua=(0,c.Z)(function*(_,f={}){return Tt(_,"GET","/v1/projects",f)})).apply(this,arguments)}const lf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Eg=/^https?/;function Ur(){return(Ur=(0,c.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield Bl(_);for(const g of f)try{if(Vl(g))return}catch(b){}ce(_,"unauthorized-domain")})).apply(this,arguments)}function Vl(_){const f=dt(),{protocol:g,hostname:b}=new URL(f);if(_.startsWith("chrome-extension://")){const $=new URL(_);return""===$.hostname&&""===b?"chrome-extension:"===g&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&$.hostname===b}if(!Eg.test(g))return!1;if(lf.test(_))return b===_;const S=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(b)}const Dg=new rn(3e4,6e4);function Ig(){const _=Kt().___jsl;if(null==_?void 0:_.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Gc=null;function Sg(_){return Gc=Gc||function cf(_){return new Promise((f,g)=>{var b,S,R;function $(){Ig(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Ig(),g(me(_,"network-request-failed"))},timeout:Dg.get()})}if(null===(S=null===(b=Kt().gapi)||void 0===b?void 0:b.iframes)||void 0===S?void 0:S.Iframe)f(gapi.iframes.getContext());else{if(!(null===(R=Kt().gapi)||void 0===R?void 0:R.load)){const he=_n("iframefcb");return Kt()[he]=()=>{gapi.load?$():g(me(_,"network-request-failed"))},dn(`https://apis.google.com/js/api.js?onload=${he}`).catch(Le=>g(Le))}$()}}).catch(f=>{throw Gc=null,f})}(_),Gc}const ed=new rn(5e3,15e3),zs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$c=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function da(_){const f=_.config;re(f.authDomain,_,"auth-domain-config-required");const g=f.emulator?Pt(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,b={apiKey:f.apiKey,appName:_.name,v:ue.SDK_VERSION},S=$c.get(_.config.apiHost);S&&(b.eid=S);const R=_._getFrameworks();return R.length&&(b.fw=R.join(",")),`${g}?${(0,P.xO)(b).slice(1)}`}function Gs(){return Gs=(0,c.Z)(function*(_){const f=yield Sg(_),g=Kt().gapi;return re(g,_,"internal-error"),f.open({where:document.body,url:da(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zs,dontclear:!0},b=>new Promise(function(){var S=(0,c.Z)(function*(R,$){yield b.restyle({setHideOnLeave:!1});const he=me(_,"network-request-failed"),Le=Kt().setTimeout(()=>{$(he)},ed.get());function qe(){Kt().clearTimeout(Le),R(b)}b.ping(qe).then(qe,()=>{$(he)})});return function(R,$){return S.apply(this,arguments)}}()))}),Gs.apply(this,arguments)}const Ag={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Zc{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function rd(_,f,g,b,S,R){re(_.config.authDomain,_,"auth-domain-config-required"),re(_.config.apiKey,_,"invalid-api-key");const $={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:b,v:ue.SDK_VERSION,eventId:S};if(f instanceof rs){f.setDefaultLanguage(_.languageCode),$.providerId=f.providerId||"",(0,P.xb)(f.getCustomParameters())||($.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Le,qe]of Object.entries(R||{}))$[Le]=qe}if(f instanceof xi){const Le=f.getScopes().filter(qe=>""!==qe);Le.length>0&&($.scopes=Le.join(","))}_.tenantId&&($.tid=_.tenantId);const he=$;for(const Le of Object.keys(he))void 0===he[Le]&&delete he[Le];return`${function kg({config:_}){return _.emulator?Pt(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,P.xO)(he).slice(1)}`}const Hr="webStorageSupport";class Yc extends class sd{constructor(f){this.factorId=f}_process(f,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,b);case"signin":return this._finalizeSignIn(f,g.credential);default:return Y("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Yc(f)}_finalizeEnroll(f,g,b){return function Vn(_,f){return Tt(_,"POST","/v2/accounts/mfaEnrollment:finalize",Nt(_,f))}(f,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function Ni(_,f){return Tt(_,"POST","/v2/accounts/mfaSignIn:finalize",Nt(_,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let uf=(()=>{class _{constructor(){}static assertion(g){return Yc._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var df="@firebase/auth";class hf{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,c.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(b=>{var S;f((null===(S=b)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function _s(){return window}function fa(){return(fa=(0,c.Z)(function*(_,f,g){var b;const{BuildInfo:S}=_s();se(f.sessionId,"AuthEvent did not contain a session ID");const R=yield pa(f.sessionId),$={};return _i()?$.ibi=S.packageName:ai()?$.apn=S.packageName:ce(_,"operation-not-supported-in-this-environment"),S.displayName&&($.appDisplayName=S.displayName),$.sessionId=R,rd(_,g,f.type,void 0,null!==(b=f.eventId)&&void 0!==b?b:void 0,$)})).apply(this,arguments)}function Xi(){return(Xi=(0,c.Z)(function*(_){const{BuildInfo:f}=_s(),g={};_i()?g.iosBundleId=f.packageName:ai()?g.androidPackageName=f.packageName:ce(_,"operation-not-supported-in-this-environment"),yield Bl(_,g)})).apply(this,arguments)}function Qc(){return(Qc=(0,c.Z)(function*(_,f,g){const{cordova:b}=_s();let S=()=>{};try{yield new Promise((R,$)=>{let he=null;function Le(){var Xe;R();const fn=null===(Xe=b.plugins.browsertab)||void 0===Xe?void 0:Xe.close;"function"==typeof fn&&fn(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function qe(){he||(he=window.setTimeout(()=>{$(me(_,"redirect-cancelled-by-user"))},2e3))}function ut(){"visible"===(null==document?void 0:document.visibilityState)&&qe()}f.addPassiveListener(Le),document.addEventListener("resume",qe,!1),ai()&&document.addEventListener("visibilitychange",ut,!1),S=()=>{f.removePassiveListener(Le),document.removeEventListener("resume",qe,!1),document.removeEventListener("visibilitychange",ut,!1),he&&window.clearTimeout(he)}})}finally{S()}})).apply(this,arguments)}function pa(_){return pf.apply(this,arguments)}function pf(){return(pf=(0,c.Z)(function*(_){const f=Ya(_),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ya(_){if(se(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),g=new Uint8Array(f);for(let b=0;b<_.length;b++)g[b]=_.charCodeAt(b);return g}!function Rg(_){(0,ue._registerComponent)(new J.wA("auth",(f,{options:g})=>{const b=f.getProvider("app").getImmediate(),{apiKey:S,authDomain:R}=b.options;return($=>{re(S&&!S.includes(":"),"invalid-api-key",{appName:$.name}),re(!(null==R?void 0:R.includes(":")),"argument-error",{appName:$.name});const he={apiKey:S,authDomain:R,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:so(_)},Le=new yi($,he);return function fe(_,f){const g=(null==f?void 0:f.persistence)||[],b=(Array.isArray(g)?g:[g]).map(oe);(null==f?void 0:f.errorMap)&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(b,null==f?void 0:f.popupRedirectResolver)}(Le,g),Le})(b)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,b)=>{f.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new J.wA("auth-internal",f=>{const g=Re(f.getProvider("auth").getImmediate());return new hf(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(df,"0.19.9",function xg(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,ue.registerVersion)(df,"0.19.9","esm2017")}("Browser");class cd extends Ui{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,c.Z)(function*(){yield f.initPromise})()}}function jl(_){return Co.apply(this,arguments)}function Co(){return(Co=(0,c.Z)(function*(_){const f=yield Ka()._get(dd(_));return f&&(yield Ka()._remove(dd(_))),f})).apply(this,arguments)}function zl(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const b=Math.floor(Math.random()*f.length);_.push(f.charAt(b))}return _.join("")}function Ka(){return oe(Or)}function dd(_){return Lt("authEvent",_.config.apiKey,_.name)}function $l(_){if(!(null==_?void 0:_.includes("?")))return{};const[f,...g]=_.split("?");return(0,P.zd)(g.join("?"))}function gd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:me("no-auth-event")}}function Jc(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function mf(_=(0,P.z$)()){return!("file:"!==Jc()&&"ionic:"!==Jc()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function ii(){try{const _=self.localStorage,f=Os();if(_)return _.setItem(f,"1"),_.removeItem(f),!function Eo(_=(0,P.z$)()){return function Lg(){return(0,P.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Bg(_=(0,P.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,P.hl)()}catch(_){return qs()&&(0,P.hl)()}return!1}function qs(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ql(){return(function Fg(){return"http:"===Jc()||"https:"===Jc()}()||(0,P.ru)()||mf())&&!function eu(){return(0,P.b$)()||(0,P.UG)()}()&&ii()&&!qs()}function md(){return mf()&&"undefined"!=typeof document}function ga(){return(ga=(0,c.Z)(function*(){return!!md()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const Ji={LOCAL:"local",NONE:"none",SESSION:"session"},ma=re,yd="persistence";function _a(_){return vd.apply(this,arguments)}function vd(){return(vd=(0,c.Z)(function*(_){yield _._initializationPromise;const f=Zl(),g=Lt(yd,_.config.apiKey,_.name);f&&f.setItem(g,_._getPersistence())})).apply(this,arguments)}function Zl(){var _;try{return(null===(_=function _d(){return"undefined"!=typeof window?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch(f){return null}}const Vg=re;class Hi{constructor(){this.browserResolver=oe(class Ws{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=st,this._completeRedirectFn=Yn}_openPopup(f,g,b,S){var R=this;return(0,c.Z)(function*(){var $;se(null===($=R.eventManagers[f._key()])||void 0===$?void 0:$.manager,"_initialize() not called before _openPopup()");const he=rd(f,g,b,dt(),S);return function $s(_,f,g,b=500,S=600){const R=Math.max((window.screen.availHeight-S)/2,0).toString(),$=Math.max((window.screen.availWidth-b)/2,0).toString();let he="";const Le=Object.assign(Object.assign({},Ag),{width:b.toString(),height:S.toString(),top:R,left:$}),qe=(0,P.z$)().toLowerCase();g&&(he=Lo(qe)?"_blank":g),Fo(qe)&&(f=f||"http://localhost",Le.scrollbars="yes");const ut=Object.entries(Le).reduce((fn,[gr,Kl])=>`${fn}${gr}=${Kl},`,"");if(function ws(_=(0,P.z$)()){var f;return _i(_)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(qe)&&"_self"!==he)return function id(_,f){const g=document.createElement("a");g.href=_,g.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(f||"",he),new Zc(null);const Xe=window.open(f||"",he,ut);re(Xe,_,"popup-blocked");try{Xe.focus()}catch(fn){}return new Zc(Xe)}(f,he,Os())})()}_openRedirect(f,g,b,S){var R=this;return(0,c.Z)(function*(){return yield R._originValidation(f),function Al(_){Kt().location.href=_}(rd(f,g,b,dt(),S)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:S,promise:R}=this.eventManagers[g];return S?Promise.resolve(S):(se(R,"If manager is not set, promise should be"),R)}const b=this.initAndGetManager(f);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(f){var g=this;return(0,c.Z)(function*(){const b=yield function Tg(_){return Gs.apply(this,arguments)}(f),S=new Ui(f);return b.register("authEvent",R=>(re(null==R?void 0:R.authEvent,f,"invalid-auth-event"),{status:S.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:S},g.iframes[f._key()]=b,S})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Hr,{type:Hr},S=>{var R;const $=null===(R=null==S?void 0:S[0])||void 0===R?void 0:R[Hr];void 0!==$&&g(!!$),ce(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function wg(_){return Ur.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return ts()||ka()||_i()}}),this.cordovaResolver=oe(class pd{constructor(){this._redirectPersistence=st,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Yn}_initialize(f){var g=this;return(0,c.Z)(function*(){const b=f._key();let S=g.eventManagers.get(b);return S||(S=new cd(f),g.eventManagers.set(b,S),g.attachCallbackListeners(f,S)),S})()}_openPopup(f){ce(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,b,S){var R=this;return(0,c.Z)(function*(){!function Xc(_){var f,g,b,S,R,$,he,Le,qe,ut;const Xe=_s();re("function"==typeof(null===(f=null==Xe?void 0:Xe.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),re(void 0!==(null===(g=null==Xe?void 0:Xe.BuildInfo)||void 0===g?void 0:g.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),re("function"==typeof(null===(R=null===(S=null===(b=null==Xe?void 0:Xe.cordova)||void 0===b?void 0:b.plugins)||void 0===S?void 0:S.browsertab)||void 0===R?void 0:R.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),re("function"==typeof(null===(Le=null===(he=null===($=null==Xe?void 0:Xe.cordova)||void 0===$?void 0:$.plugins)||void 0===he?void 0:he.browsertab)||void 0===Le?void 0:Le.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),re("function"==typeof(null===(ut=null===(qe=null==Xe?void 0:Xe.cordova)||void 0===qe?void 0:qe.InAppBrowser)||void 0===ut?void 0:ut.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const $=yield R._initialize(f);yield $.initialized(),$.resetRedirect(),function la(){qa.clear()}(),yield R._originValidation(f);const he=function ud(_,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:zl(),postBody:null,tenantId:_.tenantId,error:me(_,"no-auth-event")}}(f,b,S);yield function qy(_,f){return Ka()._set(dd(_),f)}(f,he);const Le=yield function od(_,f,g){return fa.apply(this,arguments)}(f,he,g),qe=yield function Hl(_){const{cordova:f}=_s();return new Promise(g=>{f.plugins.browsertab.isAvailable(b=>{let S=null;b?f.plugins.browsertab.openUrl(_):S=f.InAppBrowser.open(_,function bc(_=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(S)})})}(Le);return function ff(_,f,g){return Qc.apply(this,arguments)}(f,$,qe)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function ad(_){return Xi.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:b,handleOpenURL:S,BuildInfo:R}=_s(),$=setTimeout((0,c.Z)(function*(){yield jl(f),g.onEvent(gd())}),500),he=function(){var ut=(0,c.Z)(function*(Xe){clearTimeout($);const fn=yield jl(f);let gr=null;fn&&(null==Xe?void 0:Xe.url)&&(gr=function Pg(_,f){var g,b;const S=function Gl(_){const f=$l(_),g=f.link?decodeURIComponent(f.link):void 0,b=$l(g).link,S=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return $l(S).link||S||b||g||_}(f);if(S.includes("/__/auth/callback")){const R=$l(S),$=R.firebaseError?function hd(_){try{return JSON.parse(_)}catch(f){return null}}(decodeURIComponent(R.firebaseError)):null,he=null===(b=null===(g=null==$?void 0:$.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],Le=he?me(he):null;return Le?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:S,postBody:null}}return null}(fn,Xe.url)),g.onEvent(gr||gd())});return function(fn){return ut.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,he);const Le=S,qe=`${R.packageName.toLowerCase()}://`;_s().handleOpenURL=function(){var ut=(0,c.Z)(function*(Xe){if(Xe.toLowerCase().startsWith(qe)&&he({url:Xe}),"function"==typeof Le)try{Le(Xe)}catch(fn){console.error(fn)}});return function(Xe){return ut.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=st,this._completeRedirectFn=Yn}_initialize(f){var g=this;return(0,c.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,b,S){var R=this;return(0,c.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(f,g,b,S)})()}_openRedirect(f,g,b,S){var R=this;return(0,c.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(f,g,b,S)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return md()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Vg(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,c.Z)(function*(){if(f.underlyingResolver)return;const g=yield function fi(){return ga.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function vf(_){return _.unwrap()}function ya(_){return bf(_)}function bf(_){const{_tokenResponse:f}=_ instanceof P.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof P.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Yi.credentialFromResult(_);const g=f.providerId;if(!g||"password"===g)return null;let b;switch(g){case"google.com":b=fo;break;case"facebook.com":b=ho;break;case"github.com":b=Sc;break;case"twitter.com":b=Ri;break;default:const{oauthIdToken:S,oauthAccessToken:R,oauthTokenSecret:$,pendingToken:he,nonce:Le}=f;return R||$||S||he?he?g.startsWith("saml.")?bi._create(g,he):Dr._fromParams({providerId:g,signInMethod:g,pendingToken:he,idToken:S,accessToken:R}):new As(g).credential({idToken:S,accessToken:R,rawNonce:Le}):null}return _ instanceof P.ZR?b.credentialFromError(_):b.credentialFromResult(_)}function ri(_,f){return f.catch(g=>{throw g instanceof P.ZR&&function Hg(_,f){var g;const b=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new jg(_,function Tl(_,f){var g;const b=(0,P.m9)(_),S=f;return re(f.customData.operationType,b,"argument-error"),re(null===(g=S.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),Jo._fromError(b,S)}(_,f));else if(b){const S=bf(f),R=f;S&&(R.credential=S,R.tenantId=b.tenantId||void 0,R.email=b.email||void 0,R.phoneNumber=b.phoneNumber||void 0)}}(_,g),g}).then(g=>{const S=g.user;return{operationType:g.operationType,credential:ya(g),additionalUserInfo:Bn(g),user:Zs.getOrCreate(S)}})}function bd(_,f){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,c.Z)(function*(_,f){const g=yield f;return{verificationId:g.verificationId,confirm:b=>ri(_,g.confirm(b))}})).apply(this,arguments)}class jg{constructor(f,g){this.resolver=g,this.auth=function Ug(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return ri(vf(this.auth),this.resolver.resolveSignIn(f))}}class Zs{constructor(f){this._delegate=f,this.multiFactor=function nf(_){const f=(0,P.m9)(_);return _o.has(f)||_o.set(f,Rr._fromUser(f)),_o.get(f)}(f)}static getOrCreate(f){return Zs.USER_MAP.has(f)||Zs.USER_MAP.set(f,new Zs(f)),Zs.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,c.Z)(function*(){return ri(g.auth,Ar(g._delegate,f))})()}linkWithPhoneNumber(f,g){var b=this;return(0,c.Z)(function*(){return bd(b.auth,function xl(_,f,g){return Vs.apply(this,arguments)}(b._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,c.Z)(function*(){return ri(g.auth,function Ki(_,f,g){return $a.apply(this,arguments)}(g._delegate,f,Hi))})()}linkWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield _a(Re(g.auth)),function Oe(_,f,g){return function Ge(_,f,g){return mt.apply(this,arguments)}(_,f,g)}(g._delegate,f,Hi)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,c.Z)(function*(){return ri(g.auth,po(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return bd(this.auth,function Cg(_,f,g){return Rl.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return ri(this.auth,function zc(_,f,g){return fs.apply(this,arguments)}(this._delegate,f,Hi))}reauthenticateWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield _a(Re(g.auth)),function Z(_,f,g){return function ie(_,f,g){return pe.apply(this,arguments)}(_,f,g)}(g._delegate,f,Hi)})()}sendEmailVerification(f){return function Mr(_,f){return Ko.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,c.Z)(function*(){return yield function Tr(_,f){return yl.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function Dl(_,f){return Ua((0,P.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function tf(_,f){return Ua((0,P.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Ol(_,f){return Us.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Va(_,f){return Xo.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function Pc(_,f,g){return Qo.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Zs.USER_MAP=new WeakMap;const Yl=re;let Ed=(()=>{class _{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=g.options;Yl(S,"invalid-api-key",{appName:g.name}),Yl(S,"invalid-api-key",{appName:g.name});const R="undefined"!=typeof window?Hi:void 0;this._delegate=b.initialize({options:{persistence:zg(S,g.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(Me),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Zs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function Wt(_,f,g){const b=Re(_);re(b._canInitEmulator,b,"emulator-config-failed"),re(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const S=!!(null==g?void 0:g.disableWarnings),R=li(f),{host:$,port:he}=function Er(_){const f=li(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(b);if(S){const R=S[1];return{host:R,port:mn(b.substr(R.length+1))}}{const[R,$]=b.split(":");return{host:R,port:mn($)}}}(f);b.config.emulator={url:`${R}//${$}${null===he?"":`:${he}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:$,port:he,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function wr(){function _(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,b)}applyActionCode(g){return function qu(_,f){return De.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return wt(this._delegate,g)}confirmPasswordReset(g,b){return function bl(_,f,g){return Wo.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var S=this;return(0,c.Z)(function*(){return ri(S._delegate,function Zo(_,f,g){return di.apply(this,arguments)}(S._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function wl(_,f){return ur.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Oc(_,f){const g=Ir.parseLink(f);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,c.Z)(function*(){Yl(ql(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function jt(_,f){return vn.apply(this,arguments)}(g._delegate,Hi);return b?ri(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function gf(_,f){Re(_)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,b,S){const{next:R,error:$,complete:he}=wd(g,b,S);return this._delegate.onAuthStateChanged(R,$,he)}onIdTokenChanged(g,b,S){const{next:R,error:$,complete:he}=wd(g,b,S);return this._delegate.onIdTokenChanged(R,$,he)}sendSignInLinkToEmail(g,b){return function El(_,f,g){return Rc.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function xc(_,f,g){return $o.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,c.Z)(function*(){let S;switch(function _f(_,f){ma(Object.values(Ji).includes(f),_,"invalid-persistence-type"),(0,P.b$)()?ma(f!==Ji.SESSION,_,"unsupported-persistence-type"):(0,P.UG)()?ma(f===Ji.NONE,_,"unsupported-persistence-type"):qs()?ma(f===Ji.NONE||f===Ji.LOCAL&&(0,P.hl)(),_,"unsupported-persistence-type"):ma(f===Ji.NONE||ii(),_,"unsupported-persistence-type")}(b._delegate,g),g){case Ji.SESSION:S=st;break;case Ji.LOCAL:S=(yield oe(Ei)._isAvailable())?Ei:Or;break;case Ji.NONE:S=et;break;default:return ce("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return ri(this._delegate,function kc(_){return Pa.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return ri(this._delegate,Ba(this._delegate,g))}signInWithCustomToken(g){return ri(this._delegate,function os(_,f){return as.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return ri(this._delegate,function Cl(_,f,g){return Ba((0,P.m9)(_),Uo.credential(f,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return ri(this._delegate,function Yo(_,f,g){return go.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return bd(this._delegate,function Ga(_,f,g){return nn.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,c.Z)(function*(){return Yl(ql(),b._delegate,"operation-not-supported-in-this-environment"),ri(b._delegate,function Hs(_,f,g){return jc.apply(this,arguments)}(b._delegate,g,Hi))})()}signInWithRedirect(g){var b=this;return(0,c.Z)(function*(){return Yl(ql(),b._delegate,"operation-not-supported-in-this-environment"),yield _a(b._delegate),function I(_,f,g){return function k(_,f,g){return L.apply(this,arguments)}(_,f,g)}(b._delegate,g,Hi)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function en(_,f){return ls.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Ji,_})();function wd(_,f,g){let b=_;"function"!=typeof _&&({next:b,error:f,complete:g}=_);const S=b;return{next:$=>S($&&Zs.getOrCreate($)),error:f,complete:g}}function zg(_,f){const g=function yf(_,f){const g=Zl();if(!g)return[];const b=Lt(yd,_,f);switch(g.getItem(b)){case Ji.NONE:return[et];case Ji.LOCAL:return[Ei,st];case Ji.SESSION:return[st];default:return[]}}(_,f);if("undefined"!=typeof self&&!g.includes(Ei)&&g.push(Ei),"undefined"!=typeof window)for(const b of[Or,st])g.includes(b)||g.push(b);return g.includes(et)||g.push(et),g}class Dd{constructor(){this.providerId="phone",this._delegate=new Yi(vf(Q.Z.auth()))}static credential(f,g){return Yi.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}Dd.PHONE_SIGN_IN_METHOD=Yi.PHONE_SIGN_IN_METHOD,Dd.PROVIDER_ID=Yi.PROVIDER_ID;const Gg=re;class $g{constructor(f,g,b=Q.Z.app()){var S;Gg(null===(S=b.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Hc(f,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Cf(_){_.INTERNAL.registerComponent(new J.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),b=f.getProvider("auth");return new Ed(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Uo,FacebookAuthProvider:ho,GithubAuthProvider:Sc,GoogleAuthProvider:fo,OAuthProvider:As,SAMLAuthProvider:Sr,PhoneAuthProvider:Dd,PhoneMultiFactorGenerator:uf,RecaptchaVerifier:$g,TwitterAuthProvider:Ri,Auth:Ed,AuthCredential:Bt,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.9")}(Q.Z)},2940:function(Ke,we){!function(O){"use strict";function c(q){return Array.prototype.slice.call(q)}function Q(q){return new Promise(function(de,Ae){q.onsuccess=function(){de(q.result)},q.onerror=function(){Ae(q.error)}})}function P(q,de,Ae){var ke,ce=new Promise(function(me,be){Q(ke=q[de].apply(q,Ae)).then(me,be)});return ce.request=ke,ce}function ue(q,de,Ae){var ke=P(q,de,Ae);return ke.then(function(ce){if(ce)return new j(ce,ke.request)})}function ee(q,de,Ae){Ae.forEach(function(ke){Object.defineProperty(q.prototype,ke,{get:function(){return this[de][ke]},set:function(ce){this[de][ke]=ce}})})}function ge(q,de,Ae,ke){ke.forEach(function(ce){ce in Ae.prototype&&(q.prototype[ce]=function(){return P(this[de],ce,arguments)})})}function J(q,de,Ae,ke){ke.forEach(function(ce){ce in Ae.prototype&&(q.prototype[ce]=function(){return this[de][ce].apply(this[de],arguments)})})}function ae(q,de,Ae,ke){ke.forEach(function(ce){ce in Ae.prototype&&(q.prototype[ce]=function(){return ue(this[de],ce,arguments)})})}function le(q){this._index=q}function j(q,de){this._cursor=q,this._request=de}function U(q){this._store=q}function X(q){this._tx=q,this.complete=new Promise(function(de,Ae){q.oncomplete=function(){de()},q.onerror=function(){Ae(q.error)},q.onabort=function(){Ae(q.error)}})}function Ve(q,de,Ae){this._db=q,this.oldVersion=de,this.transaction=new X(Ae)}function Ie(q){this._db=q}ee(le,"_index",["name","keyPath","multiEntry","unique"]),ge(le,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ae(le,"_index",IDBIndex,["openCursor","openKeyCursor"]),ee(j,"_cursor",["direction","key","primaryKey","value"]),ge(j,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(q){q in IDBCursor.prototype&&(j.prototype[q]=function(){var de=this,Ae=arguments;return Promise.resolve().then(function(){return de._cursor[q].apply(de._cursor,Ae),Q(de._request).then(function(ke){if(ke)return new j(ke,de._request)})})})}),U.prototype.createIndex=function(){return new le(this._store.createIndex.apply(this._store,arguments))},U.prototype.index=function(){return new le(this._store.index.apply(this._store,arguments))},ee(U,"_store",["name","keyPath","indexNames","autoIncrement"]),ge(U,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ae(U,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),J(U,"_store",IDBObjectStore,["deleteIndex"]),X.prototype.objectStore=function(){return new U(this._tx.objectStore.apply(this._tx,arguments))},ee(X,"_tx",["objectStoreNames","mode"]),J(X,"_tx",IDBTransaction,["abort"]),Ve.prototype.createObjectStore=function(){return new U(this._db.createObjectStore.apply(this._db,arguments))},ee(Ve,"_db",["name","version","objectStoreNames"]),J(Ve,"_db",IDBDatabase,["deleteObjectStore","close"]),Ie.prototype.transaction=function(){return new X(this._db.transaction.apply(this._db,arguments))},ee(Ie,"_db",["name","version","objectStoreNames"]),J(Ie,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(q){[U,le].forEach(function(de){q in de.prototype&&(de.prototype[q.replace("open","iterate")]=function(){var Ae=c(arguments),ke=Ae[Ae.length-1],ce=this._store||this._index,me=ce[q].apply(ce,Ae.slice(0,-1));me.onsuccess=function(){ke(me.result)}})})}),[le,U].forEach(function(q){q.prototype.getAll||(q.prototype.getAll=function(de,Ae){var ke=this,ce=[];return new Promise(function(me){ke.iterateCursor(de,function(be){be?(ce.push(be.value),void 0===Ae||ce.length!=Ae?be.continue():me(ce)):me(ce)})})})}),O.openDb=function Me(q,de,Ae){var ke=P(indexedDB,"open",[q,de]),ce=ke.request;return ce&&(ce.onupgradeneeded=function(me){Ae&&Ae(new Ve(ce.result,me.oldVersion,ce.transaction))}),ke.then(function(me){return new Ie(me)})},O.deleteDb=function Fe(q){return P(indexedDB,"deleteDatabase",[q])},Object.defineProperty(O,"__esModule",{value:!0})}(we)},8306:(Ke,we,O)=>{"use strict";O.d(we,{y:()=>j});var c=O(930),Q=O(727),P=O(8822),ue=O(4671);var J=O(2416),ae=O(576),le=O(2806);let j=(()=>{class Ie{constructor(Fe){Fe&&(this._subscribe=Fe)}lift(Fe){const q=new Ie;return q.source=this,q.operator=Fe,q}subscribe(Fe,q,de){const Ae=function Ve(Ie){return Ie&&Ie instanceof c.Lv||function X(Ie){return Ie&&(0,ae.m)(Ie.next)&&(0,ae.m)(Ie.error)&&(0,ae.m)(Ie.complete)}(Ie)&&(0,Q.Nn)(Ie)}(Fe)?Fe:new c.Hp(Fe,q,de);return(0,le.x)(()=>{const{operator:ke,source:ce}=this;Ae.add(ke?ke.call(Ae,ce):ce?this._subscribe(Ae):this._trySubscribe(Ae))}),Ae}_trySubscribe(Fe){try{return this._subscribe(Fe)}catch(q){Fe.error(q)}}forEach(Fe,q){return new(q=U(q))((de,Ae)=>{const ke=new c.Hp({next:ce=>{try{Fe(ce)}catch(me){Ae(me),ke.unsubscribe()}},error:Ae,complete:de});this.subscribe(ke)})}_subscribe(Fe){var q;return null===(q=this.source)||void 0===q?void 0:q.subscribe(Fe)}[P.L](){return this}pipe(...Fe){return function ge(Ie){return 0===Ie.length?ue.y:1===Ie.length?Ie[0]:function(Fe){return Ie.reduce((q,de)=>de(q),Fe)}}(Fe)(this)}toPromise(Fe){return new(Fe=U(Fe))((q,de)=>{let Ae;this.subscribe(ke=>Ae=ke,ke=>de(ke),()=>q(Ae))})}}return Ie.create=Me=>new Ie(Me),Ie})();function U(Ie){var Me;return null!==(Me=null!=Ie?Ie:J.v.Promise)&&void 0!==Me?Me:Promise}},7579:(Ke,we,O)=>{"use strict";O.d(we,{x:()=>J});var c=O(8306),Q=O(727);const ue=(0,O(3888).d)(le=>function(){le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ee=O(8737),ge=O(2806);let J=(()=>{class le extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(U){const X=new ae(this,this);return X.operator=U,X}_throwIfClosed(){if(this.closed)throw new ue}next(U){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(U)}})}error(U){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=U;const{observers:X}=this;for(;X.length;)X.shift().error(U)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:U}=this;for(;U.length;)U.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var U;return(null===(U=this.observers)||void 0===U?void 0:U.length)>0}_trySubscribe(U){return this._throwIfClosed(),super._trySubscribe(U)}_subscribe(U){return this._throwIfClosed(),this._checkFinalizedStatuses(U),this._innerSubscribe(U)}_innerSubscribe(U){const{hasError:X,isStopped:Ve,observers:Ie}=this;return X||Ve?Q.Lc:(this.currentObservers=null,Ie.push(U),new Q.w0(()=>{this.currentObservers=null,(0,ee.P)(Ie,U)}))}_checkFinalizedStatuses(U){const{hasError:X,thrownError:Ve,isStopped:Ie}=this;X?U.error(Ve):Ie&&U.complete()}asObservable(){const U=new c.y;return U.source=this,U}}return le.create=(j,U)=>new ae(j,U),le})();class ae extends J{constructor(j,U){super(),this.destination=j,this.source=U}next(j){var U,X;null===(X=null===(U=this.destination)||void 0===U?void 0:U.next)||void 0===X||X.call(U,j)}error(j){var U,X;null===(X=null===(U=this.destination)||void 0===U?void 0:U.error)||void 0===X||X.call(U,j)}complete(){var j,U;null===(U=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===U||U.call(j)}_subscribe(j){var U,X;return null!==(X=null===(U=this.source)||void 0===U?void 0:U.subscribe(j))&&void 0!==X?X:Q.Lc}}},930:(Ke,we,O)=>{"use strict";O.d(we,{Hp:()=>Fe,Lv:()=>X});var c=O(576),Q=O(727),P=O(2416),ue=O(7849),ee=O(5032);const ge=le("C",void 0,void 0);function le(ce,me,be){return{kind:ce,value:me,error:be}}var j=O(3410),U=O(2806);class X extends Q.w0{constructor(me){super(),this.isStopped=!1,me?(this.destination=me,(0,Q.Nn)(me)&&me.add(this)):this.destination=ke}static create(me,be,Ue){return new Fe(me,be,Ue)}next(me){this.isStopped?Ae(function ae(ce){return le("N",ce,void 0)}(me),this):this._next(me)}error(me){this.isStopped?Ae(function J(ce){return le("E",void 0,ce)}(me),this):(this.isStopped=!0,this._error(me))}complete(){this.isStopped?Ae(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(me){this.destination.next(me)}_error(me){try{this.destination.error(me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function Ie(ce,me){return Ve.call(ce,me)}class Me{constructor(me){this.partialObserver=me}next(me){const{partialObserver:be}=this;if(be.next)try{be.next(me)}catch(Ue){q(Ue)}}error(me){const{partialObserver:be}=this;if(be.error)try{be.error(me)}catch(Ue){q(Ue)}else q(me)}complete(){const{partialObserver:me}=this;if(me.complete)try{me.complete()}catch(be){q(be)}}}class Fe extends X{constructor(me,be,Ue){let He;if(super(),(0,c.m)(me)||!me)He={next:null!=me?me:void 0,error:null!=be?be:void 0,complete:null!=Ue?Ue:void 0};else{let re;this&&P.v.useDeprecatedNextContext?(re=Object.create(me),re.unsubscribe=()=>this.unsubscribe(),He={next:me.next&&Ie(me.next,re),error:me.error&&Ie(me.error,re),complete:me.complete&&Ie(me.complete,re)}):He=me}this.destination=new Me(He)}}function q(ce){P.v.useDeprecatedSynchronousErrorHandling?(0,U.O)(ce):(0,ue.h)(ce)}function Ae(ce,me){const{onStoppedNotification:be}=P.v;be&&j.z.setTimeout(()=>be(ce,me))}const ke={closed:!0,next:ee.Z,error:function de(ce){throw ce},complete:ee.Z}},727:(Ke,we,O)=>{"use strict";O.d(we,{Lc:()=>ge,w0:()=>ee,Nn:()=>J});var c=O(576);const P=(0,O(3888).d)(le=>function(U){le(this),this.message=U?`${U.length} errors occurred during unsubscription:\n${U.map((X,Ve)=>`${Ve+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=U});var ue=O(8737);class ee{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:U}=this;if(U)if(this._parentage=null,Array.isArray(U))for(const Ie of U)Ie.remove(this);else U.remove(this);const{initialTeardown:X}=this;if((0,c.m)(X))try{X()}catch(Ie){j=Ie instanceof P?Ie.errors:[Ie]}const{_finalizers:Ve}=this;if(Ve){this._finalizers=null;for(const Ie of Ve)try{ae(Ie)}catch(Me){j=null!=j?j:[],Me instanceof P?j=[...j,...Me.errors]:j.push(Me)}}if(j)throw new P(j)}}add(j){var U;if(j&&j!==this)if(this.closed)ae(j);else{if(j instanceof ee){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(U=this._finalizers)&&void 0!==U?U:[]).push(j)}}_hasParent(j){const{_parentage:U}=this;return U===j||Array.isArray(U)&&U.includes(j)}_addParent(j){const{_parentage:U}=this;this._parentage=Array.isArray(U)?(U.push(j),U):U?[U,j]:j}_removeParent(j){const{_parentage:U}=this;U===j?this._parentage=null:Array.isArray(U)&&(0,ue.P)(U,j)}remove(j){const{_finalizers:U}=this;U&&(0,ue.P)(U,j),j instanceof ee&&j._removeParent(this)}}ee.EMPTY=(()=>{const le=new ee;return le.closed=!0,le})();const ge=ee.EMPTY;function J(le){return le instanceof ee||le&&"closed"in le&&(0,c.m)(le.remove)&&(0,c.m)(le.add)&&(0,c.m)(le.unsubscribe)}function ae(le){(0,c.m)(le)?le():le.unsubscribe()}},2416:(Ke,we,O)=>{"use strict";O.d(we,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Ke,we,O)=>{"use strict";O.d(we,{E:()=>Q});const Q=new(O(8306).y)(ee=>ee.complete())},8996:(Ke,we,O)=>{"use strict";O.d(we,{D:()=>me});var c=O(8421),Q=O(5363),P=O(9468),ge=O(8306),ae=O(2202),le=O(576),j=O(9672);function X(be,Ue){if(!be)throw new Error("Iterable cannot be null");return new ge.y(He=>{(0,j.f)(He,Ue,()=>{const re=be[Symbol.asyncIterator]();(0,j.f)(He,Ue,()=>{re.next().then(Y=>{Y.done?He.complete():He.next(Y.value)})},0,!0)})})}var Ve=O(3670),Ie=O(8239),Me=O(1144),Fe=O(6495),q=O(2206),de=O(4532),Ae=O(3260);function me(be,Ue){return Ue?function ce(be,Ue){if(null!=be){if((0,Ve.c)(be))return function ue(be,Ue){return(0,c.Xf)(be).pipe((0,P.R)(Ue),(0,Q.Q)(Ue))}(be,Ue);if((0,Me.z)(be))return function J(be,Ue){return new ge.y(He=>{let re=0;return Ue.schedule(function(){re===be.length?He.complete():(He.next(be[re++]),He.closed||this.schedule())})})}(be,Ue);if((0,Ie.t)(be))return function ee(be,Ue){return(0,c.Xf)(be).pipe((0,P.R)(Ue),(0,Q.Q)(Ue))}(be,Ue);if((0,q.D)(be))return X(be,Ue);if((0,Fe.T)(be))return function U(be,Ue){return new ge.y(He=>{let re;return(0,j.f)(He,Ue,()=>{re=be[ae.h](),(0,j.f)(He,Ue,()=>{let Y,se;try{({value:Y,done:se}=re.next())}catch(_e){return void He.error(_e)}se?He.complete():He.next(Y)},0,!0)}),()=>(0,le.m)(null==re?void 0:re.return)&&re.return()})}(be,Ue);if((0,Ae.L)(be))return function ke(be,Ue){return X((0,Ae.Q)(be),Ue)}(be,Ue)}throw(0,de.z)(be)}(be,Ue):(0,c.Xf)(be)}},8421:(Ke,we,O)=>{"use strict";O.d(we,{Xf:()=>Ve});var c=O(655),Q=O(1144),P=O(8239),ue=O(8306),ee=O(3670),ge=O(2206),J=O(4532),ae=O(6495),le=O(3260),j=O(576),U=O(7849),X=O(8822);function Ve(ce){if(ce instanceof ue.y)return ce;if(null!=ce){if((0,ee.c)(ce))return function Ie(ce){return new ue.y(me=>{const be=ce[X.L]();if((0,j.m)(be.subscribe))return be.subscribe(me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ce);if((0,Q.z)(ce))return function Me(ce){return new ue.y(me=>{for(let be=0;be<ce.length&&!me.closed;be++)me.next(ce[be]);me.complete()})}(ce);if((0,P.t)(ce))return function Fe(ce){return new ue.y(me=>{ce.then(be=>{me.closed||(me.next(be),me.complete())},be=>me.error(be)).then(null,U.h)})}(ce);if((0,ge.D)(ce))return de(ce);if((0,ae.T)(ce))return function q(ce){return new ue.y(me=>{for(const be of ce)if(me.next(be),me.closed)return;me.complete()})}(ce);if((0,le.L)(ce))return function Ae(ce){return de((0,le.Q)(ce))}(ce)}throw(0,J.z)(ce)}function de(ce){return new ue.y(me=>{(function ke(ce,me){var be,Ue,He,re;return(0,c.mG)(this,void 0,void 0,function*(){try{for(be=(0,c.KL)(ce);!(Ue=yield be.next()).done;)if(me.next(Ue.value),me.closed)return}catch(Y){He={error:Y}}finally{try{Ue&&!Ue.done&&(re=be.return)&&(yield re.call(be))}finally{if(He)throw He.error}}me.complete()})})(ce,me).catch(be=>me.error(be))})}},6451:(Ke,we,O)=>{"use strict";O.d(we,{T:()=>ge});var c=O(8189),Q=O(8421),P=O(515),ue=O(3269),ee=O(8996);function ge(...J){const ae=(0,ue.yG)(J),le=(0,ue._6)(J,1/0),j=J;return j.length?1===j.length?(0,Q.Xf)(j[0]):(0,c.J)(le)((0,ee.D)(j,ae)):P.E}},5403:(Ke,we,O)=>{"use strict";O.d(we,{x:()=>Q});var c=O(930);function Q(ue,ee,ge,J,ae){return new P(ue,ee,ge,J,ae)}class P extends c.Lv{constructor(ee,ge,J,ae,le,j){super(ee),this.onFinalize=le,this.shouldUnsubscribe=j,this._next=ge?function(U){try{ge(U)}catch(X){ee.error(X)}}:super._next,this._error=ae?function(U){try{ae(U)}catch(X){ee.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=J?function(){try{J()}catch(U){ee.error(U)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(ee=this.onFinalize)||void 0===ee||ee.call(this))}}}},4004:(Ke,we,O)=>{"use strict";O.d(we,{U:()=>P});var c=O(4482),Q=O(5403);function P(ue,ee){return(0,c.e)((ge,J)=>{let ae=0;ge.subscribe((0,Q.x)(J,le=>{J.next(ue.call(ee,le,ae++))}))})}},8189:(Ke,we,O)=>{"use strict";O.d(we,{J:()=>P});var c=O(5577),Q=O(4671);function P(ue=1/0){return(0,c.z)(Q.y,ue)}},5577:(Ke,we,O)=>{"use strict";O.d(we,{z:()=>ae});var c=O(4004),Q=O(8421),P=O(4482),ue=O(9672),ee=O(5403),J=O(576);function ae(le,j,U=1/0){return(0,J.m)(j)?ae((X,Ve)=>(0,c.U)((Ie,Me)=>j(X,Ie,Ve,Me))((0,Q.Xf)(le(X,Ve))),U):("number"==typeof j&&(U=j),(0,P.e)((X,Ve)=>function ge(le,j,U,X,Ve,Ie,Me,Fe){const q=[];let de=0,Ae=0,ke=!1;const ce=()=>{ke&&!q.length&&!de&&j.complete()},me=Ue=>de<X?be(Ue):q.push(Ue),be=Ue=>{Ie&&j.next(Ue),de++;let He=!1;(0,Q.Xf)(U(Ue,Ae++)).subscribe((0,ee.x)(j,re=>{null==Ve||Ve(re),Ie?me(re):j.next(re)},()=>{He=!0},void 0,()=>{if(He)try{for(de--;q.length&&de<X;){const re=q.shift();Me?(0,ue.f)(j,Me,()=>be(re)):be(re)}ce()}catch(re){j.error(re)}}))};return le.subscribe((0,ee.x)(j,me,()=>{ke=!0,ce()})),()=>{null==Fe||Fe()}}(X,Ve,le,U)))}},5363:(Ke,we,O)=>{"use strict";O.d(we,{Q:()=>ue});var c=O(9672),Q=O(4482),P=O(5403);function ue(ee,ge=0){return(0,Q.e)((J,ae)=>{J.subscribe((0,P.x)(ae,le=>(0,c.f)(ae,ee,()=>ae.next(le),ge),()=>(0,c.f)(ae,ee,()=>ae.complete(),ge),le=>(0,c.f)(ae,ee,()=>ae.error(le),ge)))})}},3099:(Ke,we,O)=>{"use strict";O.d(we,{B:()=>ge});var c=O(8996),Q=O(5698),P=O(7579),ue=O(930),ee=O(4482);function ge(ae={}){const{connector:le=(()=>new P.x),resetOnError:j=!0,resetOnComplete:U=!0,resetOnRefCountZero:X=!0}=ae;return Ve=>{let Ie=null,Me=null,Fe=null,q=0,de=!1,Ae=!1;const ke=()=>{null==Me||Me.unsubscribe(),Me=null},ce=()=>{ke(),Ie=Fe=null,de=Ae=!1},me=()=>{const be=Ie;ce(),null==be||be.unsubscribe()};return(0,ee.e)((be,Ue)=>{q++,!Ae&&!de&&ke();const He=Fe=null!=Fe?Fe:le();Ue.add(()=>{q--,0===q&&!Ae&&!de&&(Me=J(me,X))}),He.subscribe(Ue),Ie||(Ie=new ue.Hp({next:re=>He.next(re),error:re=>{Ae=!0,ke(),Me=J(ce,j,re),He.error(re)},complete:()=>{de=!0,ke(),Me=J(ce,U),He.complete()}}),(0,c.D)(be).subscribe(Ie))})(Ve)}}function J(ae,le,...j){return!0===le?(ae(),null):!1===le?null:le(...j).pipe((0,Q.q)(1)).subscribe(()=>ae())}},9468:(Ke,we,O)=>{"use strict";O.d(we,{R:()=>Q});var c=O(4482);function Q(P,ue=0){return(0,c.e)((ee,ge)=>{ge.add(P.schedule(()=>ee.subscribe(ge),ue))})}},5698:(Ke,we,O)=>{"use strict";O.d(we,{q:()=>ue});var c=O(515),Q=O(4482),P=O(5403);function ue(ee){return ee<=0?()=>c.E:(0,Q.e)((ge,J)=>{let ae=0;ge.subscribe((0,P.x)(J,le=>{++ae<=ee&&(J.next(le),ee<=ae&&J.complete())}))})}},8505:(Ke,we,O)=>{"use strict";O.d(we,{b:()=>ee});var c=O(576),Q=O(4482),P=O(5403),ue=O(4671);function ee(ge,J,ae){const le=(0,c.m)(ge)||J||ae?{next:ge,error:J,complete:ae}:ge;return le?(0,Q.e)((j,U)=>{var X;null===(X=le.subscribe)||void 0===X||X.call(le);let Ve=!0;j.subscribe((0,P.x)(U,Ie=>{var Me;null===(Me=le.next)||void 0===Me||Me.call(le,Ie),U.next(Ie)},()=>{var Ie;Ve=!1,null===(Ie=le.complete)||void 0===Ie||Ie.call(le),U.complete()},Ie=>{var Me;Ve=!1,null===(Me=le.error)||void 0===Me||Me.call(le,Ie),U.error(Ie)},()=>{var Ie,Me;Ve&&(null===(Ie=le.unsubscribe)||void 0===Ie||Ie.call(le)),null===(Me=le.finalize)||void 0===Me||Me.call(le)}))}):ue.y}},4408:(Ke,we,O)=>{"use strict";O.d(we,{o:()=>ee});var c=O(727);class Q extends c.w0{constructor(J,ae){super()}schedule(J,ae=0){return this}}const P={setInterval(ge,J,...ae){const{delegate:le}=P;return(null==le?void 0:le.setInterval)?le.setInterval(ge,J,...ae):setInterval(ge,J,...ae)},clearInterval(ge){const{delegate:J}=P;return((null==J?void 0:J.clearInterval)||clearInterval)(ge)},delegate:void 0};var ue=O(8737);class ee extends Q{constructor(J,ae){super(J,ae),this.scheduler=J,this.work=ae,this.pending=!1}schedule(J,ae=0){if(this.closed)return this;this.state=J;const le=this.id,j=this.scheduler;return null!=le&&(this.id=this.recycleAsyncId(j,le,ae)),this.pending=!0,this.delay=ae,this.id=this.id||this.requestAsyncId(j,this.id,ae),this}requestAsyncId(J,ae,le=0){return P.setInterval(J.flush.bind(J,this),le)}recycleAsyncId(J,ae,le=0){if(null!=le&&this.delay===le&&!1===this.pending)return ae;P.clearInterval(ae)}execute(J,ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(J,ae);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(J,ae){let j,le=!1;try{this.work(J)}catch(U){le=!0,j=U||new Error("Scheduled action threw falsy error")}if(le)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:J,scheduler:ae}=this,{actions:le}=ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.P)(le,this),null!=J&&(this.id=this.recycleAsyncId(ae,J,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ke,we,O)=>{"use strict";O.d(we,{v:()=>P});var c=O(6063);class Q{constructor(ee,ge=Q.now){this.schedulerActionCtor=ee,this.now=ge}schedule(ee,ge=0,J){return new this.schedulerActionCtor(this,ee).schedule(J,ge)}}Q.now=c.l.now;class P extends Q{constructor(ee,ge=Q.now){super(ee,ge),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ee){const{actions:ge}=this;if(this._active)return void ge.push(ee);let J;this._active=!0;do{if(J=ee.execute(ee.state,ee.delay))break}while(ee=ge.shift());if(this._active=!1,J){for(;ee=ge.shift();)ee.unsubscribe();throw J}}}},4986:(Ke,we,O)=>{"use strict";O.d(we,{z:()=>P,P:()=>ue});var c=O(4408);const P=new(O(7565).v)(c.o),ue=P},6063:(Ke,we,O)=>{"use strict";O.d(we,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(Ke,we,O)=>{"use strict";O.d(we,{z:()=>c});const c={setTimeout(Q,P,...ue){const{delegate:ee}=c;return(null==ee?void 0:ee.setTimeout)?ee.setTimeout(Q,P,...ue):setTimeout(Q,P,...ue)},clearTimeout(Q){const{delegate:P}=c;return((null==P?void 0:P.clearTimeout)||clearTimeout)(Q)},delegate:void 0}},2202:(Ke,we,O)=>{"use strict";O.d(we,{h:()=>Q});const Q=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ke,we,O)=>{"use strict";O.d(we,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Ke,we,O)=>{"use strict";O.d(we,{jO:()=>ue,yG:()=>ee,_6:()=>ge});var c=O(576),Q=O(3532);function P(J){return J[J.length-1]}function ue(J){return(0,c.m)(P(J))?J.pop():void 0}function ee(J){return(0,Q.K)(P(J))?J.pop():void 0}function ge(J,ae){return"number"==typeof P(J)?J.pop():ae}},8737:(Ke,we,O)=>{"use strict";function c(Q,P){if(Q){const ue=Q.indexOf(P);0<=ue&&Q.splice(ue,1)}}O.d(we,{P:()=>c})},3888:(Ke,we,O)=>{"use strict";function c(Q){const ue=Q(ee=>{Error.call(ee),ee.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}O.d(we,{d:()=>c})},2806:(Ke,we,O)=>{"use strict";O.d(we,{x:()=>P,O:()=>ue});var c=O(2416);let Q=null;function P(ee){if(c.v.useDeprecatedSynchronousErrorHandling){const ge=!Q;if(ge&&(Q={errorThrown:!1,error:null}),ee(),ge){const{errorThrown:J,error:ae}=Q;if(Q=null,J)throw ae}}else ee()}function ue(ee){c.v.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=ee)}},9672:(Ke,we,O)=>{"use strict";function c(Q,P,ue,ee=0,ge=!1){const J=P.schedule(function(){ue(),ge?Q.add(this.schedule(null,ee)):this.unsubscribe()},ee);if(Q.add(J),!ge)return J}O.d(we,{f:()=>c})},4671:(Ke,we,O)=>{"use strict";function c(Q){return Q}O.d(we,{y:()=>c})},1144:(Ke,we,O)=>{"use strict";O.d(we,{z:()=>c});const c=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},2206:(Ke,we,O)=>{"use strict";O.d(we,{D:()=>Q});var c=O(576);function Q(P){return Symbol.asyncIterator&&(0,c.m)(null==P?void 0:P[Symbol.asyncIterator])}},576:(Ke,we,O)=>{"use strict";function c(Q){return"function"==typeof Q}O.d(we,{m:()=>c})},3670:(Ke,we,O)=>{"use strict";O.d(we,{c:()=>P});var c=O(8822),Q=O(576);function P(ue){return(0,Q.m)(ue[c.L])}},6495:(Ke,we,O)=>{"use strict";O.d(we,{T:()=>P});var c=O(2202),Q=O(576);function P(ue){return(0,Q.m)(null==ue?void 0:ue[c.h])}},8239:(Ke,we,O)=>{"use strict";O.d(we,{t:()=>Q});var c=O(576);function Q(P){return(0,c.m)(null==P?void 0:P.then)}},3260:(Ke,we,O)=>{"use strict";O.d(we,{Q:()=>P,L:()=>ue});var c=O(655),Q=O(576);function P(ee){return(0,c.FC)(this,arguments,function*(){const J=ee.getReader();try{for(;;){const{value:ae,done:le}=yield(0,c.qq)(J.read());if(le)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(ae)}}finally{J.releaseLock()}})}function ue(ee){return(0,Q.m)(null==ee?void 0:ee.getReader)}},3532:(Ke,we,O)=>{"use strict";O.d(we,{K:()=>Q});var c=O(576);function Q(P){return P&&(0,c.m)(P.schedule)}},4482:(Ke,we,O)=>{"use strict";O.d(we,{A:()=>Q,e:()=>P});var c=O(576);function Q(ue){return(0,c.m)(null==ue?void 0:ue.lift)}function P(ue){return ee=>{if(Q(ee))return ee.lift(function(ge){try{return ue(ge,this)}catch(J){this.error(J)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Ke,we,O)=>{"use strict";function c(){}O.d(we,{Z:()=>c})},7849:(Ke,we,O)=>{"use strict";O.d(we,{h:()=>P});var c=O(2416),Q=O(3410);function P(ue){Q.z.setTimeout(()=>{const{onUnhandledError:ee}=c.v;if(!ee)throw ue;ee(ue)})}},4532:(Ke,we,O)=>{"use strict";function c(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(we,{z:()=>c})},655:(Ke,we,O)=>{"use strict";function ue(Y,se){var _e={};for(var oe in Y)Object.prototype.hasOwnProperty.call(Y,oe)&&se.indexOf(oe)<0&&(_e[oe]=Y[oe]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var xe=0;for(oe=Object.getOwnPropertySymbols(Y);xe<oe.length;xe++)se.indexOf(oe[xe])<0&&Object.prototype.propertyIsEnumerable.call(Y,oe[xe])&&(_e[oe[xe]]=Y[oe[xe]])}return _e}function ae(Y,se,_e,oe){return new(_e||(_e=Promise))(function(fe,dt){function Ot(ct){try{Ye(oe.next(ct))}catch(rn){dt(rn)}}function Rn(ct){try{Ye(oe.throw(ct))}catch(rn){dt(rn)}}function Ye(ct){ct.done?fe(ct.value):function xe(fe){return fe instanceof _e?fe:new _e(function(dt){dt(fe)})}(ct.value).then(Ot,Rn)}Ye((oe=oe.apply(Y,se||[])).next())})}function q(Y){return this instanceof q?(this.v=Y,this):new q(Y)}function de(Y,se,_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,oe=_e.apply(Y,se||[]),fe=[];return xe={},dt("next"),dt("throw"),dt("return"),xe[Symbol.asyncIterator]=function(){return this},xe;function dt(Pt){oe[Pt]&&(xe[Pt]=function(On){return new Promise(function(zt,Si){fe.push([Pt,On,zt,Si])>1||Ot(Pt,On)})})}function Ot(Pt,On){try{!function Rn(Pt){Pt.value instanceof q?Promise.resolve(Pt.value.v).then(Ye,ct):rn(fe[0][2],Pt)}(oe[Pt](On))}catch(zt){rn(fe[0][3],zt)}}function Ye(Pt){Ot("next",Pt)}function ct(Pt){Ot("throw",Pt)}function rn(Pt,On){Pt(On),fe.shift(),fe.length&&Ot(fe[0][0],fe[0][1])}}function ke(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _e,se=Y[Symbol.asyncIterator];return se?se.call(Y):(Y=function X(Y){var se="function"==typeof Symbol&&Symbol.iterator,_e=se&&Y[se],oe=0;if(_e)return _e.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&oe>=Y.length&&(Y=void 0),{value:Y&&Y[oe++],done:!Y}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),_e={},oe("next"),oe("throw"),oe("return"),_e[Symbol.asyncIterator]=function(){return this},_e);function oe(fe){_e[fe]=Y[fe]&&function(dt){return new Promise(function(Ot,Rn){!function xe(fe,dt,Ot,Rn){Promise.resolve(Rn).then(function(Ye){fe({value:Ye,done:Ot})},dt)}(Ot,Rn,(dt=Y[fe](dt)).done,dt.value)})}}}O.d(we,{_T:()=>ue,mG:()=>ae,qq:()=>q,FC:()=>de,KL:()=>ke})},5e3:(Ke,we,O)=>{"use strict";O.d(we,{deG:()=>sf,tb:()=>U_,AFp:()=>xC,ip1:()=>kC,CZH:()=>Np,hGG:()=>Yp,z2F:()=>q_,sBO:()=>WC,Sil:()=>iI,_Vd:()=>hh,EJc:()=>H_,SBq:()=>fh,qLn:()=>ri,vpe:()=>eo,tBr:()=>Vi,XFs:()=>rt,OlP:()=>hn,zs3:()=>Do,ZZ4:()=>eE,aQg:()=>Zp,soG:()=>Sh,YKP:()=>w_,h0i:()=>Eu,PXZ:()=>cI,R0b:()=>no,FiY:()=>pr,Lbi:()=>Ih,g9A:()=>ji,n_E:()=>wp,Qsj:()=>lC,FYo:()=>ph,JOm:()=>he,q3G:()=>Ft,tp0:()=>Qi,Rgc:()=>Ch,dDg:()=>PC,q4F:()=>dC,GfV:()=>uC,s_b:()=>Ip,ifc:()=>At,eFA:()=>Gp,G48:()=>hI,Gpc:()=>U,f3M:()=>mt,X6Q:()=>dI,_c5:()=>rE,VLi:()=>aI,c2e:()=>Fp,zSh:()=>Nv,wAp:()=>tt,vHH:()=>Me,EiD:()=>$l,mCW:()=>fa,qzn:()=>Ws,JVY:()=>sd,pB0:()=>Kc,eBb:()=>uf,L6k:()=>Yc,LAX:()=>df,cg1:()=>rp,kL8:()=>n_,yhl:()=>ha,dqk:()=>Et,sIi:()=>Uf,CqO:()=>ub,QGY:()=>rl,F4k:()=>cb,RDi:()=>_l,AaK:()=>ae,z3N:()=>Hr,qOj:()=>Hv,TTD:()=>ho,_Bn:()=>rC,xp6:()=>Md,uIk:()=>Hf,Gre:()=>Jf,ekj:()=>Gm,Suo:()=>GD,Xpm:()=>Ne,lG2:()=>ka,Yz7:()=>zt,cJS:()=>Nt,oAB:()=>Xt,Yjl:()=>Lo,Y36:()=>Zd,_UZ:()=>ob,BQk:()=>$f,ynx:()=>Yd,qZA:()=>Mm,TgZ:()=>Am,EpF:()=>km,n5z:()=>za,Ikx:()=>np,LFG:()=>Oe,$8M:()=>_n,$Z:()=>rb,NdJ:()=>xm,CRH:()=>T_,kcU:()=>yg,O4$:()=>_g,oxw:()=>Wf,ALo:()=>Cp,lcZ:()=>xD,Hsn:()=>Nm,F$t:()=>Pm,Q6J:()=>Tm,VKq:()=>vp,iGM:()=>zD,MAs:()=>Wv,CHM:()=>qo,LSH:()=>Qa,Udp:()=>zm,WFA:()=>Rm,d8E:()=>th,YNc:()=>Em,_uU:()=>Eb,Oqu:()=>Wm,hij:()=>Qf,AsE:()=>qm,Gf:()=>kp});var c=O(7579),Q=O(727),P=O(8306),ue=O(6451),ee=O(3099);function ge(r){for(let s in r)if(r[s]===ge)return s;throw Error("Could not find renamed property on target object.")}function J(r,s){for(const a in s)s.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(r[a]=s[a])}function ae(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(ae).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function le(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const j=ge({__forward_ref__:ge});function U(r){return r.__forward_ref__=U,r.toString=function(){return ae(this())},r}function X(r){return Ve(r)?r():r}function Ve(r){return"function"==typeof r&&r.hasOwnProperty(j)&&r.__forward_ref__===U}class Me extends Error{constructor(s,a){super(function Fe(r,s){return`NG0${Math.abs(r)}${s?": "+s:""}`}(s,a)),this.code=s}}function q(r){return"string"==typeof r?r:null==r?"":String(r)}function de(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():q(r)}function me(r,s){const a=s?` in ${s}`:"";throw new Me(-201,`No provider for ${de(r)} found${a}`)}function Ye(r,s){null==r&&function ct(r,s,a,u){throw new Error(`ASSERTION ERROR: ${r}`+(null==u?"":` [Expected=> ${a} ${u} ${s} <=Actual]`))}(s,r,null,"!=")}function zt(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Nt(r){return{providers:r.providers||[],imports:r.imports||[]}}function Tt(r){return or(r,ar)||or(r,gi)}function or(r,s){return r.hasOwnProperty(s)?r[s]:null}function si(r){return r&&(r.hasOwnProperty(Xr)||r.hasOwnProperty(lr))?r[Xr]:null}const ar=ge({\u0275prov:ge}),Xr=ge({\u0275inj:ge}),gi=ge({ngInjectableDef:ge}),lr=ge({ngInjectorDef:ge});var rt=(()=>((rt=rt||{})[rt.Default=0]="Default",rt[rt.Host=1]="Host",rt[rt.Self=2]="Self",rt[rt.SkipSelf=4]="SkipSelf",rt[rt.Optional=8]="Optional",rt))();let Ai;function gn(r){const s=Ai;return Ai=r,s}function Jr(r,s,a){const u=Tt(r);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&rt.Optional?null:void 0!==s?s:void me(ae(r),"Injector")}function Pn(r){return{toString:r}.toString()}var Jt=(()=>((Jt=Jt||{})[Jt.OnPush=0]="OnPush",Jt[Jt.Default=1]="Default",Jt))(),At=(()=>{return(r=At||(At={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",At;var r})();const Qe="undefined"!=typeof globalThis&&globalThis,at="undefined"!=typeof window&&window,Jn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Et=Qe||"undefined"!=typeof global&&global||at||Jn,oi={},B=[],z=ge({\u0275cmp:ge}),G=ge({\u0275dir:ge}),Ce=ge({\u0275pipe:ge}),ne=ge({\u0275mod:ge}),je=ge({\u0275fac:ge}),Ee=ge({__NG_ELEMENT_ID__:ge});let ye=0;function Ne(r){return Pn(()=>{const a={},u={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===Jt.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||B,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||At.Emulated,id:"c",styles:r.styles||B,_:null,setInput:null,schemas:r.schemas||null,tView:null},h=r.directives,p=r.features,y=r.pipes;return u.id+=ye++,u.inputs=Fo(r.inputs,a),u.outputs=Fo(r.outputs),p&&p.forEach(C=>C(u)),u.directiveDefs=h?()=>("function"==typeof h?h():h).map(yt):null,u.pipeDefs=y?()=>("function"==typeof y?y():y).map(et):null,u})}function yt(r){return In(r)||function ai(r){return r[G]||null}(r)}function et(r){return function Cr(r){return r[Ce]||null}(r)}const Lt={};function Xt(r){return Pn(()=>{const s={type:r.type,bootstrap:r.bootstrap||B,declarations:r.declarations||B,imports:r.imports||B,exports:r.exports||B,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(Lt[r.id]=r.type),s})}function Fo(r,s){if(null==r)return oi;const a={};for(const u in r)if(r.hasOwnProperty(u)){let h=r[u],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),a[h]=u,s&&(s[h]=p)}return a}const ka=Ne;function Lo(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function In(r){return r[z]||null}function Sn(r,s){const a=r[ne]||null;if(!a&&!0===s)throw new Error(`Type ${ae(r)} does not have '\u0275mod' property.`);return a}function vi(r){return Array.isArray(r)&&"object"==typeof r[1]}function ci(r){return Array.isArray(r)&&!0===r[1]}function ml(r){return 0!=(8&r.flags)}function xa(r){return 2==(2&r.flags)}function is(r){return 1==(1&r.flags)}function ki(r){return null!==r.template}function $u(r){return 0!=(512&r[2])}function xi(r,s){return r.hasOwnProperty(je)?r[je]:null}class As{constructor(s,a,u){this.previousValue=s,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function ho(){return fo}function fo(r){return r.type.prototype.ngOnChanges&&(r.setInput=ef),Sc}function Sc(){const r=Tc(this),s=null==r?void 0:r.current;if(s){const a=r.previous;if(a===oi)r.previous=s;else for(let u in s)a[u]=s[u];r.current=null,this.ngOnChanges(s)}}function ef(r,s,a,u){const h=Tc(r)||function Sr(r,s){return r[bi]=s}(r,{previous:oi,current:null}),p=h.current||(h.current={}),y=h.previous,C=this.declaredInputs[a],E=y[C];p[C]=new As(E&&E.currentValue,s,y===oi),r[u]=s}ho.ngInherit=!0;const bi="__ngSimpleChanges__";function Tc(r){return r[bi]||null}let Fa;function _l(r){Fa=r}function qt(r){return!!r.listen}const Ho={createRenderer:(r,s)=>function Tr(){return void 0!==Fa?Fa:"undefined"!=typeof document?document:void 0}()};function Ut(r){for(;Array.isArray(r);)r=r[0];return r}function Ms(r,s){return Ut(s[r])}function Fn(r,s){return Ut(s[r.index])}function ln(r,s){return r.data[s]}function Ar(r,s){return r[s]}function Ln(r,s){const a=s[r];return vi(a)?a:a[0]}function po(r){return 4==(4&r[2])}function cr(r){return 128==(128&r[2])}function Ci(r,s){return null==s?null:r[s]}function os(r){r[18]=0}function as(r,s){r[5]+=s;let a=r,u=r[3];for(;null!==u&&(1===s&&1===a[5]||-1===s&&0===a[5]);)u[5]+=s,a=u,u=u[3]}const nt={lFrame:Rs(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function bl(){return nt.bindingsEnabled}function De(){return nt.lFrame.lView}function wt(){return nt.lFrame.tView}function qo(r){return nt.lFrame.contextLView=r,r[8]}function en(){let r=ls();for(;null!==r&&64===r.type;)r=r.parent;return r}function ls(){return nt.lFrame.currentTNode}function di(r,s){const a=nt.lFrame;a.currentTNode=r,a.isParent=s}function Cl(){return nt.lFrame.isParent}function El(){nt.lFrame.isParent=!1}function Yo(){return nt.isInCheckNoChangesMode}function go(r){nt.isInCheckNoChangesMode=r}function Tn(){const r=nt.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}function ur(){return nt.lFrame.bindingIndex++}function Mr(r){const s=nt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,a}function Qo(r,s){const a=nt.lFrame;a.bindingIndex=a.bindingRootIndex=r,ks(s)}function ks(r){nt.lFrame.currentDirectiveIndex=r}function Va(r){const s=nt.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}function Xo(){return nt.lFrame.currentQueryIndex}function Dl(r){nt.lFrame.currentQueryIndex=r}function tf(r){const s=r[1];return 2===s.type?s.declTNode:1===s.type?r[6]:null}function Ua(r,s,a){if(a&rt.SkipSelf){let h=s,p=r;for(;!(h=h.parent,null!==h||a&rt.Host||(h=tf(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;s=h,r=p}const u=nt.lFrame=Il();return u.currentTNode=s,u.lView=r,!0}function xs(r){const s=Il(),a=r[1];nt.lFrame=s,s.currentTNode=a.firstChild,s.lView=r,s.tView=a,s.contextLView=r,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Il(){const r=nt.lFrame,s=null===r?null:r.child;return null===s?Rs(r):s}function Rs(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function Fc(){const r=nt.lFrame;return nt.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Zu=Fc;function mo(){const r=Fc();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Bn(){return nt.lFrame.selectedIndex}function kr(r){nt.lFrame.selectedIndex=r}function cn(){const r=nt.lFrame;return ln(r.tView,r.selectedIndex)}function _g(){nt.lFrame.currentNamespace="svg"}function yg(){!function vg(){nt.lFrame.currentNamespace=null}()}function xr(r,s){for(let a=s.directiveStart,u=s.directiveEnd;a<u;a++){const p=r.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:C,ngAfterViewInit:E,ngAfterViewChecked:T,ngOnDestroy:M}=p;y&&(r.contentHooks||(r.contentHooks=[])).push(-a,y),C&&((r.contentHooks||(r.contentHooks=[])).push(a,C),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(a,C)),E&&(r.viewHooks||(r.viewHooks=[])).push(-a,E),T&&((r.viewHooks||(r.viewHooks=[])).push(a,T),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(a,T)),null!=M&&(r.destroyHooks||(r.destroyHooks=[])).push(a,M)}}function Jo(r,s,a){Vn(r,s,3,a)}function Tl(r,s,a,u){(3&r[2])===a&&Vn(r,s,a,u)}function Ha(r,s){let a=r[2];(3&a)===s&&(a&=2047,a+=1,r[2]=a)}function Vn(r,s,a,u){const p=null!=u?u:-1,y=s.length-1;let C=0;for(let E=void 0!==u?65535&r[18]:0;E<y;E++)if("number"==typeof s[E+1]){if(C=s[E],null!=u&&C>=u)break}else s[E]<0&&(r[18]+=65536),(C<p||-1==p)&&(Qu(r,a,s,E),r[18]=(4294901760&r[18])+E+2),E++}function Qu(r,s,a,u){const h=a[u]<0,p=a[u+1],C=r[h?-a[u]:a[u]];if(h){if(r[2]>>11<r[18]>>16&&(3&r[2])===s){r[2]+=2048;try{p.call(C)}finally{}}}else try{p.call(C)}finally{}}class _o{constructor(s,a,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function ze(r,s,a){const u=qt(r);let h=0;for(;h<a.length;){const p=a[h];if("number"==typeof p){if(0!==p)break;h++;const y=a[h++],C=a[h++],E=a[h++];u?r.setAttribute(s,C,E,y):s.setAttributeNS(y,C,E)}else{const y=p,C=a[++h];hi(y)?u&&r.setProperty(s,y,C):u?r.setAttribute(s,y,C):s.setAttribute(y,C),h++}}return h}function st(r){return 3===r||4===r||6===r}function hi(r){return 64===r.charCodeAt(0)}function Un(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let a=-1;for(let u=0;u<s.length;u++){const h=s[u];"number"==typeof h?a=h:0===a||Os(r,a,h,null,-1===a||2===a?s[++u]:null)}}return r}function Os(r,s,a,u,h){let p=0,y=r.length;if(-1===s)y=-1;else for(;p<r.length;){const C=r[p++];if("number"==typeof C){if(C===s){y=-1;break}if(C>s){y=p-1;break}}}for(;p<r.length;){const C=r[p];if("number"==typeof C)break;if(C===a){if(null===u)return void(null!==h&&(r[p+1]=h));if(u===r[p+1])return void(r[p+2]=h)}p++,null!==u&&p++,null!==h&&p++}-1!==y&&(r.splice(y,0,s),p=y+1),r.splice(p++,0,a),null!==u&&r.splice(p++,0,u),null!==h&&r.splice(p++,0,h)}function Vc(r){return-1!==r}function Kt(r){return 32767&r}function Pr(r,s){let a=function Al(r){return r>>16}(r),u=s;for(;a>0;)u=u[15],a--;return u}let na=!0;function Oi(r){const s=na;return na=r,s}let kl=0;function Ht(r,s){const a=Nr(r,s);if(-1!==a)return a;const u=s[1];u.firstCreatePass&&(r.injectorIndex=s.length,Ps(u.data,r),Ps(s,null),Ps(u.blueprint,null));const h=ja(r,s),p=r.injectorIndex;if(Vc(h)){const y=Kt(h),C=Pr(h,s),E=C[1].data;for(let T=0;T<8;T++)s[p+T]=C[y+T]|E[y+T]}return s[p+8]=h,p}function Ps(r,s){r.push(0,0,0,0,0,0,0,0,s)}function Nr(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function ja(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let a=0,u=null,h=s;for(;null!==h;){const p=h[1],y=p.type;if(u=2===y?p.declTNode:1===y?h[6]:null,null===u)return-1;if(a++,h=h[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function ti(r,s,a){!function ia(r,s,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(Ee)&&(u=a[Ee]),null==u&&(u=a[Ee]=kl++);const h=255&u;s.data[r+(h>>5)]|=1<<h}(r,s,a)}function Fr(r,s,a){if(a&rt.Optional)return r;me(s,"NodeInjector")}function ra(r,s,a,u){if(a&rt.Optional&&void 0===u&&(u=null),0==(a&(rt.Self|rt.Host))){const h=r[9],p=gn(void 0);try{return h?h.get(s,u,a&rt.Optional):Jr(s,u,a&rt.Optional)}finally{gn(p)}}return Fr(u,s,a)}function us(r,s,a,u=rt.Default,h){if(null!==r){const p=function Fs(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(Ee)?r[Ee]:void 0;return"number"==typeof s?s>=0?255&s:sa:s}(a);if("function"==typeof p){if(!Ua(s,r,u))return u&rt.Host?Fr(h,a,u):ra(s,a,u,h);try{const y=p(u);if(null!=y||u&rt.Optional)return y;me(a)}finally{Zu()}}else if("number"==typeof p){let y=null,C=Nr(r,s),E=-1,T=u&rt.Host?s[16][6]:null;for((-1===C||u&rt.SkipSelf)&&(E=-1===C?ja(r,s):s[C+8],-1!==E&&un(u,!1)?(y=s[1],C=Kt(E),s=Pr(E,s)):C=-1);-1!==C;){const M=s[1];if(Ni(p,C,M.data)){const N=yo(C,s,a,y,u,T);if(N!==Ns)return N}E=s[C+8],-1!==E&&un(u,s[1].data[C+8]===T)&&Ni(p,C,s)?(y=M,C=Kt(E),s=Pr(E,s)):C=-1}}}return ra(s,a,u,h)}const Ns={};function sa(){return new Br(en(),De())}function yo(r,s,a,u,h,p){const y=s[1],C=y.data[r+8],M=Lr(C,y,a,null==u?xa(C)&&na:u!=y&&0!=(3&C.type),h&rt.Host&&p===C);return null!==M?Ei(s,y,M,C):Ns}function Lr(r,s,a,u,h){const p=r.providerIndexes,y=s.data,C=1048575&p,E=r.directiveStart,M=p>>20,H=h?C+M:r.directiveEnd;for(let K=u?C:C+M;K<H;K++){const ve=y[K];if(K<E&&a===ve||K>=E&&ve.type===a)return K}if(h){const K=y[E];if(K&&ki(K)&&K.type===a)return E}return null}function Ei(r,s,a,u){let h=r[a];const p=s.data;if(function nf(r){return r instanceof _o}(h)){const y=h;y.resolving&&function Ae(r,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new Me(-200,`Circular dependency in DI detected for ${r}${a}`)}(de(p[a]));const C=Oi(y.canSeeViewProviders);y.resolving=!0;const E=y.injectImpl?gn(y.injectImpl):null;Ua(r,u,rt.Default);try{h=r[a]=y.factory(void 0,p,r,u),s.firstCreatePass&&a>=u.directiveStart&&function Sl(r,s,a){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:p}=s.type.prototype;if(u){const y=fo(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(r,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(r,y)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-r,h),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(r,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(r,p))}(a,p[a],s)}finally{null!==E&&gn(E),Oi(C),y.resolving=!1,Zu()}}return h}function Ni(r,s,a){return!!(a[s+(r>>5)]&1<<r)}function un(r,s){return!(r&rt.Self||r&rt.Host&&s)}class Br{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,u){return us(this._tNode,this._lView,s,u,a)}}function za(r){return Pn(()=>{const s=r.prototype.constructor,a=s[je]||dn(s),u=Object.prototype;let h=Object.getPrototypeOf(r.prototype).constructor;for(;h&&h!==u;){const p=h[je]||dn(h);if(p&&p!==a)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function dn(r){return Ve(r)?()=>{const s=dn(X(r));return s&&s()}:xi(r)}function _n(r){return function Pi(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const a=r.attrs;if(a){const u=a.length;let h=0;for(;h<u;){const p=a[h];if(st(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<u&&"string"==typeof a[h];)h++;else{if(p===s)return a[h+1];h+=2}}}return null}(en(),r)}const ds="__parameters__";function tn(r,s,a){return Pn(()=>{const u=function hr(r){return function(...a){if(r){const u=r(...a);for(const h in u)this[h]=u[h]}}}(s);function h(...p){if(this instanceof h)return u.apply(this,p),this;const y=new h(...p);return C.annotation=y,C;function C(E,T,M){const N=E.hasOwnProperty(ds)?E[ds]:Object.defineProperty(E,ds,{value:[]})[ds];for(;N.length<=M;)N.push(null);return(N[M]=N[M]||[]).push(y),E}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=r,h.annotationCls=h,h})}class hn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=zt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const sf=new hn("AnalyzeForEntryComponents");function ni(r,s){void 0===s&&(s=r);for(let a=0;a<r.length;a++){let u=r[a];Array.isArray(u)?(s===r&&(s=r.slice(0,a)),ni(u,s)):s!==r&&s.push(u)}return s}function Li(r,s){r.forEach(a=>Array.isArray(a)?Li(a,s):s(a))}function Ol(r,s,a){s>=r.length?r.push(a):r.splice(s,0,a)}function Us(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function Yi(r,s){const a=[];for(let u=0;u<r;u++)a.push(s);return a}function Mn(r,s,a){let u=Hs(r,s);return u>=0?r[1|u]=a:(u=~u,function Pl(r,s,a,u){let h=r.length;if(h==s)r.push(a,u);else if(1===h)r.push(u,r[0]),r[0]=a;else{for(h--,r.push(r[h-1],r[h]);h>s;)r[h]=r[h-2],h--;r[s]=a,r[s+1]=u}}(r,u,s,a)),u}function Fl(r,s){const a=Hs(r,s);if(a>=0)return r[1|a]}function Hs(r,s){return function zc(r,s,a){let u=0,h=r.length>>a;for(;h!==u;){const p=u+(h-u>>1),y=r[p<<a];if(s===y)return p<<a;y>s?h=p:u=p+1}return~(h<<a)}(r,s,1)}const gs={},bo="__NG_DI_FLAG__",la="ngTempTokenPath",w=/\n/gm,k="__source",L=ge({provide:String,useValue:ge});let Z;function ie(r){const s=Z;return Z=r,s}function pe(r,s=rt.Default){if(void 0===Z)throw new Me(203,"");return null===Z?Jr(r,void 0,s):Z.get(r,s&rt.Optional?null:void 0,s)}function Oe(r,s=rt.Default){return(function sn(){return Ai}()||pe)(X(r),s)}const mt=Oe;function jt(r){const s=[];for(let a=0;a<r.length;a++){const u=X(r[a]);if(Array.isArray(u)){if(0===u.length)throw new Me(900,"");let h,p=rt.Default;for(let y=0;y<u.length;y++){const C=u[y],E=Yn(C);"number"==typeof E?-1===E?h=C.token:p|=E:h=C}s.push(Oe(h,p))}else s.push(Oe(u))}return s}function vn(r,s){return r[bo]=s,r.prototype[bo]=s,r}function Yn(r){return r[bo]}const Vi=vn(tn("Inject",r=>({token:r})),-1),pr=vn(tn("Optional"),8),Qi=vn(tn("SkipSelf"),4);let zs;function da(r){var s;return(null===(s=function $c(){if(void 0===zs&&(zs=null,Et.trustedTypes))try{zs=Et.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return zs}())||void 0===s?void 0:s.createHTML(r))||r}class $s{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class id extends $s{getTypeName(){return"HTML"}}class Mg extends $s{getTypeName(){return"Style"}}class Ul extends $s{getTypeName(){return"Script"}}class rd extends $s{getTypeName(){return"URL"}}class kg extends $s{getTypeName(){return"ResourceURL"}}function Hr(r){return r instanceof $s?r.changingThisBreaksApplicationSecurity:r}function Ws(r,s){const a=ha(r);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function ha(r){return r instanceof $s&&r.getTypeName()||null}function sd(r){return new id(r)}function Yc(r){return new Mg(r)}function uf(r){return new Ul(r)}function df(r){return new rd(r)}function Kc(r){return new kg(r)}class xg{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(da(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class Rg{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=da(s),a;const u=this.inertDocument.createElement("body");return u.innerHTML=da(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(s){const a=s.attributes;for(let h=a.length-1;0<h;h--){const y=a.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&s.removeAttribute(y)}let u=s.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const _s=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,od=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function fa(r){return(r=String(r)).match(_s)||r.match(od)?r:"unsafe:"+r}function Xi(r){const s={};for(const a of r.split(","))s[a]=!0;return s}function Hl(...r){const s={};for(const a of r)for(const u in a)a.hasOwnProperty(u)&&(s[u]=!0);return s}const ff=Xi("area,br,col,hr,img,wbr"),Qc=Xi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Xc=Xi("rp,rt"),ld=Hl(ff,Hl(Qc,Xi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Hl(Xc,Xi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Hl(Xc,Qc)),cd=Xi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ud=Xi("srcset"),Co=Hl(cd,ud,Xi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Pg=Xi("script,style,template");class zl{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!ld.hasOwnProperty(a))return this.sanitizedSomething=!0,!Pg.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=s.attributes;for(let h=0;h<u.length;h++){const p=u.item(h),y=p.name,C=y.toLowerCase();if(!Co.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let E=p.value;cd[C]&&(E=fa(E)),ud[C]&&(r=E,E=(r=String(r)).split(",").map(s=>fa(s.trim())).join(", ")),this.buf.push(" ",y,'="',hd(E),'"')}var r;return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();ld.hasOwnProperty(a)&&!ff.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(hd(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const Ka=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dd=/([^\#-~ |!])/g;function hd(r){return r.replace(/&/g,"&amp;").replace(Ka,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(dd,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Gl;function $l(r,s){let a=null;try{Gl=Gl||function hf(r){const s=new Rg(r);return function Og(){try{return!!(new window.DOMParser).parseFromString(da(""),"text/html")}catch(r){return!1}}()?new xg(s):s}(r);let u=s?String(s):"";a=Gl.getInertBodyElement(u);let h=5,p=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=p,p=a.innerHTML,a=Gl.getInertBodyElement(u)}while(u!==p);return da((new zl).sanitizeChildren(fd(a)||a))}finally{if(a){const u=fd(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function fd(r){return"content"in r&&function pd(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Ft=(()=>((Ft=Ft||{})[Ft.NONE=0]="NONE",Ft[Ft.HTML=1]="HTML",Ft[Ft.STYLE=2]="STYLE",Ft[Ft.SCRIPT=3]="SCRIPT",Ft[Ft.URL=4]="URL",Ft[Ft.RESOURCE_URL=5]="RESOURCE_URL",Ft))();function Qa(r){const s=function Eo(){const r=De();return r&&r[12]}();return s?s.sanitize(Ft.URL,r)||"":Ws(r,"URL")?Hr(r):fa(q(r))}const md="__ngContext__";function fi(r,s){r[md]=s}function _d(r){const s=function ga(r){return r[md]||null}(r);return s?Array.isArray(s)?s:s.lView:null}function ya(r){return r.ngOriginalError}function bf(r,...s){r.error(...s)}class ri{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),u=function Hg(r){return r&&r.ngErrorLogger||bf}(s);u(this._console,"ERROR",s),a&&u(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&ya(s);for(;a&&ya(a);)a=ya(a);return a||null}}const $g=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Et))();function g(r){return r instanceof Function?r():r}var he=(()=>((he=he||{})[he.Important=1]="Important",he[he.DashCase=2]="DashCase",he))();function qe(r,s){return undefined(r,s)}function fn(r){const s=r[3];return ci(s)?s[3]:s}function Xa(r){return Id(r[13])}function Ja(r){return Id(r[4])}function Id(r){for(;null!==r&&!ci(r);)r=r[4];return r}function wo(r,s,a,u,h){if(null!=u){let p,y=!1;ci(u)?p=u:vi(u)&&(y=!0,u=u[0]);const C=Ut(u);0===r&&null!==a?null==h?Xg(s,a,C):jr(s,a,C,h||null,!0):1===r&&null!==a?jr(s,a,C,h||null,!0):2===r?function nm(r,s,a){const u=su(r,s);u&&function d0(r,s,a,u){qt(r)?r.removeChild(s,a,u):s.removeChild(a)}(r,u,s,a)}(s,C,y):3===r&&s.destroyNode(C),null!=p&&function f0(r,s,a,u,h){const p=a[7];p!==Ut(a)&&wo(s,r,u,p,h);for(let C=10;C<a.length;C++){const E=a[C];Sf(E[1],E,r,s,u,p)}}(s,r,p,a,h)}}function iu(r,s,a){if(qt(r))return r.createElement(s,a);{const u=null!==a?function Na(r){const s=r.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(a):null;return null===u?r.createElement(s):r.createElementNS(u,s)}}function Zy(r,s){const a=r[9],u=a.indexOf(s),h=s[3];1024&s[2]&&(s[2]&=-1025,as(h,-1)),a.splice(u,1)}function Yg(r,s){if(r.length<=10)return;const a=10+s,u=r[a];if(u){const h=u[17];null!==h&&h!==r&&Zy(h,u),s>0&&(r[a-1][4]=u[4]);const p=Us(r,10+s);!function Kn(r,s){Sf(r,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const y=p[19];null!==y&&y.detachView(p[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Kg(r,s){if(!(256&s[2])){const a=s[11];qt(a)&&a.destroyNode&&Sf(r,s,a,3,null,null),function wf(r){let s=r[13];if(!s)return Qg(r[1],r);for(;s;){let a=null;if(vi(s))a=s[13];else{const u=s[10];u&&(a=u)}if(!a){for(;s&&!s[4]&&s!==r;)vi(s)&&Qg(s[1],s),s=s[3];null===s&&(s=r),vi(s)&&Qg(s[1],s),a=s&&s[4]}s=a}}(s)}}function Qg(r,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function Ky(r,s){let a;if(null!=r&&null!=(a=r.destroyHooks))for(let u=0;u<a.length;u+=2){const h=s[a[u]];if(!(h instanceof _o)){const p=a[u+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const C=h[p[y]],E=p[y+1];try{E.call(C)}finally{}}else try{p.call(h)}finally{}}}}(r,s),function Yy(r,s){const a=r.cleanup,u=s[7];let h=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+1],C="function"==typeof y?y(s):Ut(s[y]),E=u[h=a[p+2]],T=a[p+3];"boolean"==typeof T?C.removeEventListener(a[p],E,T):T>=0?u[h=T]():u[h=-T].unsubscribe(),p+=2}else{const y=u[h=a[p+1]];a[p].call(y)}if(null!==u){for(let p=h+1;p<u.length;p++)u[p]();s[7]=null}}(r,s),1===s[1].type&&qt(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&ci(s[3])){a!==s[3]&&Zy(a,s);const u=s[19];null!==u&&u.detachView(r)}}}function Df(r,s,a){return function u0(r,s,a){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return a[0];if(2&u.flags){const h=r.data[u.directiveStart].encapsulation;if(h===At.None||h===At.Emulated)return null}return Fn(u,a)}(r,s.parent,a)}function jr(r,s,a,u,h){qt(r)?r.insertBefore(s,a,u,h):s.insertBefore(a,u,h)}function Xg(r,s,a){qt(r)?r.appendChild(s,a):s.appendChild(a)}function Qy(r,s,a,u,h){null!==u?jr(r,s,a,u,h):Xg(r,s,a)}function su(r,s){return qt(r)?r.parentNode(s):s.parentNode}function Xy(r,s,a){return Jg(r,s,a)}let Jg=function Jy(r,s,a){return 40&r.type?Fn(r,a):null};function If(r,s,a,u){const h=Df(r,u,s),p=s[11],C=Xy(u.parent||s[6],u,s);if(null!=h)if(Array.isArray(a))for(let E=0;E<a.length;E++)Qy(p,h,a[E],C,!1);else Qy(p,h,a,C,!1)}function ou(r,s){if(null!==s){const a=s.type;if(3&a)return Fn(s,r);if(4&a)return tm(-1,r[s.index]);if(8&a){const u=s.child;if(null!==u)return ou(r,u);{const h=r[s.index];return ci(h)?tm(-1,h):Ut(h)}}if(32&a)return qe(s,r)()||Ut(r[s.index]);{const u=tv(r,s);return null!==u?Array.isArray(u)?u[0]:ou(fn(r[16]),u):ou(r,s.next)}}return null}function tv(r,s){return null!==s?r[16][6].projection[s.projection]:null}function tm(r,s){const a=10+r+1;if(a<s.length){const u=s[a],h=u[1].firstChild;if(null!==h)return ou(u,h)}return s[7]}function im(r,s,a,u,h,p,y){for(;null!=a;){const C=u[a.index],E=a.type;if(y&&0===s&&(C&&fi(Ut(C),u),a.flags|=4),64!=(64&a.flags))if(8&E)im(r,s,a.child,u,h,p,!1),wo(s,r,h,C,p);else if(32&E){const T=qe(a,u);let M;for(;M=T();)wo(s,r,h,M,p);wo(s,r,h,C,p)}else 16&E?Tf(r,s,u,a,h,p):wo(s,r,h,C,p);a=y?a.projectionNext:a.next}}function Sf(r,s,a,u,h,p){im(a,u,r.firstChild,s,h,p,!1)}function Tf(r,s,a,u,h,p){const y=a[16],E=y[6].projection[u.projection];if(Array.isArray(E))for(let T=0;T<E.length;T++)wo(s,r,h,E[T],p);else im(r,s,E,y[3],h,p,!0)}function Hn(r,s,a){qt(r)?r.setAttribute(s,"style",a):s.style.cssText=a}function Ys(r,s,a){qt(r)?""===a?r.removeAttribute(s,"class"):r.setAttribute(s,"class",a):s.className=a}function p0(r,s,a){let u=r.length;for(;;){const h=r.indexOf(s,a);if(-1===h)return h;if(0===h||r.charCodeAt(h-1)<=32){const p=s.length;if(h+p===u||r.charCodeAt(h+p)<=32)return h}a=h+1}}const nv="ng-template";function g0(r,s,a){let u=0;for(;u<r.length;){let h=r[u++];if(a&&"class"===h){if(h=r[u],-1!==p0(h.toLowerCase(),s,0))return!0}else if(1===h){for(;u<r.length&&"string"==typeof(h=r[u++]);)if(h.toLowerCase()===s)return!0;return!1}}return!1}function iv(r){return 4===r.type&&r.value!==nv}function Mf(r,s,a){return s===(4!==r.type||a?r.value:nv)}function rv(r,s,a){let u=4;const h=r.attrs||[],p=function Ad(r){for(let s=0;s<r.length;s++)if(st(r[s]))return s;return r.length}(h);let y=!1;for(let C=0;C<s.length;C++){const E=s[C];if("number"!=typeof E){if(!y)if(4&u){if(u=2|1&u,""!==E&&!Mf(r,E,a)||""===E&&1===s.length){if(Ks(u))return!1;y=!0}}else{const T=8&u?E:s[++C];if(8&u&&null!==r.attrs){if(!g0(r.attrs,T,a)){if(Ks(u))return!1;y=!0}continue}const N=m0(8&u?"class":E,h,iv(r),a);if(-1===N){if(Ks(u))return!1;y=!0;continue}if(""!==T){let H;H=N>p?"":h[N+1].toLowerCase();const K=8&u?H:null;if(K&&-1!==p0(K,T,0)||2&u&&T!==H){if(Ks(u))return!1;y=!0}}}}else{if(!y&&!Ks(u)&&!Ks(E))return!1;if(y&&Ks(E))continue;y=!1,u=E|1&u}}return Ks(u)||y}function Ks(r){return 0==(1&r)}function m0(r,s,a,u){if(null===s)return-1;let h=0;if(u||!a){let p=!1;for(;h<s.length;){const y=s[h];if(y===r)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let C=s[++h];for(;"string"==typeof C;)C=s[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function _0(r,s){let a=r.indexOf(4);if(a>-1)for(a++;a<r.length;){const u=r[a];if("number"==typeof u)return-1;if(u===s)return a;a++}return-1}(s,r)}function sv(r,s,a=!1){for(let u=0;u<s.length;u++)if(rv(r,s[u],a))return!0;return!1}function av(r,s){e:for(let a=0;a<s.length;a++){const u=s[a];if(r.length===u.length){for(let h=0;h<r.length;h++)if(r[h]!==u[h])continue e;return!0}}return!1}function lv(r,s){return r?":not("+s.trim()+")":s}function y0(r){let s=r[0],a=1,u=2,h="",p=!1;for(;a<r.length;){let y=r[a];if("string"==typeof y)if(2&u){const C=r[++a];h+="["+y+(C.length>0?'="'+C+'"':"")+"]"}else 8&u?h+="."+y:4&u&&(h+=" "+y);else""!==h&&!Ks(y)&&(s+=lv(p,h),h=""),u=y,p=p||!Ks(u);a++}return""!==h&&(s+=lv(p,h)),s}const ft={};function Md(r){rm(wt(),De(),Bn()+r,Yo())}function rm(r,s,a,u){if(!u)if(3==(3&s[2])){const p=r.preOrderCheckHooks;null!==p&&Jo(s,p,a)}else{const p=r.preOrderHooks;null!==p&&Tl(s,p,0,a)}kr(a)}function sm(r,s){return r<<17|s<<2}function Qs(r){return r>>17&32767}function om(r){return 2|r}function va(r){return(131068&r)>>2}function am(r,s){return-131069&r|s<<2}function au(r){return 1|r}function T0(r,s){const a=r.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const h=a[u],p=a[u+1];if(-1!==p){const y=r.data[p];Dl(h),y.contentQueries(2,s[p],p)}}}function ec(r,s,a,u,h,p,y,C,E,T){const M=s.blueprint.slice();return M[0]=h,M[2]=140|u,os(M),M[3]=M[15]=r,M[8]=a,M[10]=y||r&&r[10],M[11]=C||r&&r[11],M[12]=E||r&&r[12]||null,M[9]=T||r&&r[9]||null,M[6]=p,M[16]=2==s.type?r[16]:M,M}function tc(r,s,a,u,h){let p=r.data[s];if(null===p)p=function Cv(r,s,a,u,h){const p=ls(),y=Cl(),E=r.data[s]=function Ff(r,s,a,u,h,p){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,s,u,h);return null===r.firstChild&&(r.firstChild=E),null!==p&&(y?null==p.child&&null!==E.parent&&(p.child=E):null===p.next&&(p.next=E)),E}(r,s,a,u,h),function Ko(){return nt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=u,p.attrs=h;const y=function Zo(){const r=nt.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return di(p,!0),p}function Fd(r,s,a,u){if(0===a)return-1;const h=s.length;for(let p=0;p<a;p++)s.push(u),r.blueprint.push(u),r.data.push(null);return h}function Pf(r,s,a){xs(s);try{const u=r.viewQuery;null!==u&&Ov(1,u,a);const h=r.template;null!==h&&A0(r,s,h,1,a),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&T0(r,s),r.staticViewQueries&&Ov(2,r.viewQuery,a);const p=r.components;null!==p&&function MT(r,s){for(let a=0;a<s.length;a++)jT(r,s[a])}(s,p)}catch(u){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),u}finally{s[2]&=-5,mo()}}function Ld(r,s,a,u){const h=s[2];if(256==(256&h))return;xs(s);const p=Yo();try{os(s),function wl(r){return nt.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==a&&A0(r,s,a,2,u);const y=3==(3&h);if(!p)if(y){const T=r.preOrderCheckHooks;null!==T&&Jo(s,T,null)}else{const T=r.preOrderHooks;null!==T&&Tl(s,T,0,null),Ha(s,0)}if(function L0(r){for(let s=Xa(r);null!==s;s=Ja(s)){if(!s[2])continue;const a=s[9];for(let u=0;u<a.length;u++){const h=a[u],p=h[3];0==(1024&h[2])&&as(p,1),h[2]|=1024}}}(s),function UT(r){for(let s=Xa(r);null!==s;s=Ja(s))for(let a=10;a<s.length;a++){const u=s[a],h=u[1];cr(u)&&Ld(h,u,h.template,u[8])}}(s),null!==r.contentQueries&&T0(r,s),!p)if(y){const T=r.contentCheckHooks;null!==T&&Jo(s,T)}else{const T=r.contentHooks;null!==T&&Tl(s,T,1),Ha(s,1)}!function TT(r,s){const a=r.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const h=a[u];if(h<0)kr(~h);else{const p=h,y=a[++u],C=a[++u];Qo(y,p),C(2,s[p])}}}finally{kr(-1)}}(r,s);const C=r.components;null!==C&&function AT(r,s){for(let a=0;a<s.length;a++)HT(r,s[a])}(s,C);const E=r.viewQuery;if(null!==E&&Ov(2,E,u),!p)if(y){const T=r.viewCheckHooks;null!==T&&Jo(s,T)}else{const T=r.viewHooks;null!==T&&Tl(s,T,2),Ha(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),p||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,as(s[3],-1))}finally{mo()}}function kT(r,s,a,u){const h=s[10],p=!Yo(),y=po(s);try{p&&!y&&h.begin&&h.begin(),y&&Pf(r,s,u),Ld(r,s,a,u)}finally{p&&!y&&h.end&&h.end()}}function A0(r,s,a,u,h){const p=Bn(),y=2&u;try{kr(-1),y&&s.length>20&&rm(r,s,20,Yo()),a(u,h)}finally{kr(p)}}function Nf(r,s,a){if(ml(s)){const h=s.directiveEnd;for(let p=s.directiveStart;p<h;p++){const y=r.data[p];y.contentQueries&&y.contentQueries(1,a[p],p)}}}function nc(r,s,a){!bl()||(function P0(r,s,a,u){const h=a.directiveStart,p=a.directiveEnd;r.firstCreatePass||Ht(a,s),fi(u,s);const y=a.initialInputs;for(let C=h;C<p;C++){const E=r.data[C],T=ki(E);T&&Mv(s,a,E);const M=Ei(s,r,C,a);fi(M,s),null!==y&&fm(0,C-h,M,E,0,y),T&&(Ln(a.index,s)[8]=M)}}(r,s,a,Fn(a,s)),128==(128&a.flags)&&function FT(r,s,a){const u=a.directiveStart,h=a.directiveEnd,y=a.index,C=function Nc(){return nt.lFrame.currentDirectiveIndex}();try{kr(y);for(let E=u;E<h;E++){const T=r.data[E],M=s[E];ks(E),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&N0(T,M)}}finally{kr(-1),ks(C)}}(r,s,a))}function cu(r,s,a=Fn){const u=s.localNames;if(null!==u){let h=s.index+1;for(let p=0;p<u.length;p+=2){const y=u[p+1],C=-1===y?a(s,r):r[y];r[h++]=C}}}function Ev(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=ic(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):s}function ic(r,s,a,u,h,p,y,C,E,T){const M=20+u,N=M+h,H=function xT(r,s){const a=[];for(let u=0;u<s;u++)a.push(u<r?null:ft);return a}(M,N),K="function"==typeof T?T():T;return H[1]={type:r,blueprint:H,template:a,queries:null,viewQuery:C,declTNode:s,data:H.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:E,consts:K,incompleteFirstPass:!1}}function k0(r,s,a,u){const h=U0(s);null===a?h.push(u):(h.push(a),r.firstCreatePass&&H0(r).push(u,h.length-1))}function x0(r,s,a){for(let u in r)if(r.hasOwnProperty(u)){const h=r[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(s,h):a[u]=[s,h]}return a}function Xn(r,s,a,u,h,p,y,C){const E=Fn(s,a);let M,T=s.inputs;!C&&null!=T&&(M=T[u])?(G0(r,a,M,u,h),xa(s)&&function Dv(r,s){const a=Ln(s,r);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(u=function RT(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(u),h=null!=y?y(h,s.value||"",u):h,qt(p)?p.setProperty(E,u,h):hi(u)||(E.setProperty?E.setProperty(u,h):E[u]=h))}function Bd(r,s,a,u){let h=!1;if(bl()){const p=function Sv(r,s,a){const u=r.directiveRegistry;let h=null;if(u)for(let p=0;p<u.length;p++){const y=u[p];sv(a,y.selectors,!1)&&(h||(h=[]),ti(Ht(a,s),r,y.type),ki(y)?(Lf(r,a),h.unshift(y)):h.push(y))}return h}(r,s,a),y=null===u?null:{"":-1};if(null!==p){h=!0,Tv(a,r.data.length,p.length);for(let M=0;M<p.length;M++){const N=p[M];N.providersResolver&&N.providersResolver(N)}let C=!1,E=!1,T=Fd(r,s,p.length,null);for(let M=0;M<p.length;M++){const N=p[M];a.mergedAttrs=Un(a.mergedAttrs,N.hostAttrs),Av(r,a,s,T,N),BT(T,N,y),null!==N.contentQueries&&(a.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(a.flags|=128);const H=N.type.prototype;!C&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(a.index),C=!0),!E&&(H.ngOnChanges||H.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(a.index),E=!0),T++}!function hm(r,s){const u=s.directiveEnd,h=r.data,p=s.attrs,y=[];let C=null,E=null;for(let T=s.directiveStart;T<u;T++){const M=h[T],N=M.inputs,H=null===p||iv(s)?null:VT(N,p);y.push(H),C=x0(N,T,C),E=x0(M.outputs,T,E)}null!==C&&(C.hasOwnProperty("class")&&(s.flags|=16),C.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=y,s.inputs=C,s.outputs=E}(r,a)}y&&function LT(r,s,a){if(s){const u=r.localNames=[];for(let h=0;h<s.length;h+=2){const p=a[s[h+1]];if(null==p)throw new Me(-301,!1);u.push(s[h],p)}}}(a,u,y)}return a.mergedAttrs=Un(a.mergedAttrs,a.attrs),h}function Iv(r,s,a,u,h,p){const y=p.hostBindings;if(y){let C=r.hostBindingOpCodes;null===C&&(C=r.hostBindingOpCodes=[]);const E=~s.index;(function O0(r){let s=r.length;for(;s>0;){const a=r[--s];if("number"==typeof a&&a<0)return a}return 0})(C)!=E&&C.push(E),C.push(u,h,y)}}function N0(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function Lf(r,s){s.flags|=2,(r.components||(r.components=[])).push(s.index)}function BT(r,s,a){if(a){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)a[s.exportAs[u]]=r;ki(s)&&(a[""]=r)}}function Tv(r,s,a){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+a,r.providerIndexes=s}function Av(r,s,a,u,h){r.data[u]=h;const p=h.factory||(h.factory=xi(h.type)),y=new _o(p,ki(h),null);r.blueprint[u]=y,a[u]=y,Iv(r,s,0,u,Fd(r,a,h.hostVars,ft),h)}function Mv(r,s,a){const u=Fn(s,r),h=Ev(a),p=r[10],y=pm(r,ec(r,h,null,a.onPush?64:16,u,s,p,p.createRenderer(u,a),null,null));r[s.index]=y}function ys(r,s,a,u,h,p){const y=Fn(r,s);!function Bf(r,s,a,u,h,p,y){if(null==p)qt(r)?r.removeAttribute(s,h,a):s.removeAttribute(h);else{const C=null==y?q(p):y(p,u||"",h);qt(r)?r.setAttribute(s,h,C,a):a?s.setAttributeNS(a,h,C):s.setAttribute(h,C)}}(s[11],y,p,r.value,a,u,h)}function fm(r,s,a,u,h,p){const y=p[s];if(null!==y){const C=u.setInput;for(let E=0;E<y.length;){const T=y[E++],M=y[E++],N=y[E++];null!==C?u.setInput(a,N,T,M):a[M]=N}}}function VT(r,s){let a=null,u=0;for(;u<s.length;){const h=s[u];if(0!==h)if(5!==h){if("number"==typeof h)break;r.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,r[h],s[u+1])),u+=2}else u+=2;else u+=4}return a}function F0(r,s,a,u){return new Array(r,!0,!1,s,null,0,u,a,null,null)}function HT(r,s){const a=Ln(s,r);if(cr(a)){const u=a[1];80&a[2]?Ld(u,a,u.template,a[8]):a[5]>0&&kv(a)}}function kv(r){for(let u=Xa(r);null!==u;u=Ja(u))for(let h=10;h<u.length;h++){const p=u[h];if(1024&p[2]){const y=p[1];Ld(y,p,y.template,p[8])}else p[5]>0&&kv(p)}const a=r[1].components;if(null!==a)for(let u=0;u<a.length;u++){const h=Ln(a[u],r);cr(h)&&h[5]>0&&kv(h)}}function jT(r,s){const a=Ln(s,r),u=a[1];(function zT(r,s){for(let a=s.length;a<r.blueprint.length;a++)s.push(r.blueprint[a])})(u,a),Pf(u,a,a[8])}function pm(r,s){return r[13]?r[14][4]=s:r[13]=s,r[14]=s,s}function xv(r){for(;r;){r[2]|=64;const s=fn(r);if($u(r)&&!s)return r;r=s}return null}function gm(r,s,a){const u=s[10];u.begin&&u.begin();try{Ld(r,s,r.template,a)}catch(h){throw z0(s,h),h}finally{u.end&&u.end()}}function B0(r){!function Rv(r){for(let s=0;s<r.components.length;s++){const a=r.components[s],u=_d(a),h=u[1];kT(h,u,h.template,a)}}(r[8])}function Ov(r,s,a){Dl(0),s(r,a)}const qT=(()=>Promise.resolve(null))();function U0(r){return r[7]||(r[7]=[])}function H0(r){return r.cleanup||(r.cleanup=[])}function j0(r,s,a){return(null===r||ki(r))&&(a=function La(r){for(;Array.isArray(r);){if("object"==typeof r[1])return r;r=r[0]}return null}(a[s.index])),a[11]}function z0(r,s){const a=r[9],u=a?a.get(ri,null):null;u&&u.handleError(s)}function G0(r,s,a,u,h){for(let p=0;p<a.length;){const y=a[p++],C=a[p++],E=s[y],T=r.data[y];null!==T.setInput?T.setInput(E,h,u,C):E[C]=h}}function el(r,s,a){const u=Ms(s,r);!function nu(r,s,a){qt(r)?r.setValue(s,a):s.textContent=a}(r[11],u,a)}function mm(r,s,a){let u=a?r.styles:null,h=a?r.classes:null,p=0;if(null!==s)for(let y=0;y<s.length;y++){const C=s[y];"number"==typeof C?p=C:1==p?h=le(h,C):2==p&&(u=le(u,C+": "+s[++y]+";"))}a?r.styles=u:r.stylesWithoutHost=u,a?r.classes=h:r.classesWithoutHost=h}const Pv=new hn("INJECTOR",-1);class $0{get(s,a=gs){if(a===gs){const u=new Error(`NullInjectorError: No provider for ${ae(s)}!`);throw u.name="NullInjectorError",u}return a}}const Nv=new hn("Set Injector scope."),Vf={},KT={};let Fv;function W0(){return void 0===Fv&&(Fv=new $0),Fv}function q0(r,s=null,a=null,u){const h=Z0(r,s,a,u);return h._resolveInjectorDefTypes(),h}function Z0(r,s=null,a=null,u){return new QT(r,a,s||W0(),u)}class QT{constructor(s,a,u,h=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];a&&Li(a,C=>this.processProvider(C,s,a)),Li([s],C=>this.processInjectorType(C,[],p)),this.records.set(Pv,uu(void 0,this));const y=this.records.get(Nv);this.scope=null!=y?y.value:null,this.source=h||("object"==typeof s?null:ae(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=gs,u=rt.Default){this.assertNotDestroyed();const h=ie(this),p=gn(void 0);try{if(!(u&rt.SkipSelf)){let C=this.records.get(s);if(void 0===C){const E=function sA(r){return"function"==typeof r||"object"==typeof r&&r instanceof hn}(s)&&Tt(s);C=E&&this.injectableDefInScope(E)?uu(Lv(s),Vf):null,this.records.set(s,C)}if(null!=C)return this.hydrate(s,C)}return(u&rt.Self?W0():this.parent).get(s,a=u&rt.Optional&&a===gs?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[la]=y[la]||[]).unshift(ae(s)),h)throw y;return function Dn(r,s,a,u){const h=r[la];throw s[k]&&h.unshift(s[k]),r.message=function ms(r,s,a,u=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let h=ae(s);if(Array.isArray(s))h=s.map(ae).join(" -> ");else if("object"==typeof s){let p=[];for(let y in s)if(s.hasOwnProperty(y)){let C=s[y];p.push(y+":"+("string"==typeof C?JSON.stringify(C):ae(C)))}h=`{${p.join(", ")}}`}return`${a}${u?"("+u+")":""}[${h}]: ${r.replace(w,"\n  ")}`}("\n"+r.message,h,a,u),r.ngTokenPath=h,r[la]=null,r}(y,s,"R3InjectorError",this.source)}throw y}finally{gn(p),ie(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((u,h)=>s.push(ae(h))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Me(205,!1)}processInjectorType(s,a,u){if(!(s=X(s)))return!1;let h=si(s);const p=null==h&&s.ngModule||void 0,y=void 0===p?s:p,C=-1!==u.indexOf(y);if(void 0!==p&&(h=si(p)),null==h)return!1;if(null!=h.imports&&!C){let M;u.push(y);try{Li(h.imports,N=>{this.processInjectorType(N,a,u)&&(void 0===M&&(M=[]),M.push(N))})}finally{}if(void 0!==M)for(let N=0;N<M.length;N++){const{ngModule:H,providers:K}=M[N];Li(K,ve=>this.processProvider(ve,H,K||B))}}this.injectorDefTypes.add(y);const E=xi(y)||(()=>new y);this.records.set(y,uu(E,Vf));const T=h.providers;if(null!=T&&!C){const M=s;Li(T,N=>this.processProvider(N,M,T))}return void 0!==p&&void 0!==s.providers}processProvider(s,a,u){let h=Vd(s=X(s))?s:X(s&&s.provide);const p=function JT(r,s,a){return Y0(r)?uu(void 0,r.useValue):uu(Bv(r),Vf)}(s);if(Vd(s)||!0!==s.multi)this.records.get(h);else{let y=this.records.get(h);y||(y=uu(void 0,Vf,!0),y.factory=()=>jt(y.multi),this.records.set(h,y)),h=s,y.multi.push(s)}this.records.set(h,p)}hydrate(s,a){return a.value===Vf&&(a.value=KT,a.value=a.factory()),"object"==typeof a.value&&a.value&&function rA(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=X(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Lv(r){const s=Tt(r),a=null!==s?s.factory:xi(r);if(null!==a)return a;if(r instanceof hn)throw new Me(204,!1);if(r instanceof Function)return function XT(r){const s=r.length;if(s>0)throw Yi(s,"?"),new Me(204,!1);const a=function Ti(r){const s=r&&(r[ar]||r[gi]);if(s){const a=function $n(r){if(r.hasOwnProperty("name"))return r.name;const s=(""+r).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(r);return null!==a?()=>a.factory(r):()=>new r}(r);throw new Me(204,!1)}function Bv(r,s,a){let u;if(Vd(r)){const h=X(r);return xi(h)||Lv(h)}if(Y0(r))u=()=>X(r.useValue);else if(function tA(r){return!(!r||!r.useFactory)}(r))u=()=>r.useFactory(...jt(r.deps||[]));else if(function eA(r){return!(!r||!r.useExisting)}(r))u=()=>Oe(X(r.useExisting));else{const h=X(r&&(r.useClass||r.provide));if(!function iA(r){return!!r.deps}(r))return xi(h)||Lv(h);u=()=>new h(...jt(r.deps))}return u}function uu(r,s,a=!1){return{factory:r,value:s,multi:a?[]:void 0}}function Y0(r){return null!==r&&"object"==typeof r&&L in r}function Vd(r){return"function"==typeof r}let Do=(()=>{class r{static create(a,u){var h;if(Array.isArray(a))return q0({name:""},u,a,"");{const p=null!==(h=a.name)&&void 0!==h?h:"";return q0({name:p},a.parent,a.providers,p)}}}return r.THROW_IF_NOT_FOUND=gs,r.NULL=new $0,r.\u0275prov=zt({token:r,providedIn:"any",factory:()=>Oe(Pv)}),r.__NG_ELEMENT_ID__=-1,r})();function fA(r,s){xr(_d(r)[1],en())}function Hv(r){let s=function aw(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),a=!0;const u=[r];for(;s;){let h;if(ki(r))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Me(903,"");h=s.\u0275dir}if(h){if(a){u.push(h);const y=r;y.inputs=jv(r.inputs),y.declaredInputs=jv(r.declaredInputs),y.outputs=jv(r.outputs);const C=h.hostBindings;C&&_A(r,C);const E=h.viewQuery,T=h.contentQueries;if(E&&gA(r,E),T&&mA(r,T),J(r.inputs,h.inputs),J(r.declaredInputs,h.declaredInputs),J(r.outputs,h.outputs),ki(h)&&h.data.animation){const M=r.data;M.animation=(M.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const C=p[y];C&&C.ngInherit&&C(r),C===Hv&&(a=!1)}}s=Object.getPrototypeOf(s)}!function pA(r){let s=0,a=null;for(let u=r.length-1;u>=0;u--){const h=r[u];h.hostVars=s+=h.hostVars,h.hostAttrs=Un(h.hostAttrs,a=Un(a,h.hostAttrs))}}(u)}function jv(r){return r===oi?{}:r===B?[]:r}function gA(r,s){const a=r.viewQuery;r.viewQuery=a?(u,h)=>{s(u,h),a(u,h)}:s}function mA(r,s){const a=r.contentQueries;r.contentQueries=a?(u,h,p)=>{s(u,h,p),a(u,h,p)}:s}function _A(r,s){const a=r.hostBindings;r.hostBindings=a?(u,h)=>{s(u,h),a(u,h)}:s}let _m=null;function Ud(){if(!_m){const r=Et.Symbol;if(r&&r.iterator)_m=r.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const u=s[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(_m=u)}}}return _m}function Uf(r){return!!tl(r)&&(Array.isArray(r)||!(r instanceof Map)&&Ud()in r)}function tl(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function tr(r,s,a){return!Object.is(r[s],a)&&(r[s]=a,!0)}function Hf(r,s,a,u){const h=De();return tr(h,ur(),s)&&(wt(),ys(cn(),h,r,s,a,u)),Hf}function hu(r,s,a,u){return tr(r,ur(),a)?s+q(a)+u:ft}function ba(r,s,a,u,h,p){const C=function rc(r,s,a,u){const h=tr(r,s,a);return tr(r,s+1,u)||h}(r,function Zi(){return nt.lFrame.bindingIndex}(),a,h);return Mr(2),C?s+q(a)+u+q(h)+p:ft}function Em(r,s,a,u,h,p,y,C){const E=De(),T=wt(),M=r+20,N=T.firstCreatePass?function cw(r,s,a,u,h,p,y,C,E){const T=s.consts,M=tc(s,r,4,y||null,Ci(T,C));Bd(s,a,M,Ci(T,E)),xr(s,M);const N=M.tViews=ic(2,M,u,h,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T);return null!==s.queries&&(s.queries.template(s,M),N.queries=s.queries.embeddedTView(M)),M}(M,T,E,s,a,u,h,p,y):T.data[M];di(N,!1);const H=E[11].createComment("");If(T,E,H,N),fi(H,E),pm(E,E[M]=F0(H,E,H,N)),is(N)&&nc(T,E,N),null!=y&&cu(E,N,C)}function Wv(r){return Ar(function Oc(){return nt.lFrame.contextLView}(),20+r)}function Zd(r,s=rt.Default){const a=De();return null===a?Oe(r,s):us(en(),a,X(r),s)}function rb(){throw new Error("invalid")}function Tm(r,s,a){const u=De();return tr(u,ur(),s)&&Xn(wt(),cn(),u,r,s,u[11],a,!1),Tm}function sb(r,s,a,u,h){const y=h?"class":"style";G0(r,a,s.inputs[y],y,u)}function Am(r,s,a,u){const h=De(),p=wt(),y=20+r,C=h[11],E=h[y]=iu(C,s,function Lc(){return nt.lFrame.currentNamespace}()),T=p.firstCreatePass?function RA(r,s,a,u,h,p,y){const C=s.consts,T=tc(s,r,2,h,Ci(C,p));return Bd(s,a,T,Ci(C,y)),null!==T.attrs&&mm(T,T.attrs,!1),null!==T.mergedAttrs&&mm(T,T.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,T),T}(y,p,h,0,s,a,u):p.data[y];di(T,!0);const M=T.mergedAttrs;null!==M&&ze(C,E,M);const N=T.classes;null!==N&&Ys(C,E,N);const H=T.styles;return null!==H&&Hn(C,E,H),64!=(64&T.flags)&&If(p,h,E,T),0===function Go(){return nt.lFrame.elementDepthCount}()&&fi(E,h),function xc(){nt.lFrame.elementDepthCount++}(),is(T)&&(nc(p,h,T),Nf(p,T,h)),null!==u&&cu(h,T),Am}function Mm(){let r=en();Cl()?El():(r=r.parent,di(r,!1));const s=r;!function $o(){nt.lFrame.elementDepthCount--}();const a=wt();return a.firstCreatePass&&(xr(a,r),ml(r)&&a.queries.elementEnd(r)),null!=s.classesWithoutHost&&function Bc(r){return 0!=(16&r.flags)}(s)&&sb(a,s,De(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function rf(r){return 0!=(32&r.flags)}(s)&&sb(a,s,De(),s.stylesWithoutHost,!1),Mm}function ob(r,s,a,u){return Am(r,s,a,u),Mm(),ob}function Yd(r,s,a){const u=De(),h=wt(),p=r+20,y=h.firstCreatePass?function ab(r,s,a,u,h){const p=s.consts,y=Ci(p,u),C=tc(s,r,8,"ng-container",y);return null!==y&&mm(C,y,!0),Bd(s,a,C,Ci(p,h)),null!==s.queries&&s.queries.elementStart(s,C),C}(p,h,u,s,a):h.data[p];di(y,!0);const C=u[p]=u[11].createComment("");return If(h,u,C,y),fi(C,u),is(y)&&(nc(h,u,y),Nf(h,y,u)),null!=a&&cu(u,y),Yd}function $f(){let r=en();const s=wt();return Cl()?El():(r=r.parent,di(r,!1)),s.firstCreatePass&&(xr(s,r),ml(r)&&s.queries.elementEnd(r)),$f}function km(){return De()}function rl(r){return!!r&&"function"==typeof r.then}function cb(r){return!!r&&"function"==typeof r.subscribe}const ub=cb;function xm(r,s,a,u){const h=De(),p=wt(),y=en();return Dw(p,h,h[11],y,r,s,!!a,u),xm}function Rm(r,s){const a=en(),u=De(),h=wt();return Dw(h,u,j0(Va(h.data),a,u),a,r,s,!1),Rm}function Dw(r,s,a,u,h,p,y,C){const E=is(u),M=r.firstCreatePass&&H0(r),N=s[8],H=U0(s);let K=!0;if(3&u.type||C){const Be=Fn(u,s),Ze=C?C(Be):Be,Te=H.length,ot=C?Mt=>C(Ut(Mt[u.index])):u.index;if(qt(a)){let Mt=null;if(!C&&E&&(Mt=function Om(r,s,a,u){const h=r.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===a&&h[p+1]===u){const C=s[7],E=h[p+2];return C.length>E?C[E]:null}"string"==typeof y&&(p+=2)}return null}(r,s,h,u.index)),null!==Mt)(Mt.__ngLastListenerFn__||Mt).__ngNextListenerFn__=p,Mt.__ngLastListenerFn__=p,K=!1;else{p=mu(u,s,N,p,!1);const Gt=a.listen(Ze,h,p);H.push(p,Gt),M&&M.push(h,ot,Te,Te+1)}}else p=mu(u,s,N,p,!0),Ze.addEventListener(h,p,y),H.push(p),M&&M.push(h,ot,Te,y)}else p=mu(u,s,N,p,!1);const ve=u.outputs;let Pe;if(K&&null!==ve&&(Pe=ve[h])){const Be=Pe.length;if(Be)for(let Ze=0;Ze<Be;Ze+=2){const Wr=s[Pe[Ze]][Pe[Ze+1]].subscribe(p),cl=H.length;H.push(p,Wr),M&&M.push(h,u.index,cl,-(cl+1))}}}function db(r,s,a,u){try{return!1!==a(u)}catch(h){return z0(r,h),!1}}function mu(r,s,a,u,h){return function p(y){if(y===Function)return u;const C=2&r.flags?Ln(r.index,s):s;0==(32&s[2])&&xv(C);let E=db(s,0,u,y),T=p.__ngNextListenerFn__;for(;T;)E=db(s,0,T,y)&&E,T=T.__ngNextListenerFn__;return h&&!1===E&&(y.preventDefault(),y.returnValue=!1),E}}function Wf(r=1){return function dr(r){return(nt.lFrame.contextLView=function Yu(r,s){for(;r>0;)s=s[15],r--;return s}(r,nt.lFrame.contextLView))[8]}(r)}function OA(r,s){let a=null;const u=function ov(r){const s=r.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(r);for(let h=0;h<s.length;h++){const p=s[h];if("*"!==p){if(null===u?sv(r,p,!0):av(u,p))return h}else a=h}return a}function Pm(r){const s=De()[16][6];if(!s.projection){const u=s.projection=Yi(r?r.length:1,null),h=u.slice();let p=s.child;for(;null!==p;){const y=r?OA(p,r):0;null!==y&&(h[y]?h[y].projectionNext=p:u[y]=p,h[y]=p),p=p.next}}}function Nm(r,s=0,a){const u=De(),h=wt(),p=tc(h,20+r,16,null,a||null);null===p.projection&&(p.projection=s),El(),64!=(64&p.flags)&&function Qn(r,s,a){Tf(s[11],0,s,a,Df(r,a,s),Xy(a.parent||s[6],a,s))}(h,u,p)}function Ca(r,s,a,u,h){const p=r[a+1],y=null===s;let C=u?Qs(p):va(p),E=!1;for(;0!==C&&(!1===E||y);){const M=r[C+1];NA(r[C],s)&&(E=!0,r[C+1]=u?au(M):om(M)),C=u?Qs(M):va(M)}E&&(r[a+1]=u?om(p):au(p))}function NA(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&Hs(r,s)>=0}const jn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Sw(r){return r.substring(jn.key,jn.keyEnd)}function Hm(r,s){const a=jn.textEnd;return a===s?-1:(s=jn.keyEnd=function Yf(r,s,a){for(;s<a&&r.charCodeAt(s)>32;)s++;return s}(r,jn.key=s,a),Dt(r,s,a))}function Dt(r,s,a){for(;s<a&&r.charCodeAt(s)<=32;)s++;return s}function zm(r,s,a){return Mo(r,s,a,!1),zm}function Gm(r,s){return Mo(r,s,null,!0),Gm}function Ao(r,s){for(let a=function FA(r){return function Zf(r){jn.key=0,jn.keyEnd=0,jn.value=0,jn.valueEnd=0,jn.textEnd=r.length}(r),Hm(r,Dt(r,0,jn.textEnd))}(s);a>=0;a=Hm(s,a))Mn(r,Sw(s),!0)}function Mo(r,s,a,u){const h=De(),p=wt(),y=Mr(2);p.firstUpdatePass&&_b(p,r,y,u),s!==ft&&tr(h,y,s)&&vb(p,p.data[Bn()],h,h[11],r,h[y+1]=function Fw(r,s){return null==r||("string"==typeof s?r+=s:"object"==typeof r&&(r=ae(Hr(r)))),r}(s,a),u,y)}function mb(r,s){return s>=r.expandoStartIndex}function _b(r,s,a,u){const h=r.data;if(null===h[a+1]){const p=h[Bn()],y=mb(r,a);Cb(p,u)&&null===s&&!y&&(s=!1),s=function kw(r,s,a,u){const h=Va(r);let p=u?s.residualClasses:s.residualStyles;if(null===h)0===(u?s.classBindings:s.styleBindings)&&(a=Qd(a=$m(null,r,s,a,u),s.attrs,u),p=null);else{const y=s.directiveStylingLast;if(-1===y||r[y]!==h)if(a=$m(h,r,s,a,u),null===p){let E=function xw(r,s,a){const u=a?s.classBindings:s.styleBindings;if(0!==va(u))return r[Qs(u)]}(r,s,u);void 0!==E&&Array.isArray(E)&&(E=$m(null,r,s,E[1],u),E=Qd(E,s.attrs,u),function Rw(r,s,a,u){r[Qs(a?s.classBindings:s.styleBindings)]=u}(r,s,u,E))}else p=function Ow(r,s,a){let u;const h=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<h;p++)u=Qd(u,r[p].hostAttrs,a);return Qd(u,s.attrs,a)}(r,s,u)}return void 0!==p&&(u?s.residualClasses=p:s.residualStyles=p),a}(h,p,s,u),function ol(r,s,a,u,h,p){let y=p?s.classBindings:s.styleBindings,C=Qs(y),E=va(y);r[u]=a;let M,T=!1;if(Array.isArray(a)){const N=a;M=N[1],(null===M||Hs(N,M)>0)&&(T=!0)}else M=a;if(h)if(0!==E){const H=Qs(r[C+1]);r[u+1]=sm(H,C),0!==H&&(r[H+1]=am(r[H+1],u)),r[C+1]=function kf(r,s){return 131071&r|s<<17}(r[C+1],u)}else r[u+1]=sm(C,0),0!==C&&(r[C+1]=am(r[C+1],u)),C=u;else r[u+1]=sm(E,0),0===C?C=u:r[E+1]=am(r[E+1],u),E=u;T&&(r[u+1]=om(r[u+1])),Ca(r,M,u,!0),Ca(r,M,u,!1),function PA(r,s,a,u,h){const p=h?r.residualClasses:r.residualStyles;null!=p&&"string"==typeof s&&Hs(p,s)>=0&&(a[u+1]=au(a[u+1]))}(s,M,r,u,p),y=sm(C,E),p?s.classBindings=y:s.styleBindings=y}(h,p,s,a,y,u)}}function $m(r,s,a,u,h){let p=null;const y=a.directiveEnd;let C=a.directiveStylingLast;for(-1===C?C=a.directiveStart:C++;C<y&&(p=s[C],u=Qd(u,p.hostAttrs,h),p!==r);)C++;return null!==r&&(a.directiveStylingLast=C),u}function Qd(r,s,a){const u=a?1:2;let h=-1;if(null!==s)for(let p=0;p<s.length;p++){const y=s[p];"number"==typeof y?h=y:h===u&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Mn(r,y,!!a||s[++p]))}return void 0===r?null:r}function vb(r,s,a,u,h,p,y,C){if(!(3&s.type))return;const E=r.data,T=E[C+1];Kf(function b0(r){return 1==(1&r)}(T)?bb(E,s,a,h,va(T),y):void 0)||(Kf(p)||function uv(r){return 2==(2&r)}(T)&&(p=bb(E,null,a,h,C,y)),function Af(r,s,a,u,h){const p=qt(r);if(s)h?p?r.addClass(a,u):a.classList.add(u):p?r.removeClass(a,u):a.classList.remove(u);else{let y=-1===u.indexOf("-")?void 0:he.DashCase;if(null==h)p?r.removeStyle(a,u,y):a.style.removeProperty(u);else{const C="string"==typeof h&&h.endsWith("!important");C&&(h=h.slice(0,-10),y|=he.Important),p?r.setStyle(a,u,h,y):a.style.setProperty(u,h,C?"important":"")}}}(u,y,Ms(Bn(),a),h,p))}function bb(r,s,a,u,h,p){const y=null===s;let C;for(;h>0;){const E=r[h],T=Array.isArray(E),M=T?E[1]:E,N=null===M;let H=a[h+1];H===ft&&(H=N?B:void 0);let K=N?Fl(H,u):M===u?H:void 0;if(T&&!Kf(K)&&(K=Fl(E,u)),Kf(K)&&(C=K,y))return C;const ve=r[h+1];h=y?Qs(ve):va(ve)}if(null!==s){let E=p?s.residualClasses:s.residualStyles;null!=E&&(C=Fl(E,u))}return C}function Kf(r){return void 0!==r}function Cb(r,s){return 0!=(r.flags&(s?16:32))}function Eb(r,s=""){const a=De(),u=wt(),h=r+20,p=u.firstCreatePass?tc(u,h,1,s,null):u.data[h],y=a[h]=function tu(r,s){return qt(r)?r.createText(s):r.createTextNode(s)}(a[11],s);If(u,a,y,p),di(p,!1)}function Wm(r){return Qf("",r,""),Wm}function Qf(r,s,a){const u=De(),h=hu(u,r,s,a);return h!==ft&&el(u,Bn(),h),Qf}function qm(r,s,a,u,h){const p=De(),y=ba(p,r,s,a,u,h);return y!==ft&&el(p,Bn(),y),qm}function Jf(r,s,a){!function Js(r,s,a,u){const h=wt(),p=Mr(2);h.firstUpdatePass&&_b(h,null,p,u);const y=De();if(a!==ft&&tr(y,p,a)){const C=h.data[Bn()];if(Cb(C,u)&&!mb(h,p)){let E=u?C.classesWithoutHost:C.stylesWithoutHost;null!==E&&(a=le(E,a||"")),sb(h,C,y,a,u)}else!function Nw(r,s,a,u,h,p,y,C){h===ft&&(h=B);let E=0,T=0,M=0<h.length?h[0]:null,N=0<p.length?p[0]:null;for(;null!==M||null!==N;){const H=E<h.length?h[E+1]:void 0,K=T<p.length?p[T+1]:void 0;let Pe,ve=null;M===N?(E+=2,T+=2,H!==K&&(ve=N,Pe=K)):null===N||null!==M&&M<N?(E+=2,ve=M):(T+=2,ve=N,Pe=K),null!==ve&&vb(r,s,a,u,ve,Pe,y,C),M=E<h.length?h[E]:null,N=T<p.length?p[T]:null}}(h,C,y,y[11],y[p+1],y[p+1]=function Pw(r,s,a){if(null==a||""===a)return B;const u=[],h=Hr(a);if(Array.isArray(h))for(let p=0;p<h.length;p++)r(u,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&r(u,p,h[p]);else"string"==typeof h&&s(u,h);return u}(r,s,a),u,p)}}(Mn,Ao,hu(De(),r,s,a),!0)}function np(r,s,a){const u=De();return tr(u,ur(),s)&&Xn(wt(),cn(),u,r,s,u[11],a,!0),np}function th(r,s,a){const u=De();if(tr(u,ur(),s)){const p=wt(),y=cn();Xn(p,y,u,r,s,j0(Va(p.data),y,u),a,!0)}return th}const Gr=void 0;var ip=["en",[["a","p"],["AM","PM"],Gr],[["AM","PM"],Gr,Gr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Gr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Gr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Gr,"{1} 'at' {0}",Gr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function t_(r){const a=Math.floor(Math.abs(r)),u=r.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let yu={};function rp(r){const s=function ih(r){return r.toLowerCase().replace(/_/g,"-")}(r);let a=i_(s);if(a)return a;const u=s.split("-")[0];if(a=i_(u),a)return a;if("en"===u)return ip;throw new Error(`Missing locale data for the locale "${r}".`)}function n_(r){return rp(r)[tt.PluralCase]}function i_(r){return r in yu||(yu[r]=Et.ng&&Et.ng.common&&Et.ng.common.locales&&Et.ng.common.locales[r]),yu[r]}var tt=(()=>((tt=tt||{})[tt.LocaleId=0]="LocaleId",tt[tt.DayPeriodsFormat=1]="DayPeriodsFormat",tt[tt.DayPeriodsStandalone=2]="DayPeriodsStandalone",tt[tt.DaysFormat=3]="DaysFormat",tt[tt.DaysStandalone=4]="DaysStandalone",tt[tt.MonthsFormat=5]="MonthsFormat",tt[tt.MonthsStandalone=6]="MonthsStandalone",tt[tt.Eras=7]="Eras",tt[tt.FirstDayOfWeek=8]="FirstDayOfWeek",tt[tt.WeekendRange=9]="WeekendRange",tt[tt.DateFormat=10]="DateFormat",tt[tt.TimeFormat=11]="TimeFormat",tt[tt.DateTimeFormat=12]="DateTimeFormat",tt[tt.NumberSymbols=13]="NumberSymbols",tt[tt.NumberFormats=14]="NumberFormats",tt[tt.CurrencyCode=15]="CurrencyCode",tt[tt.CurrencySymbol=16]="CurrencySymbol",tt[tt.CurrencyName=17]="CurrencyName",tt[tt.Currencies=18]="Currencies",tt[tt.Directionality=19]="Directionality",tt[tt.PluralCase=20]="PluralCase",tt[tt.ExtraData=21]="ExtraData",tt))();const rh="en-US";let Nb=rh;function mp(r,s,a,u,h){if(r=X(r),Array.isArray(r))for(let p=0;p<r.length;p++)mp(r[p],s,a,u,h);else{const p=wt(),y=De();let C=Vd(r)?r:X(r.provide),E=Bv(r);const T=en(),M=1048575&T.providerIndexes,N=T.directiveStart,H=T.providerIndexes>>20;if(Vd(r)||!r.multi){const K=new _o(E,h,Zd),ve=yr(C,s,h?M:M+H,N);-1===ve?(ti(Ht(T,y),p,C),_p(p,r,s.length),s.push(C),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),a.push(K),y.push(K)):(a[ve]=K,y[ve]=K)}else{const K=yr(C,s,M+H,N),ve=yr(C,s,M,M+H),Pe=K>=0&&a[K],Be=ve>=0&&a[ve];if(h&&!Be||!h&&!Pe){ti(Ht(T,y),p,C);const Ze=function iC(r,s,a,u,h){const p=new _o(r,a,Zd);return p.multi=[],p.index=s,p.componentProviders=0,y_(p,h,u&&!a),p}(h?uD:bu,a.length,h,u,E);!h&&Be&&(a[ve].providerFactory=Ze),_p(p,r,s.length,0),s.push(C),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),a.push(Ze),y.push(Ze)}else _p(p,r,K>-1?K:ve,y_(a[h?ve:K],E,!h&&u));!h&&u&&Be&&a[ve].componentProviders++}}}function _p(r,s,a,u){const h=Vd(s),p=function nA(r){return!!r.useClass}(s);if(h||p){const E=(p?X(s.useClass):s).prototype.ngOnDestroy;if(E){const T=r.destroyHooks||(r.destroyHooks=[]);if(!h&&s.multi){const M=T.indexOf(a);-1===M?T.push(a,[u,E]):T[M+1].push(u,E)}else T.push(a,E)}}}function y_(r,s,a){return a&&r.componentProviders++,r.multi.push(s)-1}function yr(r,s,a,u){for(let h=a;h<u;h++)if(s[h]===r)return h;return-1}function bu(r,s,a,u){return v_(this.multi,[])}function uD(r,s,a,u){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,C=Ei(a,a[1],this.providerFactory.index,u);p=C.slice(0,y),v_(h,p);for(let E=y;E<C.length;E++)p.push(C[E])}else p=[],v_(h,p);return p}function v_(r,s){for(let a=0;a<r.length;a++)s.push((0,r[a])());return s}function rC(r,s=[]){return a=>{a.providersResolver=(u,h)=>function cD(r,s,a){const u=wt();if(u.firstCreatePass){const h=ki(r);mp(a,u.data,u.blueprint,h,!0),mp(s,u.data,u.blueprint,h,!1)}}(u,h?h(r):r,s)}}class dh{}class hD{resolveComponentFactory(s){throw function dD(r){const s=Error(`No component factory found for ${ae(r)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=r,s}(s)}}let hh=(()=>{class r{}return r.NULL=new hD,r})();function fD(){return Cu(en(),De())}function Cu(r,s){return new fh(Fn(r,s))}let fh=(()=>{class r{constructor(a){this.nativeElement=a}}return r.__NG_ELEMENT_ID__=fD,r})();function pD(r){return r instanceof fh?r.nativeElement:r}class ph{}let lC=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function cC(){const r=De(),a=Ln(en().index,r);return function mD(r){return r[11]}(vi(a)?a:r)}(),r})(),_D=(()=>{class r{}return r.\u0275prov=zt({token:r,providedIn:"root",factory:()=>null}),r})();class uC{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const dC=new uC("13.2.6"),b_={};function yp(r,s,a,u,h=!1){for(;null!==a;){const p=s[a.index];if(null!==p&&u.push(Ut(p)),ci(p))for(let C=10;C<p.length;C++){const E=p[C],T=E[1].firstChild;null!==T&&yp(E[1],E,T,u)}const y=a.type;if(8&y)yp(r,s,a.child,u);else if(32&y){const C=qe(a,s);let E;for(;E=C();)u.push(E)}else if(16&y){const C=tv(s,a);if(Array.isArray(C))u.push(...C);else{const E=fn(s[16]);yp(E[1],E,C,u,!0)}}a=h?a.projectionNext:a.next}return u}class gh{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return yp(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(ci(s)){const a=s[8],u=a?a.indexOf(this):-1;u>-1&&(Yg(s,u),Us(a,u))}this._attachedToViewContainer=!1}Kg(this._lView[1],this._lView)}onDestroy(s){k0(this._lView[1],this._lView,null,s)}markForCheck(){xv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){gm(this._lView[1],this._lView,this.context)}checkNoChanges(){!function $T(r,s,a){go(!0);try{gm(r,s,a)}finally{go(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Me(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ef(r,s){Sf(r,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Me(902,"");this._appRef=s}}class ll extends gh{constructor(s){super(s),this._view=s}detectChanges(){B0(this._view)}checkNoChanges(){!function WT(r){go(!0);try{B0(r)}finally{go(!1)}}(this._view)}get context(){return null}}class C_ extends hh{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=In(s);return new hC(a,this.ngModule)}}function E_(r){const s=[];for(let a in r)r.hasOwnProperty(a)&&s.push({propName:r[a],templateName:a});return s}class hC extends dh{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function yT(r){return r.map(y0).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return E_(this.componentDef.inputs)}get outputs(){return E_(this.componentDef.outputs)}create(s,a,u,h){const p=(h=h||this.ngModule)?function vD(r,s){return{get:(a,u,h)=>{const p=r.get(a,b_,h);return p!==b_||u===b_?p:s.get(a,u,h)}}}(s,h.injector):s,y=p.get(ph,Ho),C=p.get(_D,null),E=y.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",M=u?function M0(r,s,a){if(qt(r))return r.selectRootElement(s,a===At.ShadowDom);let u="string"==typeof s?r.querySelector(s):s;return u.textContent="",u}(E,u,this.componentDef.encapsulation):iu(y.createRenderer(null,this.componentDef),T,function yD(r){const s=r.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(T)),N=this.componentDef.onPush?576:528,H=function ow(r,s){return{components:[],scheduler:r||$g,clean:qT,playerHandler:s||null,flags:0}}(),K=ic(0,null,null,1,0,null,null,null,null,null),ve=ec(null,K,H,N,null,null,y,E,C,p);let Pe,Be;xs(ve);try{const Ze=function rw(r,s,a,u,h,p){const y=a[1];a[20]=r;const E=tc(y,20,2,"#host",null),T=E.mergedAttrs=s.hostAttrs;null!==T&&(mm(E,T,!0),null!==r&&(ze(h,r,T),null!==E.classes&&Ys(h,r,E.classes),null!==E.styles&&Hn(h,r,E.styles)));const M=u.createRenderer(r,s),N=ec(a,Ev(s),null,s.onPush?64:16,a[20],E,u,M,p||null,null);return y.firstCreatePass&&(ti(Ht(E,a),y,s.type),Lf(y,E),Tv(E,a.length,1)),pm(a,N),a[20]=N}(M,this.componentDef,ve,y,E);if(M)if(u)ze(E,M,["ng-version",dC.full]);else{const{attrs:Te,classes:ot}=function v0(r){const s=[],a=[];let u=1,h=2;for(;u<r.length;){let p=r[u];if("string"==typeof p)2===h?""!==p&&s.push(p,r[++u]):8===h&&a.push(p);else{if(!Ks(h))break;h=p}u++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);Te&&ze(E,M,Te),ot&&ot.length>0&&Ys(E,M,ot.join(" "))}if(Be=ln(K,20),void 0!==a){const Te=Be.projection=[];for(let ot=0;ot<this.ngContentSelectors.length;ot++){const Mt=a[ot];Te.push(null!=Mt?Array.from(Mt):null)}}Pe=function sw(r,s,a,u,h){const p=a[1],y=function NT(r,s,a){const u=en();r.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Av(r,u,s,Fd(r,s,1,null),a));const h=Ei(s,r,u.directiveStart,u);fi(h,s);const p=Fn(u,s);return p&&fi(p,s),h}(p,a,s);if(u.components.push(y),r[8]=y,h&&h.forEach(E=>E(y,s)),s.contentQueries){const E=en();s.contentQueries(1,y,E.directiveStart)}const C=en();return!p.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(kr(C.index),Iv(a[1],C,0,C.directiveStart,C.directiveEnd,s),N0(s,y)),y}(Ze,this.componentDef,ve,H,[fA]),Pf(K,ve,null)}finally{mo()}return new bD(this.componentType,Pe,Cu(Be,ve),ve,Be)}}class bD extends class sC{}{constructor(s,a,u,h,p){super(),this.location=u,this._rootLView=h,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new ll(h),this.componentType=s}get injector(){return new Br(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class Eu{}class w_{}const mh=new Map;class DD extends Eu{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new C_(this);const u=Sn(s);this._bootstrapComponents=g(u.bootstrap),this._r3Injector=Z0(s,a,[{provide:Eu,useValue:this},{provide:hh,useValue:this.componentFactoryResolver}],ae(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=Do.THROW_IF_NOT_FOUND,u=rt.Default){return s===Do||s===Eu||s===Pv?this:this._r3Injector.get(s,a,u)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class _h extends w_{constructor(s){super(),this.moduleType=s,null!==Sn(s)&&function ED(r){const s=new Set;!function a(u){const h=Sn(u,!0),p=h.id;null!==p&&(function fC(r,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${r} - ${ae(s)} vs ${ae(s.name)}`)}(p,mh.get(p),u),mh.set(p,u));const y=g(h.imports);for(const C of y)s.has(C)||(s.add(C),a(C))}(r)}(s)}create(s){return new DD(this.moduleType,s)}}function vp(r,s,a,u){return SD(De(),Tn(),r,s,a,u)}function SD(r,s,a,u,h,p){const y=s+a;return tr(r,y,h)?function Xs(r,s,a){return r[s]=a}(r,y+1,p?u.call(p,h):u(h)):function bp(r,s){const a=r[s];return a===ft?void 0:a}(r,y+1)}function Cp(r,s){const a=wt();let u;const h=r+20;a.firstCreatePass?(u=function QA(r,s){if(s)for(let a=s.length-1;a>=0;a--){const u=s[a];if(r===u.name)return u}}(s,a.pipeRegistry),a.data[h]=u,u.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(h,u.onDestroy)):u=a.data[h];const p=u.factory||(u.factory=xi(u.type)),y=gn(Zd);try{const C=Oi(!1),E=p();return Oi(C),function uw(r,s,a,u){a>=r.data.length&&(r.data[a]=null,r.blueprint[a]=null),s[a]=u}(a,De(),h,E),E}finally{gn(y)}}function xD(r,s,a){const u=r+20,h=De(),p=Ar(h,u);return function bh(r,s){return r[1].data[s].pure}(h,u)?SD(h,Tn(),s,p.transform,a,p):p.transform(a)}function Ep(r){return s=>{setTimeout(r,void 0,s)}}const eo=class D_ extends c.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,u){var h,p,y;let C=s,E=a||(()=>null),T=u;if(s&&"object"==typeof s){const N=s;C=null===(h=N.next)||void 0===h?void 0:h.bind(N),E=null===(p=N.error)||void 0===p?void 0:p.bind(N),T=null===(y=N.complete)||void 0===y?void 0:y.bind(N)}this.__isAsync&&(E=Ep(E),C&&(C=Ep(C)),T&&(T=Ep(T)));const M=super.subscribe({next:C,error:E,complete:T});return s instanceof Q.w0&&s.add(M),M}};function OD(){return this._results[Ud()]()}class wp{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Ud(),u=wp.prototype;u[a]||(u[a]=OD)}get changes(){return this._changes||(this._changes=new eo)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const u=this;u.dirty=!1;const h=ni(s);(this._changesDetected=!function Rl(r,s,a){if(r.length!==s.length)return!1;for(let u=0;u<r.length;u++){let h=r[u],p=s[u];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(u._results,h,a))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Ch=(()=>{class r{}return r.__NG_ELEMENT_ID__=I_,r})();const PD=Ch,Eh=class extends PD{constructor(s,a,u){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(s){const a=this._declarationTContainer.tViews,u=ec(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(u[19]=p.createEmbeddedView(a)),Pf(a,u,s),new gh(u)}};function I_(){return Dp(en(),De())}function Dp(r,s){return 4&r.type?new Eh(s,r,Cu(r,s)):null}let Ip=(()=>{class r{}return r.__NG_ELEMENT_ID__=_C,r})();function _C(){return LD(en(),De())}const JA=Ip,ND=class extends JA{constructor(s,a,u){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=u}get element(){return Cu(this._hostTNode,this._hostLView)}get injector(){return new Br(this._hostTNode,this._hostLView)}get parentInjector(){const s=ja(this._hostTNode,this._hostLView);if(Vc(s)){const a=Pr(s,this._hostLView),u=Kt(s);return new Br(a[1].data[u+8],a)}return new Br(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=FD(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,u){const h=s.createEmbeddedView(a||{});return this.insert(h,u),h}createComponent(s,a,u,h,p){const y=s&&!function Vs(r){return"function"==typeof r}(s);let C;if(y)C=a;else{const N=a||{};C=N.index,u=N.injector,h=N.projectableNodes,p=N.ngModuleRef}const E=y?s:new hC(In(s)),T=u||this.parentInjector;if(!p&&null==E.ngModule){const H=(y?T:this.parentInjector).get(Eu,null);H&&(p=H)}const M=E.create(T,h,void 0,p);return this.insert(M.hostView,C),M}insert(s,a){const u=s._lView,h=u[1];if(function vl(r){return ci(r[3])}(u)){const M=this.indexOf(s);if(-1!==M)this.detach(M);else{const N=u[3],H=new ND(N,N[6],N[3]);H.detach(H.indexOf(s))}}const p=this._adjustIndex(a),y=this._lContainer;!function Zg(r,s,a,u){const h=10+u,p=a.length;u>0&&(a[h-1][4]=s),u<p-10?(s[4]=a[h],Ol(a,10+u,s)):(a.push(s),s[4]=null),s[3]=a;const y=s[17];null!==y&&a!==y&&function ru(r,s){const a=r[9];s[16]!==s[3][3][16]&&(r[2]=!0),null===a?r[9]=[s]:a.push(s)}(y,s);const C=s[19];null!==C&&C.insertView(r),s[2]|=128}(h,u,y,p);const C=tm(p,y),E=u[11],T=su(E,y[7]);return null!==T&&function Td(r,s,a,u,h,p){u[0]=h,u[6]=s,Sf(r,u,a,1,h,p)}(h,y[6],E,u,T,C),s.attachToViewContainerRef(),Ol(Sp(y),p,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=FD(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),u=Yg(this._lContainer,a);u&&(Us(Sp(this._lContainer),a),Kg(u[1],u))}detach(s){const a=this._adjustIndex(s,-1),u=Yg(this._lContainer,a);return u&&null!=Us(Sp(this._lContainer),a)?new gh(u):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function FD(r){return r[8]}function Sp(r){return r[8]||(r[8]=[])}function LD(r,s){let a;const u=s[r.index];if(ci(u))a=u;else{let h;if(8&r.type)h=Ut(u);else{const p=s[11];h=p.createComment("");const y=Fn(r,s);jr(p,su(p,y),h,function h0(r,s){return qt(r)?r.nextSibling(s):s.nextSibling}(p,y),!1)}s[r.index]=a=F0(u,s,h,r),pm(s,a)}return new ND(a,r,s)}class Tp{constructor(s){this.queryList=s,this.matches=null}clone(){return new Tp(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ap{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const u=null!==s.contentQueries?s.contentQueries[0]:a.length,h=[];for(let p=0;p<u;p++){const y=a.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new Ap(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==A_(s,a).matches&&this.queries[a].setDirty()}}class yC{constructor(s,a,u=null){this.predicate=s,this.flags=a,this.read=u}}class Mp{constructor(s=[]){this.queries=s}elementStart(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let u=0;u<this.length;u++){const h=null!==a?a.length:0,p=this.getByIndex(u).embeddedTView(s,h);p&&(p.indexInDeclarationView=u,null!==a?a.push(p):a=[p])}return null!==a?new Mp(a):null}template(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class S_{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new S_(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const p=u[h];this.matchTNodeWithReadOption(s,a,UD(a,p)),this.matchTNodeWithReadOption(s,a,Lr(a,s,p,!1,!1))}else u===Ch?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Lr(a,s,u,!1,!1))}matchTNodeWithReadOption(s,a,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===fh||h===Ip||h===Ch&&4&a.type)this.addMatch(a.index,-2);else{const p=Lr(a,s,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,u)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function UD(r,s){const a=r.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===s)return a[u+1];return null}function HD(r,s,a,u){return-1===a?function tM(r,s){return 11&r.type?Cu(r,s):4&r.type?Dp(r,s):null}(s,r):-2===a?function jD(r,s,a){return a===fh?Cu(s,r):a===Ch?Dp(s,r):a===Ip?LD(s,r):void 0}(r,s,u):Ei(r,r[1],a,s)}function vC(r,s,a,u){const h=s[19].queries[u];if(null===h.matches){const p=r.data,y=a.matches,C=[];for(let E=0;E<y.length;E+=2){const T=y[E];C.push(T<0?null:HD(s,p[T],y[E+1],a.metadata.read))}h.matches=C}return h.matches}function uc(r,s,a,u){const h=r.queries.getByIndex(a),p=h.matches;if(null!==p){const y=vC(r,s,h,a);for(let C=0;C<p.length;C+=2){const E=p[C];if(E>0)u.push(y[C/2]);else{const T=p[C+1],M=s[-E];for(let N=10;N<M.length;N++){const H=M[N];H[17]===H[3]&&uc(H[1],H,T,u)}if(null!==M[9]){const N=M[9];for(let H=0;H<N.length;H++){const K=N[H];uc(K[1],K,T,u)}}}}}return u}function zD(r){const s=De(),a=wt(),u=Xo();Dl(u+1);const h=A_(a,u);if(r.dirty&&po(s)===(2==(2&h.metadata.flags))){if(null===h.matches)r.reset([]);else{const p=h.crossesNgTemplate?uc(a,s,u,[]):vC(a,s,h,u);r.reset(p,pD),r.notifyOnChanges()}return!0}return!1}function kp(r,s,a){const u=wt();u.firstCreatePass&&(CC(u,new yC(r,s,a),-1),2==(2&s)&&(u.staticViewQueries=!0)),bC(u,De(),s)}function GD(r,s,a,u){const h=wt();if(h.firstCreatePass){const p=en();CC(h,new yC(s,a,u),p.index),function $D(r,s){const a=r.contentQueries||(r.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(r.queries.length-1,s)}(h,r),2==(2&a)&&(h.staticContentQueries=!0)}bC(h,De(),a)}function T_(){return function wu(r,s){return r[19].queries[s].queryList}(De(),Xo())}function bC(r,s,a){const u=new wp(4==(4&a));k0(r,s,u,u.destroy),null===s[19]&&(s[19]=new Ap),s[19].queries.push(new Tp(u))}function CC(r,s,a){null===r.queries&&(r.queries=new Mp),r.queries.track(new S_(s,a))}function A_(r,s){return r.queries.getByIndex(s)}function Pp(...r){}const kC=new hn("Application Initializer");let Np=(()=>{class r{constructor(a){this.appInits=a,this.resolve=Pp,this.reject=Pp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(rl(p))a.push(p);else if(ub(p)){const y=new Promise((C,E)=>{p.subscribe({complete:C,error:E})});a.push(y)}}Promise.all(a).then(()=>{u()}).catch(h=>{this.reject(h)}),0===a.length&&u(),this.initialized=!0}}return r.\u0275fac=function(a){return new(a||r)(Oe(kC,8))},r.\u0275prov=zt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const xC=new hn("AppId",{providedIn:"root",factory:function RC(){return`${V_()}${V_()}${V_()}`}});function V_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ji=new hn("Platform Initializer"),Ih=new hn("Platform ID"),U_=new hn("appBootstrapListener");let Fp=(()=>{class r{log(a){console.log(a)}warn(a){console.warn(a)}}return r.\u0275fac=function(a){return new(a||r)},r.\u0275prov=zt({token:r,factory:r.\u0275fac}),r})();const Sh=new hn("LocaleId",{providedIn:"root",factory:()=>mt(Sh,rt.Optional|rt.SkipSelf)||function Lp(){return"undefined"!=typeof $localize&&$localize.locale||rh}()}),H_=new hn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class nI{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let iI=(()=>{class r{compileModuleSync(a){return new _h(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),p=g(Sn(a).declarations).reduce((y,C)=>{const E=In(C);return E&&y.push(new hC(E)),y},[]);return new nI(u,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return r.\u0275fac=function(a){return new(a||r)},r.\u0275prov=zt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Bp=(()=>Promise.resolve(0))();function Vp(r){"undefined"==typeof Zone?Bp.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class no{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new eo(!1),this.onMicrotaskEmpty=new eo(!1),this.onStable=new eo(!1),this.onError=new eo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&a,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function sI(){let r=Et.requestAnimationFrame,s=Et.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&s){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function z_(r){const s=()=>{!function OC(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Et,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,Up(r),r.isCheckStableRunning=!0,j_(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),Up(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,h,p,y,C)=>{try{return Hp(r),a.invokeTask(h,p,y,C)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||r.shouldCoalesceRunChangeDetection)&&s(),G_(r)}},onInvoke:(a,u,h,p,y,C,E)=>{try{return Hp(r),a.invoke(h,p,y,C,E)}finally{r.shouldCoalesceRunChangeDetection&&s(),G_(r)}},onHasTask:(a,u,h,p)=>{a.hasTask(h,p),u===h&&("microTask"==p.change?(r._hasPendingMicrotasks=p.microTask,Up(r),j_(r)):"macroTask"==p.change&&(r.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,u,h,p)=>(a.handleError(h,p),r.runOutsideAngular(()=>r.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!no.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(no.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,u){return this._inner.run(s,a,u)}runTask(s,a,u,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,s,oI,Pp,Pp);try{return p.runTask(y,a,u)}finally{p.cancelTask(y)}}runGuarded(s,a,u){return this._inner.runGuarded(s,a,u)}runOutsideAngular(s){return this._outer.run(s)}}const oI={};function j_(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function Up(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function Hp(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function G_(r){r._nesting--,j_(r)}class Ah{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new eo,this.onMicrotaskEmpty=new eo,this.onStable=new eo,this.onError=new eo}run(s,a,u){return s.apply(a,u)}runGuarded(s,a,u){return s.apply(a,u)}runOutsideAngular(s){return s()}runTask(s,a,u,h){return s.apply(a,u)}}let PC=(()=>{class r{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{no.assertNotInAngularZone(),Vp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Vp(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,h){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,u,h){return[]}}return r.\u0275fac=function(a){return new(a||r)(Oe(no))},r.\u0275prov=zt({token:r,factory:r.\u0275fac}),r})(),jp=(()=>{class r{constructor(){this._applications=new Map,Mh.addToWindow(this)}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return Mh.findTestabilityInTree(this,a,u)}}return r.\u0275fac=function(a){return new(a||r)},r.\u0275prov=zt({token:r,factory:r.\u0275fac}),r})();class NC{addToWindow(s){}findTestabilityInTree(s,a,u){return null}}function aI(r){Mh=r}let bs,Mh=new NC;const BC=new hn("AllowMultipleToken");class cI{constructor(s,a){this.name=s,this.token=a}}function Gp(r,s,a=[]){const u=`Platform: ${s}`,h=new hn(u);return(p=[])=>{let y=W_();if(!y||y.injector.get(BC,!1))if(r)r(a.concat(p).concat({provide:h,useValue:!0}));else{const C=a.concat(p).concat({provide:h,useValue:!0},{provide:Nv,useValue:"platform"});!function zp(r){if(bs&&!bs.destroyed&&!bs.injector.get(BC,!1))throw new Me(400,"");bs=r.get(UC);const s=r.get(ji,null);s&&s.forEach(a=>a())}(Do.create({providers:C,name:u}))}return function $_(r){const s=W_();if(!s)throw new Me(401,"");return s}()}}function W_(){return bs&&!bs.destroyed?bs:null}let UC=(()=>{class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const C=function HC(r,s){let a;return a="noop"===r?new Ah:("zone.js"===r?void 0:r)||new no({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),E=[{provide:no,useValue:C}];return C.run(()=>{const T=Do.create({providers:E,parent:this.injector,name:a.moduleType.name}),M=a.create(T),N=M.injector.get(ri,null);if(!N)throw new Me(402,"");return C.runOutsideAngular(()=>{const H=C.onError.subscribe({next:K=>{N.handleError(K)}});M.onDestroy(()=>{Z_(this._modules,M),H.unsubscribe()})}),function $p(r,s,a){try{const u=a();return rl(u)?u.catch(h=>{throw s.runOutsideAngular(()=>r.handleError(h)),h}):u}catch(u){throw s.runOutsideAngular(()=>r.handleError(u)),u}}(N,C,()=>{const H=M.injector.get(Np);return H.runInitializers(),H.donePromise.then(()=>(function Hw(r){Ye(r,"Expected localeId to be defined"),"string"==typeof r&&(Nb=r.toLowerCase().replace(/_/g,"-"))}(M.injector.get(Sh,rh)||rh),this._moduleDoBootstrap(M),M))})})}bootstrapModule(a,u=[]){const h=jC({},u);return function FC(r,s,a){const u=new _h(a);return Promise.resolve(u)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(a){const u=a.injector.get(q_);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Me(403,"");a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Me(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(a){return new(a||r)(Oe(Do))},r.\u0275prov=zt({token:r,factory:r.\u0275fac}),r})();function jC(r,s){return Array.isArray(s)?s.reduce(jC,r):Object.assign(Object.assign({},r),s)}let q_=(()=>{class r{constructor(a,u,h,p,y){this._zone=a,this._injector=u,this._exceptionHandler=h,this._componentFactoryResolver=p,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new P.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),E=new P.y(T=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{no.assertNotInAngularZone(),Vp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{no.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{M.unsubscribe(),N.unsubscribe()}});this.isStable=(0,ue.T)(C,E.pipe((0,ee.B)()))}bootstrap(a,u){if(!this._initStatus.done)throw new Me(405,"");let h;h=a instanceof dh?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(h.componentType);const p=function lI(r){return r.isBoundToModule}(h)?void 0:this._injector.get(Eu),C=h.create(Do.NULL,[],u||h.selector,p),E=C.location.nativeElement,T=C.injector.get(PC,null),M=T&&C.injector.get(jp);return T&&M&&M.registerApplication(E,T),C.onDestroy(()=>{this.detachView(C.hostView),Z_(this.components,C),M&&M.unregisterApplication(E)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Me(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;Z_(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(U_,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(a){return new(a||r)(Oe(no),Oe(Do),Oe(ri),Oe(hh),Oe(Np))},r.\u0275prov=zt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Z_(r,s){const a=r.indexOf(s);a>-1&&r.splice(a,1)}let GC=!0,$C=!1;function dI(){return $C=!0,GC}function hI(){if($C)throw new Error("Cannot enable prod mode after platform setup.");GC=!1}let WC=(()=>{class r{}return r.__NG_ELEMENT_ID__=Q_,r})();function Q_(r){return function fI(r,s,a){if(xa(r)&&!a){const u=Ln(r.index,s);return new gh(u,u)}return 47&r.type?new gh(s[16],s):null}(en(),De(),16==(16&r))}class XC{constructor(){}supports(s){return Uf(s)}create(s){return new vI(s)}}const CM=(r,s)=>s;class vI{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||CM}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,u=this._removalsHead,h=0,p=null;for(;a||u;){const y=!u||a&&a.currentIndex<JC(u,h,p)?a:u,C=JC(y,h,p),E=y.currentIndex;if(y===u)h--,u=u._nextRemoved;else if(a=a._next,null==y.previousIndex)h++;else{p||(p=[]);const T=C-h,M=E-h;if(T!=M){for(let H=0;H<T;H++){const K=H<p.length?p[H]:p[H]=0,ve=K+H;M<=ve&&ve<T&&(p[H]=K+1)}p[y.previousIndex]=M-T}}C!==E&&s(y,C,E)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Uf(s))throw new Me(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,p,y,a=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let C=0;C<this.length;C++)p=s[C],y=this._trackByFn(C,p),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,p,y,C)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,C),u=!0),a=a._next}else h=0,function lw(r,s){if(Array.isArray(r))for(let a=0;a<r.length;a++)s(r[a]);else{const a=r[Ud()]();let u;for(;!(u=a.next()).done;)s(u.value)}}(s,C=>{y=this._trackByFn(h,C),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,C,y,h)),Object.is(a.item,C)||this._addIdentityChange(a,C)):(a=this._mismatch(a,C,y,h),u=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,u,h){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,h)):s=this._addAfter(new bI(a,u),p,h),s}_verifyReinsertion(s,a,u,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?s=this._reinsertAfter(p,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,p=s._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(s,a,u),this._addToMoves(s,u),s}_moveAfter(s,a,u){return this._unlink(s),this._insertAfter(s,a,u),this._addToMoves(s,u),s}_addAfter(s,a,u){return this._insertAfter(s,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,u){const h=null===a?this._itHead:a._next;return s._next=h,s._prev=a,null===h?this._itTail=s:h._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new CI),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,u=s._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new CI),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class bI{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class EM{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const a=s._prevDup,u=s._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class CI{constructor(){this.map=new Map}put(s){const a=s.trackById;let u=this.map.get(a);u||(u=new EM,this.map.set(a,u)),u.add(s)}get(s,a){const h=this.map.get(s);return h?h.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function JC(r,s,a){const u=r.previousIndex;if(null===u)return u;let h=0;return a&&u<a.length&&(h=a[u]),u+s+h}class EI{constructor(){}supports(s){return s instanceof Map||tl(s)}create(){return new wM}}class wM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||tl(s)))throw new Me(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,u);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const u=s._prev;return a._next=s,a._prev=u,s._prev=a,u&&(u._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,a);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const u=new DM(s);return this._records.set(s,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(u=>a(s[u],u))}}class DM{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function wI(){return new eE([new XC])}let eE=(()=>{class r{constructor(a){this.factories=a}static create(a,u){if(null!=u){const h=u.factories.slice();a=a.concat(h)}return new r(a)}static extend(a){return{provide:r,useFactory:u=>r.create(a,u||wI()),deps:[[r,new Qi,new pr]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(null!=u)return u;throw new Me(901,"")}}return r.\u0275prov=zt({token:r,providedIn:"root",factory:wI}),r})();function tE(){return new Zp([new EI])}let Zp=(()=>{class r{constructor(a){this.factories=a}static create(a,u){if(u){const h=u.factories.slice();a=a.concat(h)}return new r(a)}static extend(a){return{provide:r,useFactory:u=>r.create(a,u||tE()),deps:[[r,new Qi,new pr]]}}find(a){const u=this.factories.find(p=>p.supports(a));if(u)return u;throw new Me(901,"")}}return r.\u0275prov=zt({token:r,providedIn:"root",factory:tE}),r})();const rE=Gp(null,"core",[{provide:Ih,useValue:"unknown"},{provide:UC,deps:[Do]},{provide:jp,deps:[]},{provide:Fp,deps:[]}]);let Yp=(()=>{class r{constructor(a){}}return r.\u0275fac=function(a){return new(a||r)(Oe(q_))},r.\u0275mod=Xt({type:r}),r.\u0275inj=Nt({}),r})()},3942:(Ke,we,O)=>{"use strict";O.d(we,{Z:()=>Me});var c=O(2090),Q=O(4859),P=O(9681),ue=O(1877);class ee{constructor(q,de){this._delegate=q,this.firebase=de,(0,P._addComponent)(q,new Q.wA("app-compat",()=>this,"PUBLIC")),this.container=q.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(q){this._delegate.automaticDataCollectionEnabled=q}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(q=>{this._delegate.checkDestroyed(),q()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(q,de=P._DEFAULT_ENTRY_NAME){var Ae;this._delegate.checkDestroyed();const ke=this._delegate.container.getProvider(q);return!ke.isInitialized()&&"EXPLICIT"===(null===(Ae=ke.getComponent())||void 0===Ae?void 0:Ae.instantiationMode)&&ke.initialize(),ke.getImmediate({identifier:de})}_removeServiceInstance(q,de=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(q).clearInstance(de)}_addComponent(q){(0,P._addComponent)(this._delegate,q)}_addOrOverwriteComponent(q){(0,P._addOrOverwriteComponent)(this._delegate,q)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const J=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function le(){const Fe=function ae(Fe){const q={},de={__esModule:!0,initializeApp:function ce(He,re={}){const Y=P.initializeApp(He,re);if((0,c.r3)(q,Y.name))return q[Y.name];const se=new Fe(Y,de);return q[Y.name]=se,se},app:ke,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function be(He){const re=He.name,Y=re.replace("-compat","");if(P._registerComponent(He)&&"PUBLIC"===He.type){const se=(_e=ke())=>{if("function"!=typeof _e[Y])throw J.create("invalid-app-argument",{appName:re});return _e[Y]()};void 0!==He.serviceProps&&(0,c.ZB)(se,He.serviceProps),de[Y]=se,Fe.prototype[Y]=function(..._e){return this._getService.bind(this,re).apply(this,He.multipleInstances?_e:[])}}return"PUBLIC"===He.type?de[Y]:null},removeApp:function Ae(He){delete q[He]},useAsService:function Ue(He,re){return"serverAuth"===re?null:re},modularAPIs:P}};function ke(He){if(!(0,c.r3)(q,He=He||P._DEFAULT_ENTRY_NAME))throw J.create("no-app",{appName:He});return q[He]}return de.default=de,Object.defineProperty(de,"apps",{get:function me(){return Object.keys(q).map(He=>q[He])}}),ke.App=Fe,de}(ee);return Fe.INTERNAL=Object.assign(Object.assign({},Fe.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function q(de){(0,c.ZB)(Fe,de)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Fe}(),U=new ue.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Fe=self.firebase.SDK_VERSION;Fe&&Fe.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Me=j;!function Ie(Fe){(0,P.registerVersion)("@firebase/app-compat","0.1.19",Fe)}()},9681:(Ke,we,O)=>{"use strict";O.r(we),O.d(we,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>ar,_DEFAULT_ENTRY_NAME:()=>Ye,_addComponent:()=>On,_addOrOverwriteComponent:()=>zt,_apps:()=>rn,_clearComponents:()=>or,_components:()=>Pt,_getProvider:()=>Nt,_registerComponent:()=>Si,_removeServiceInstance:()=>Tt,deleteApp:()=>rt,getApp:()=>gi,getApps:()=>lr,initializeApp:()=>Xr,onLog:()=>gn,registerVersion:()=>sn,setLogLevel:()=>Jr});var c=O(5861),Q=O(4859),P=O(1877),ue=O(2090),ee=O(2940);class ge{constructor(ye){this.container=ye}getPlatformInfoString(){return this.container.getProviders().map(Ne=>{if(function J(Ee){const ye=Ee.getComponent();return"VERSION"===(null==ye?void 0:ye.type)}(Ne)){const We=Ne.getImmediate();return`${We.library}/${We.version}`}return null}).filter(Ne=>Ne).join(" ")}}const ae="@firebase/app",j=new P.Yd("@firebase/app"),Ye="[DEFAULT]",ct={[ae]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},rn=new Map,Pt=new Map;function On(Ee,ye){try{Ee.container.addComponent(ye)}catch(Ne){j.debug(`Component ${ye.name} failed to register with FirebaseApp ${Ee.name}`,Ne)}}function zt(Ee,ye){Ee.container.addOrOverwriteComponent(ye)}function Si(Ee){const ye=Ee.name;if(Pt.has(ye))return j.debug(`There were multiple attempts to register component ${ye}.`),!1;Pt.set(ye,Ee);for(const Ne of rn.values())On(Ne,Ee);return!0}function Nt(Ee,ye){const Ne=Ee.container.getProvider("heartbeat").getImmediate({optional:!0});return Ne&&Ne.triggerHeartbeat(),Ee.container.getProvider(ye)}function Tt(Ee,ye,Ne=Ye){Nt(Ee,ye).clearInstance(Ne)}function or(){Pt.clear()}const $n=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class si{constructor(ye,Ne,We){this._isDeleted=!1,this._options=Object.assign({},ye),this._config=Object.assign({},Ne),this._name=Ne.name,this._automaticDataCollectionEnabled=Ne.automaticDataCollectionEnabled,this._container=We,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this.checkDestroyed(),this._automaticDataCollectionEnabled=ye}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ye){this._isDeleted=ye}checkDestroyed(){if(this.isDeleted)throw $n.create("app-deleted",{appName:this._name})}}const ar="9.6.8";function Xr(Ee,ye={}){"object"!=typeof ye&&(ye={name:ye});const Ne=Object.assign({name:Ye,automaticDataCollectionEnabled:!1},ye),We=Ne.name;if("string"!=typeof We||!We)throw $n.create("bad-app-name",{appName:String(We)});const yt=rn.get(We);if(yt){if((0,ue.vZ)(Ee,yt.options)&&(0,ue.vZ)(Ne,yt.config))return yt;throw $n.create("duplicate-app",{appName:We})}const et=new Q.H0(We);for(const Xt of Pt.values())et.addComponent(Xt);const Lt=new si(Ee,Ne,et);return rn.set(We,Lt),Lt}function gi(Ee=Ye){const ye=rn.get(Ee);if(!ye)throw $n.create("no-app",{appName:Ee});return ye}function lr(){return Array.from(rn.values())}function rt(Ee){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,c.Z)(function*(Ee){const ye=Ee.name;rn.has(ye)&&(rn.delete(ye),yield Promise.all(Ee.container.getProviders().map(Ne=>Ne.delete())),Ee.isDeleted=!0)})).apply(this,arguments)}function sn(Ee,ye,Ne){var We;let yt=null!==(We=ct[Ee])&&void 0!==We?We:Ee;Ne&&(yt+=`-${Ne}`);const et=yt.match(/\s|\//),Lt=ye.match(/\s|\//);if(et||Lt){const Xt=[`Unable to register library "${yt}" with version "${ye}":`];return et&&Xt.push(`library name "${yt}" contains illegal characters (whitespace or "/")`),et&&Lt&&Xt.push("and"),Lt&&Xt.push(`version name "${ye}" contains illegal characters (whitespace or "/")`),void j.warn(Xt.join(" "))}Si(new Q.wA(`${yt}-version`,()=>({library:yt,version:ye}),"VERSION"))}function gn(Ee,ye){if(null!==Ee&&"function"!=typeof Ee)throw $n.create("invalid-log-argument");(0,P.Am)(Ee,ye)}function Jr(Ee){(0,P.Ub)(Ee)}const Jt="firebase-heartbeat-store";let Mi=null;function es(){return Mi||(Mi=(0,ee.openDb)("firebase-heartbeat-database",1,Ee=>{0===Ee.oldVersion&&Ee.createObjectStore(Jt)}).catch(Ee=>{throw $n.create("storage-open",{originalErrorMessage:Ee.message})})),Mi}function Qe(){return(Qe=(0,c.Z)(function*(Ee){try{return(yield es()).transaction(Jt).objectStore(Jt).get(br(Ee))}catch(ye){throw $n.create("storage-get",{originalErrorMessage:ye.message})}})).apply(this,arguments)}function at(Ee,ye){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,c.Z)(function*(Ee,ye){try{const We=(yield es()).transaction(Jt,"readwrite");return yield We.objectStore(Jt).put(ye,br(Ee)),We.complete}catch(Ne){throw $n.create("storage-set",{originalErrorMessage:Ne.message})}})).apply(this,arguments)}function Et(){return(Et=(0,c.Z)(function*(Ee){try{const Ne=(yield es()).transaction(Jt,"readwrite");return yield Ne.objectStore(Jt).delete(br(Ee)),Ne.complete}catch(ye){throw $n.create("storage-delete",{originalErrorMessage:ye.message})}})).apply(this,arguments)}function br(Ee){return`${Ee.name}!${Ee.options.appId}`}class B{constructor(ye){this.container=ye,this._heartbeatsCache=null;const Ne=this.container.getProvider("app").getImmediate();this._storage=new Ce(Ne),this._heartbeatsCachePromise=this._storage.read().then(We=>(this._heartbeatsCache=We,We))}triggerHeartbeat(){var ye=this;return(0,c.Z)(function*(){const We=ye.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),yt=function z(){return(new Date).toISOString().substring(0,10)}();if(null===ye._heartbeatsCache&&(ye._heartbeatsCache=yield ye._heartbeatsCachePromise),!ye._heartbeatsCache.some(et=>et.date===yt))return ye._heartbeatsCache.push({date:yt,userAgent:We}),ye._heartbeatsCache=ye._heartbeatsCache.filter(et=>{const Lt=new Date(et.date).valueOf();return Date.now()-Lt<=2592e6}),ye._storage.overwrite(ye._heartbeatsCache)})()}getHeartbeatsHeader(){var ye=this;return(0,c.Z)(function*(){if(null===ye._heartbeatsCache&&(yield ye._heartbeatsCachePromise),null===ye._heartbeatsCache)return"";const{heartbeatsToSend:Ne,unsentEntries:We}=function G(Ee,ye=1024){const Ne=[];let We=Ee.slice();for(const yt of Ee){const et=Ne.find(Lt=>Lt.userAgent===yt.userAgent);if(et){if(et.dates.push(yt.date),ne(Ne)>ye){et.dates.pop();break}}else if(Ne.push({userAgent:yt.userAgent,dates:[yt.date]}),ne(Ne)>ye){Ne.pop();break}We=We.slice(1)}return{heartbeatsToSend:Ne,unsentEntries:We}}(ye._heartbeatsCache),yt=(0,ue.h$)(JSON.stringify({version:2,heartbeats:Ne}));return We.length>0?(ye._heartbeatsCache=We,yield ye._storage.overwrite(ye._heartbeatsCache)):(ye._heartbeatsCache=null,ye._storage.deleteAll()),yt})()}}class Ce{constructor(ye){this.app=ye,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ue.hl)()&&(0,ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ye=this;return(0,c.Z)(function*(){if(yield ye._canUseIndexedDBPromise){const We=yield function At(Ee){return Qe.apply(this,arguments)}(ye.app);return(null==We?void 0:We.heartbeats)||[]}return[]})()}overwrite(ye){var Ne=this;return(0,c.Z)(function*(){if(yield Ne._canUseIndexedDBPromise)return at(Ne.app,{heartbeats:ye})})()}add(ye){var Ne=this;return(0,c.Z)(function*(){if(yield Ne._canUseIndexedDBPromise){const yt=yield Ne.read();return at(Ne.app,{heartbeats:[...yt,...ye]})}})()}delete(ye){var Ne=this;return(0,c.Z)(function*(){if(yield Ne._canUseIndexedDBPromise){const yt=yield Ne.read();return at(Ne.app,{heartbeats:yt.filter(et=>!ye.includes(et))})}})()}deleteAll(){var ye=this;return(0,c.Z)(function*(){if(yield ye._canUseIndexedDBPromise)return function qi(Ee){return Et.apply(this,arguments)}(ye.app)})()}}function ne(Ee){return(0,ue.h$)(JSON.stringify({version:2,heartbeats:Ee})).length}!function je(Ee){Si(new Q.wA("platform-logger",ye=>new ge(ye),"PRIVATE")),Si(new Q.wA("heartbeat",ye=>new B(ye),"PRIVATE")),sn(ae,"0.7.18",Ee),sn(ae,"0.7.18","esm2017"),sn("fire-js","")}("")},4859:(Ke,we,O)=>{"use strict";O.d(we,{wA:()=>P,H0:()=>ae,zt:()=>ee});var c=O(5861),Q=O(2090);class P{constructor(j,U,X){this.name=j,this.instanceFactory=U,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const ue="[DEFAULT]";class ee{constructor(j,U){this.name=j,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const U=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(U)){const X=new Q.BH;if(this.instancesDeferred.set(U,X),this.isInitialized(U)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:U});Ve&&X.resolve(Ve)}catch(Ve){}}return this.instancesDeferred.get(U).promise}getImmediate(j){var U;const X=this.normalizeInstanceIdentifier(null==j?void 0:j.identifier),Ve=null!==(U=null==j?void 0:j.optional)&&void 0!==U&&U;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(Ie){if(Ve)return null;throw Ie}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function J(le){return"EAGER"===le.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:ue})}catch(U){}for(const[U,X]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier(U);try{const Ie=this.getOrInitializeService({instanceIdentifier:Ve});X.resolve(Ie)}catch(Ie){}}}}clearInstance(j=ue){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,c.Z)(function*(){const U=Array.from(j.instances.values());yield Promise.all([...U.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...U.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=ue){return this.instances.has(j)}getOptions(j=ue){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:U={}}=j,X=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:X,options:U});for(const[Ie,Me]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(Ie)&&Me.resolve(Ve);return Ve}onInit(j,U){var X;const Ve=this.normalizeInstanceIdentifier(U),Ie=null!==(X=this.onInitCallbacks.get(Ve))&&void 0!==X?X:new Set;Ie.add(j),this.onInitCallbacks.set(Ve,Ie);const Me=this.instances.get(Ve);return Me&&j(Me,Ve),()=>{Ie.delete(j)}}invokeOnInitCallbacks(j,U){const X=this.onInitCallbacks.get(U);if(X)for(const Ve of X)try{Ve(j,U)}catch(Ie){}}getOrInitializeService({instanceIdentifier:j,options:U={}}){let X=this.instances.get(j);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(le=j,le===ue?void 0:le),options:U}),this.instances.set(j,X),this.instancesOptions.set(j,U),this.invokeOnInitCallbacks(X,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,X)}catch(Ve){}var le;return X||null}normalizeInstanceIdentifier(j=ue){return this.component?this.component.multipleInstances?j:ue:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ae{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const U=this.getProvider(j.name);if(U.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);U.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const U=new ee(j,this);return this.providers.set(j,U),U}getProviders(){return Array.from(this.providers.values())}}},1877:(Ke,we,O)=>{"use strict";O.d(we,{in:()=>Q,Yd:()=>J,Ub:()=>ae,Am:()=>le});const c=[];var Q=(()=>{return(j=Q||(Q={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",Q;var j})();const P={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},ue=Q.INFO,ee={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},ge=(j,U,...X)=>{if(U<j.logLevel)return;const Ve=(new Date).toISOString(),Ie=ee[U];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);console[Ie](`[${Ve}]  ${j.name}:`,...X)};class J{constructor(U){this.name=U,this._logLevel=ue,this._logHandler=ge,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in Q))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"==typeof U?P[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(...U){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...U),this._logHandler(this,Q.DEBUG,...U)}log(...U){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...U),this._logHandler(this,Q.VERBOSE,...U)}info(...U){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...U),this._logHandler(this,Q.INFO,...U)}warn(...U){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...U),this._logHandler(this,Q.WARN,...U)}error(...U){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...U),this._logHandler(this,Q.ERROR,...U)}}function ae(j){c.forEach(U=>{U.setLogLevel(j)})}function le(j,U){for(const X of c){let Ve=null;U&&U.level&&(Ve=P[U.level]),X.userLogHandler=null===j?null:(Ie,Me,...Fe)=>{const q=Fe.map(de=>{if(null==de)return null;if("string"==typeof de)return de;if("number"==typeof de||"boolean"==typeof de)return de.toString();if(de instanceof Error)return de.message;try{return JSON.stringify(de)}catch(Ae){return null}}).filter(de=>de).join(" ");Me>=(null!=Ve?Ve:Ie.logLevel)&&j({level:Q[Me].toLowerCase(),message:q,args:Fe,type:Ie.name})}}}},5861:(Ke,we,O)=>{"use strict";function c(P,ue,ee,ge,J,ae,le){try{var j=P[ae](le),U=j.value}catch(X){return void ee(X)}j.done?ue(U):Promise.resolve(U).then(ge,J)}function Q(P){return function(){var ue=this,ee=arguments;return new Promise(function(ge,J){var ae=P.apply(ue,ee);function le(U){c(ae,ge,J,le,j,"next",U)}function j(U){c(ae,ge,J,le,j,"throw",U)}le(void 0)})}}O.d(we,{Z:()=>Q})}},Ke=>{Ke(Ke.s=9201)}]);